function Qx(r,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in r)){const c=Object.getOwnPropertyDescriptor(i,o);c&&Object.defineProperty(r,o,c.get?c:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(o){if(o.ep)return;o.ep=!0;const c=t(o);fetch(o.href,c)}})();function ET(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var ug={exports:{}},dc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G0;function $x(){if(G0)return dc;G0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,o,c){var h=null;if(c!==void 0&&(h=""+c),o.key!==void 0&&(h=""+o.key),"key"in o){c={};for(var d in o)d!=="key"&&(c[d]=o[d])}else c=o;return o=c.ref,{$$typeof:r,type:i,key:h,ref:o!==void 0?o:null,props:c}}return dc.Fragment=e,dc.jsx=t,dc.jsxs=t,dc}var Y0;function Xx(){return Y0||(Y0=1,ug.exports=$x()),ug.exports}var E=Xx(),hg={exports:{}},Ne={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K0;function Wx(){if(K0)return Ne;K0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),w=Symbol.iterator;function T(U){return U===null||typeof U!="object"?null:(U=w&&U[w]||U["@@iterator"],typeof U=="function"?U:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,R={};function I(U,ie,ue){this.props=U,this.context=ie,this.refs=R,this.updater=ue||D}I.prototype.isReactComponent={},I.prototype.setState=function(U,ie){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,ie,"setState")},I.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function G(){}G.prototype=I.prototype;function ee(U,ie,ue){this.props=U,this.context=ie,this.refs=R,this.updater=ue||D}var X=ee.prototype=new G;X.constructor=ee,P(X,I.prototype),X.isPureReactComponent=!0;var re=Array.isArray,oe={H:null,A:null,T:null,S:null,V:null},fe=Object.prototype.hasOwnProperty;function M(U,ie,ue,se,me,Ie){return ue=Ie.ref,{$$typeof:r,type:U,key:ie,ref:ue!==void 0?ue:null,props:Ie}}function x(U,ie){return M(U.type,ie,void 0,void 0,void 0,U.props)}function C(U){return typeof U=="object"&&U!==null&&U.$$typeof===r}function k(U){var ie={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(ue){return ie[ue]})}var V=/\/+/g;function z(U,ie){return typeof U=="object"&&U!==null&&U.key!=null?k(""+U.key):ie.toString(36)}function N(){}function Me(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(N,N):(U.status="pending",U.then(function(ie){U.status==="pending"&&(U.status="fulfilled",U.value=ie)},function(ie){U.status==="pending"&&(U.status="rejected",U.reason=ie)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function Ye(U,ie,ue,se,me){var Ie=typeof U;(Ie==="undefined"||Ie==="boolean")&&(U=null);var Te=!1;if(U===null)Te=!0;else switch(Ie){case"bigint":case"string":case"number":Te=!0;break;case"object":switch(U.$$typeof){case r:case e:Te=!0;break;case v:return Te=U._init,Ye(Te(U._payload),ie,ue,se,me)}}if(Te)return me=me(U),Te=se===""?"."+z(U,0):se,re(me)?(ue="",Te!=null&&(ue=Te.replace(V,"$&/")+"/"),Ye(me,ie,ue,"",function(un){return un})):me!=null&&(C(me)&&(me=x(me,ue+(me.key==null||U&&U.key===me.key?"":(""+me.key).replace(V,"$&/")+"/")+Te)),ie.push(me)),1;Te=0;var ke=se===""?".":se+":";if(re(U))for(var We=0;We<U.length;We++)se=U[We],Ie=ke+z(se,We),Te+=Ye(se,ie,ue,Ie,me);else if(We=T(U),typeof We=="function")for(U=We.call(U),We=0;!(se=U.next()).done;)se=se.value,Ie=ke+z(se,We++),Te+=Ye(se,ie,ue,Ie,me);else if(Ie==="object"){if(typeof U.then=="function")return Ye(Me(U),ie,ue,se,me);throw ie=String(U),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return Te}function Q(U,ie,ue){if(U==null)return U;var se=[],me=0;return Ye(U,se,"","",function(Ie){return ie.call(ue,Ie,me++)}),se}function le(U){if(U._status===-1){var ie=U._result;ie=ie(),ie.then(function(ue){(U._status===0||U._status===-1)&&(U._status=1,U._result=ue)},function(ue){(U._status===0||U._status===-1)&&(U._status=2,U._result=ue)}),U._status===-1&&(U._status=0,U._result=ie)}if(U._status===1)return U._result.default;throw U._result}var ae=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)};function ze(){}return Ne.Children={map:Q,forEach:function(U,ie,ue){Q(U,function(){ie.apply(this,arguments)},ue)},count:function(U){var ie=0;return Q(U,function(){ie++}),ie},toArray:function(U){return Q(U,function(ie){return ie})||[]},only:function(U){if(!C(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},Ne.Component=I,Ne.Fragment=t,Ne.Profiler=o,Ne.PureComponent=ee,Ne.StrictMode=i,Ne.Suspense=g,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=oe,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(U){return oe.H.useMemoCache(U)}},Ne.cache=function(U){return function(){return U.apply(null,arguments)}},Ne.cloneElement=function(U,ie,ue){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var se=P({},U.props),me=U.key,Ie=void 0;if(ie!=null)for(Te in ie.ref!==void 0&&(Ie=void 0),ie.key!==void 0&&(me=""+ie.key),ie)!fe.call(ie,Te)||Te==="key"||Te==="__self"||Te==="__source"||Te==="ref"&&ie.ref===void 0||(se[Te]=ie[Te]);var Te=arguments.length-2;if(Te===1)se.children=ue;else if(1<Te){for(var ke=Array(Te),We=0;We<Te;We++)ke[We]=arguments[We+2];se.children=ke}return M(U.type,me,void 0,void 0,Ie,se)},Ne.createContext=function(U){return U={$$typeof:h,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:c,_context:U},U},Ne.createElement=function(U,ie,ue){var se,me={},Ie=null;if(ie!=null)for(se in ie.key!==void 0&&(Ie=""+ie.key),ie)fe.call(ie,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(me[se]=ie[se]);var Te=arguments.length-2;if(Te===1)me.children=ue;else if(1<Te){for(var ke=Array(Te),We=0;We<Te;We++)ke[We]=arguments[We+2];me.children=ke}if(U&&U.defaultProps)for(se in Te=U.defaultProps,Te)me[se]===void 0&&(me[se]=Te[se]);return M(U,Ie,void 0,void 0,null,me)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(U){return{$$typeof:d,render:U}},Ne.isValidElement=C,Ne.lazy=function(U){return{$$typeof:v,_payload:{_status:-1,_result:U},_init:le}},Ne.memo=function(U,ie){return{$$typeof:p,type:U,compare:ie===void 0?null:ie}},Ne.startTransition=function(U){var ie=oe.T,ue={};oe.T=ue;try{var se=U(),me=oe.S;me!==null&&me(ue,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(ze,ae)}catch(Ie){ae(Ie)}finally{oe.T=ie}},Ne.unstable_useCacheRefresh=function(){return oe.H.useCacheRefresh()},Ne.use=function(U){return oe.H.use(U)},Ne.useActionState=function(U,ie,ue){return oe.H.useActionState(U,ie,ue)},Ne.useCallback=function(U,ie){return oe.H.useCallback(U,ie)},Ne.useContext=function(U){return oe.H.useContext(U)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(U,ie){return oe.H.useDeferredValue(U,ie)},Ne.useEffect=function(U,ie,ue){var se=oe.H;if(typeof ue=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return se.useEffect(U,ie)},Ne.useId=function(){return oe.H.useId()},Ne.useImperativeHandle=function(U,ie,ue){return oe.H.useImperativeHandle(U,ie,ue)},Ne.useInsertionEffect=function(U,ie){return oe.H.useInsertionEffect(U,ie)},Ne.useLayoutEffect=function(U,ie){return oe.H.useLayoutEffect(U,ie)},Ne.useMemo=function(U,ie){return oe.H.useMemo(U,ie)},Ne.useOptimistic=function(U,ie){return oe.H.useOptimistic(U,ie)},Ne.useReducer=function(U,ie,ue){return oe.H.useReducer(U,ie,ue)},Ne.useRef=function(U){return oe.H.useRef(U)},Ne.useState=function(U){return oe.H.useState(U)},Ne.useSyncExternalStore=function(U,ie,ue){return oe.H.useSyncExternalStore(U,ie,ue)},Ne.useTransition=function(){return oe.H.useTransition()},Ne.version="19.1.0",Ne}var Q0;function Mf(){return Q0||(Q0=1,hg.exports=Wx()),hg.exports}var L=Mf();const es=ET(L),bT=Qx({__proto__:null,default:es},[L]);var fg={exports:{}},mc={},dg={exports:{}},mg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $0;function Zx(){return $0||($0=1,function(r){function e(Q,le){var ae=Q.length;Q.push(le);e:for(;0<ae;){var ze=ae-1>>>1,U=Q[ze];if(0<o(U,le))Q[ze]=le,Q[ae]=U,ae=ze;else break e}}function t(Q){return Q.length===0?null:Q[0]}function i(Q){if(Q.length===0)return null;var le=Q[0],ae=Q.pop();if(ae!==le){Q[0]=ae;e:for(var ze=0,U=Q.length,ie=U>>>1;ze<ie;){var ue=2*(ze+1)-1,se=Q[ue],me=ue+1,Ie=Q[me];if(0>o(se,ae))me<U&&0>o(Ie,se)?(Q[ze]=Ie,Q[me]=ae,ze=me):(Q[ze]=se,Q[ue]=ae,ze=ue);else if(me<U&&0>o(Ie,ae))Q[ze]=Ie,Q[me]=ae,ze=me;else break e}}return le}function o(Q,le){var ae=Q.sortIndex-le.sortIndex;return ae!==0?ae:Q.id-le.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var h=Date,d=h.now();r.unstable_now=function(){return h.now()-d}}var g=[],p=[],v=1,w=null,T=3,D=!1,P=!1,R=!1,I=!1,G=typeof setTimeout=="function"?setTimeout:null,ee=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;function re(Q){for(var le=t(p);le!==null;){if(le.callback===null)i(p);else if(le.startTime<=Q)i(p),le.sortIndex=le.expirationTime,e(g,le);else break;le=t(p)}}function oe(Q){if(R=!1,re(Q),!P)if(t(g)!==null)P=!0,fe||(fe=!0,z());else{var le=t(p);le!==null&&Ye(oe,le.startTime-Q)}}var fe=!1,M=-1,x=5,C=-1;function k(){return I?!0:!(r.unstable_now()-C<x)}function V(){if(I=!1,fe){var Q=r.unstable_now();C=Q;var le=!0;try{e:{P=!1,R&&(R=!1,ee(M),M=-1),D=!0;var ae=T;try{t:{for(re(Q),w=t(g);w!==null&&!(w.expirationTime>Q&&k());){var ze=w.callback;if(typeof ze=="function"){w.callback=null,T=w.priorityLevel;var U=ze(w.expirationTime<=Q);if(Q=r.unstable_now(),typeof U=="function"){w.callback=U,re(Q),le=!0;break t}w===t(g)&&i(g),re(Q)}else i(g);w=t(g)}if(w!==null)le=!0;else{var ie=t(p);ie!==null&&Ye(oe,ie.startTime-Q),le=!1}}break e}finally{w=null,T=ae,D=!1}le=void 0}}finally{le?z():fe=!1}}}var z;if(typeof X=="function")z=function(){X(V)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,Me=N.port2;N.port1.onmessage=V,z=function(){Me.postMessage(null)}}else z=function(){G(V,0)};function Ye(Q,le){M=G(function(){Q(r.unstable_now())},le)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Q){Q.callback=null},r.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<Q?Math.floor(1e3/Q):5},r.unstable_getCurrentPriorityLevel=function(){return T},r.unstable_next=function(Q){switch(T){case 1:case 2:case 3:var le=3;break;default:le=T}var ae=T;T=le;try{return Q()}finally{T=ae}},r.unstable_requestPaint=function(){I=!0},r.unstable_runWithPriority=function(Q,le){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ae=T;T=Q;try{return le()}finally{T=ae}},r.unstable_scheduleCallback=function(Q,le,ae){var ze=r.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?ze+ae:ze):ae=ze,Q){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=ae+U,Q={id:v++,callback:le,priorityLevel:Q,startTime:ae,expirationTime:U,sortIndex:-1},ae>ze?(Q.sortIndex=ae,e(p,Q),t(g)===null&&Q===t(p)&&(R?(ee(M),M=-1):R=!0,Ye(oe,ae-ze))):(Q.sortIndex=U,e(g,Q),P||D||(P=!0,fe||(fe=!0,z()))),Q},r.unstable_shouldYield=k,r.unstable_wrapCallback=function(Q){var le=T;return function(){var ae=T;T=le;try{return Q.apply(this,arguments)}finally{T=ae}}}}(mg)),mg}var X0;function Jx(){return X0||(X0=1,dg.exports=Zx()),dg.exports}var gg={exports:{}},sn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W0;function eR(){if(W0)return sn;W0=1;var r=Mf();function e(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(g,p,v){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:g,containerInfo:p,implementation:v}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,sn.createPortal=function(g,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return c(g,p,null,v)},sn.flushSync=function(g){var p=h.T,v=i.p;try{if(h.T=null,i.p=2,g)return g()}finally{h.T=p,i.p=v,i.d.f()}},sn.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(g,p))},sn.prefetchDNS=function(g){typeof g=="string"&&i.d.D(g)},sn.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var v=p.as,w=d(v,p.crossOrigin),T=typeof p.integrity=="string"?p.integrity:void 0,D=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?i.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:w,integrity:T,fetchPriority:D}):v==="script"&&i.d.X(g,{crossOrigin:w,integrity:T,fetchPriority:D,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},sn.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=d(p.as,p.crossOrigin);i.d.M(g,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(g)},sn.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,w=d(v,p.crossOrigin);i.d.L(g,v,{crossOrigin:w,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},sn.preloadModule=function(g,p){if(typeof g=="string")if(p){var v=d(p.as,p.crossOrigin);i.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(g)},sn.requestFormReset=function(g){i.d.r(g)},sn.unstable_batchedUpdates=function(g,p){return g(p)},sn.useFormState=function(g,p,v){return h.H.useFormState(g,p,v)},sn.useFormStatus=function(){return h.H.useHostTransitionStatus()},sn.version="19.1.0",sn}var Z0;function TT(){if(Z0)return gg.exports;Z0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),gg.exports=eR(),gg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J0;function tR(){if(J0)return mc;J0=1;var r=Jx(),e=Mf(),t=TT();function i(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function c(n){var s=n,a=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(a=s.return),n=s.return;while(n)}return s.tag===3?a:null}function h(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function d(n){if(c(n)!==n)throw Error(i(188))}function g(n){var s=n.alternate;if(!s){if(s=c(n),s===null)throw Error(i(188));return s!==n?null:n}for(var a=n,l=s;;){var f=a.return;if(f===null)break;var m=f.alternate;if(m===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===a)return d(f),n;if(m===l)return d(f),s;m=m.sibling}throw Error(i(188))}if(a.return!==l.return)a=f,l=m;else{for(var b=!1,S=f.child;S;){if(S===a){b=!0,a=f,l=m;break}if(S===l){b=!0,l=f,a=m;break}S=S.sibling}if(!b){for(S=m.child;S;){if(S===a){b=!0,a=m,l=f;break}if(S===l){b=!0,l=m,a=f;break}S=S.sibling}if(!b)throw Error(i(189))}}if(a.alternate!==l)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?n:s}function p(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=p(n),s!==null)return s;n=n.sibling}return null}var v=Object.assign,w=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),G=Symbol.for("react.provider"),ee=Symbol.for("react.consumer"),X=Symbol.for("react.context"),re=Symbol.for("react.forward_ref"),oe=Symbol.for("react.suspense"),fe=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function z(n){return n===null||typeof n!="object"?null:(n=V&&n[V]||n["@@iterator"],typeof n=="function"?n:null)}var N=Symbol.for("react.client.reference");function Me(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===N?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case P:return"Fragment";case I:return"Profiler";case R:return"StrictMode";case oe:return"Suspense";case fe:return"SuspenseList";case C:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case D:return"Portal";case X:return(n.displayName||"Context")+".Provider";case ee:return(n._context.displayName||"Context")+".Consumer";case re:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case M:return s=n.displayName||null,s!==null?s:Me(n.type)||"Memo";case x:s=n._payload,n=n._init;try{return Me(n(s))}catch{}}return null}var Ye=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},ze=[],U=-1;function ie(n){return{current:n}}function ue(n){0>U||(n.current=ze[U],ze[U]=null,U--)}function se(n,s){U++,ze[U]=n.current,n.current=s}var me=ie(null),Ie=ie(null),Te=ie(null),ke=ie(null);function We(n,s){switch(se(Te,s),se(Ie,n),se(me,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?_0(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=_0(s),n=E0(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ue(me),se(me,n)}function un(){ue(me),ue(Ie),ue(Te)}function Tn(n){n.memoizedState!==null&&se(ke,n);var s=me.current,a=E0(s,n.type);s!==a&&(se(Ie,n),se(me,a))}function wn(n){Ie.current===n&&(ue(me),ue(Ie)),ke.current===n&&(ue(ke),lc._currentValue=ae)}var Pn=Object.prototype.hasOwnProperty,Is=r.unstable_scheduleCallback,Ns=r.unstable_cancelCallback,sl=r.unstable_shouldYield,ou=r.unstable_requestPaint,Vn=r.unstable_now,ud=r.unstable_getCurrentPriorityLevel,al=r.unstable_ImmediatePriority,ka=r.unstable_UserBlockingPriority,Cs=r.unstable_NormalPriority,hd=r.unstable_LowPriority,Pa=r.unstable_IdlePriority,ol=r.log,lu=r.unstable_setDisableYieldValue,mt=null,Ze=null;function Sn(n){if(typeof ol=="function"&&lu(n),Ze&&typeof Ze.setStrictMode=="function")try{Ze.setStrictMode(mt,n)}catch{}}var nn=Math.clz32?Math.clz32:Ds,cu=Math.log,fd=Math.LN2;function Ds(n){return n>>>=0,n===0?32:31-(cu(n)/fd|0)|0}var Os=256,Ms=4194304;function Zn(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Va(n,s,a){var l=n.pendingLanes;if(l===0)return 0;var f=0,m=n.suspendedLanes,b=n.pingedLanes;n=n.warmLanes;var S=l&134217727;return S!==0?(l=S&~m,l!==0?f=Zn(l):(b&=S,b!==0?f=Zn(b):a||(a=S&~n,a!==0&&(f=Zn(a))))):(S=l&~m,S!==0?f=Zn(S):b!==0?f=Zn(b):a||(a=l&~n,a!==0&&(f=Zn(a)))),f===0?0:s!==0&&s!==f&&(s&m)===0&&(m=f&-f,a=s&-s,m>=a||m===32&&(a&4194048)!==0)?s:f}function ks(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function ll(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cl(){var n=Os;return Os<<=1,(Os&4194048)===0&&(Os=256),n}function ul(){var n=Ms;return Ms<<=1,(Ms&62914560)===0&&(Ms=4194304),n}function Ur(n){for(var s=[],a=0;31>a;a++)s.push(n);return s}function jr(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function hl(n,s,a,l,f,m){var b=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var S=n.entanglements,O=n.expirationTimes,H=n.hiddenUpdates;for(a=b&~a;0<a;){var W=31-nn(a),te=1<<W;S[W]=0,O[W]=-1;var Y=H[W];if(Y!==null)for(H[W]=null,W=0;W<Y.length;W++){var K=Y[W];K!==null&&(K.lane&=-536870913)}a&=~te}l!==0&&cr(n,l,0),m!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=m&~(b&~s))}function cr(n,s,a){n.pendingLanes|=s,n.suspendedLanes&=~s;var l=31-nn(s);n.entangledLanes|=s,n.entanglements[l]=n.entanglements[l]|1073741824|a&4194090}function fl(n,s){var a=n.entangledLanes|=s;for(n=n.entanglements;a;){var l=31-nn(a),f=1<<l;f&s|n[l]&s&&(n[l]|=s),a&=~f}}function wi(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function La(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Si(){var n=le.p;return n!==0?n:(n=window.event,n===void 0?32:j0(n.type))}function uu(n,s){var a=le.p;try{return le.p=n,s()}finally{le.p=a}}var ut=Math.random().toString(36).slice(2),Mt="__reactFiber$"+ut,St="__reactProps$"+ut,Ln="__reactContainer$"+ut,dl="__reactEvents$"+ut,dd="__reactListeners$"+ut,Ai="__reactHandles$"+ut,hu="__reactResources$"+ut,Ps="__reactMarker$"+ut;function xi(n){delete n[Mt],delete n[St],delete n[dl],delete n[dd],delete n[Ai]}function zr(n){var s=n[Mt];if(s)return s;for(var a=n.parentNode;a;){if(s=a[Ln]||a[Mt]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(n=S0(n);n!==null;){if(a=n[Mt])return a;n=S0(n)}return s}n=a,a=n.parentNode}return null}function ur(n){if(n=n[Mt]||n[Ln]){var s=n.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return n}return null}function hr(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(i(33))}function hn(n){var s=n[hu];return s||(s=n[hu]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function _t(n){n[Ps]=!0}var ml=new Set,Ua={};function Jn(n,s){Br(n,s),Br(n+"Capture",s)}function Br(n,s){for(Ua[n]=s,n=0;n<s.length;n++)ml.add(s[n])}var fu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),du={},Vs={};function mu(n){return Pn.call(Vs,n)?!0:Pn.call(du,n)?!1:fu.test(n)?Vs[n]=!0:(du[n]=!0,!1)}function Ri(n,s,a){if(mu(s))if(a===null)n.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+a)}}function fr(n,s,a){if(a===null)n.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+a)}}function Kt(n,s,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(s,a,""+l)}}var Ls,gu;function qr(n){if(Ls===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);Ls=s&&s[1]||"",gu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ls+n+gu}var ja=!1;function za(n,s){if(!n||ja)return"";ja=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(K){var Y=K}Reflect.construct(n,[],te)}else{try{te.call()}catch(K){Y=K}n.call(te.prototype)}}else{try{throw Error()}catch(K){Y=K}(te=n())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(K){if(K&&Y&&typeof K.stack=="string")return[K.stack,Y.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),b=m[0],S=m[1];if(b&&S){var O=b.split(`
`),H=S.split(`
`);for(f=l=0;l<O.length&&!O[l].includes("DetermineComponentFrameRoot");)l++;for(;f<H.length&&!H[f].includes("DetermineComponentFrameRoot");)f++;if(l===O.length||f===H.length)for(l=O.length-1,f=H.length-1;1<=l&&0<=f&&O[l]!==H[f];)f--;for(;1<=l&&0<=f;l--,f--)if(O[l]!==H[f]){if(l!==1||f!==1)do if(l--,f--,0>f||O[l]!==H[f]){var W=`
`+O[l].replace(" at new "," at ");return n.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",n.displayName)),W}while(1<=l&&0<=f);break}}}finally{ja=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?qr(a):""}function gl(n){switch(n.tag){case 26:case 27:case 5:return qr(n.type);case 16:return qr("Lazy");case 13:return qr("Suspense");case 19:return qr("SuspenseList");case 0:case 15:return za(n.type,!1);case 11:return za(n.type.render,!1);case 1:return za(n.type,!0);case 31:return qr("Activity");default:return""}}function Ba(n){try{var s="";do s+=gl(n),n=n.return;while(n);return s}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function fn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function pl(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function md(n){var s=pl(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,s),l=""+n[s];if(!n.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,m=a.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return f.call(this)},set:function(b){l=""+b,m.call(this,b)}}),Object.defineProperty(n,s,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(b){l=""+b},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function qa(n){n._valueTracker||(n._valueTracker=md(n))}function yl(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return n&&(l=pl(n)?n.checked?"true":"false":n.value),n=l,n!==a?(s.setValue(n),!0):!1}function Us(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var gd=/[\n"\\]/g;function At(n){return n.replace(gd,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function An(n,s,a,l,f,m,b,S){n.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?n.type=b:n.removeAttribute("type"),s!=null?b==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+fn(s)):n.value!==""+fn(s)&&(n.value=""+fn(s)):b!=="submit"&&b!=="reset"||n.removeAttribute("value"),s!=null?Ii(n,b,fn(s)):a!=null?Ii(n,b,fn(a)):l!=null&&n.removeAttribute("value"),f==null&&m!=null&&(n.defaultChecked=!!m),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?n.name=""+fn(S):n.removeAttribute("name")}function js(n,s,a,l,f,m,b,S){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(n.type=m),s!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||s!=null))return;a=a!=null?""+fn(a):"",s=s!=null?""+fn(s):a,S||s===n.value||(n.value=s),n.defaultValue=s}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=S?n.checked:!!l,n.defaultChecked=!!l,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(n.name=b)}function Ii(n,s,a){s==="number"&&Us(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function Fr(n,s,a,l){if(n=n.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=s.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&l&&(n[a].defaultSelected=!0)}else{for(a=""+fn(a),s=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,l&&(n[f].defaultSelected=!0);return}s!==null||n[f].disabled||(s=n[f])}s!==null&&(s.selected=!0)}}function nt(n,s,a){if(s!=null&&(s=""+fn(s),s!==n.value&&(n.value=s),a==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=a!=null?""+fn(a):""}function zs(n,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(i(92));if(Ye(l)){if(1<l.length)throw Error(i(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=fn(s),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l)}function Un(n,s){if(s){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=s;return}}n.textContent=s}var Bs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function pu(n,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":l?n.setProperty(s,a):typeof a!="number"||a===0||Bs.has(s)?s==="float"?n.cssFloat=a:n[s]=(""+a).trim():n[s]=a+"px"}function vl(n,s,a){if(s!=null&&typeof s!="object")throw Error(i(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var f in s)l=s[f],s.hasOwnProperty(f)&&a[f]!==l&&pu(n,f,l)}else for(var m in s)s.hasOwnProperty(m)&&pu(n,m,s[m])}function _l(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),yd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Fa(n){return yd.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Hr=null;function jn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Gr=null,Yr=null;function El(n){var s=ur(n);if(s&&(n=s.stateNode)){var a=n[St]||null;e:switch(n=s.stateNode,s.type){case"input":if(An(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+At(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==n&&l.form===n.form){var f=l[St]||null;if(!f)throw Error(i(90));An(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===n.form&&yl(l)}break e;case"textarea":nt(n,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&Fr(n,!!a.multiple,s,!1)}}}var dr=!1;function yu(n,s,a){if(dr)return n(s,a);dr=!0;try{var l=n(s);return l}finally{if(dr=!1,(Gr!==null||Yr!==null)&&(uh(),Gr&&(s=Gr,n=Yr,Yr=Gr=null,El(s),n)))for(s=0;s<n.length;s++)El(n[s])}}function qs(n,s){var a=n.stateNode;if(a===null)return null;var l=a[St]||null;if(l===null)return null;a=l[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(i(231,s,typeof a));return a}var er=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zn=!1;if(er)try{var Fs={};Object.defineProperty(Fs,"passive",{get:function(){zn=!0}}),window.addEventListener("test",Fs,Fs),window.removeEventListener("test",Fs,Fs)}catch{zn=!1}var mr=null,Ni=null,Kr=null;function bl(){if(Kr)return Kr;var n,s=Ni,a=s.length,l,f="value"in mr?mr.value:mr.textContent,m=f.length;for(n=0;n<a&&s[n]===f[n];n++);var b=a-n;for(l=1;l<=b&&s[a-l]===f[m-l];l++);return Kr=f.slice(n,1<l?1-l:void 0)}function gr(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function pr(){return!0}function Tl(){return!1}function zt(n){function s(a,l,f,m,b){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=m,this.target=b,this.currentTarget=null;for(var S in n)n.hasOwnProperty(S)&&(a=n[S],this[S]=a?a(m):m[S]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?pr:Tl,this.isPropagationStopped=Tl,this}return v(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=pr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=pr)},persist:function(){},isPersistent:pr}),s}var $e={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ha=zt($e),Hs=v({},$e,{view:0,detail:0}),vu=zt(Hs),Ga,Ya,yr,Gs=v({},Hs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qs,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==yr&&(yr&&n.type==="mousemove"?(Ga=n.screenX-yr.screenX,Ya=n.screenY-yr.screenY):Ya=Ga=0,yr=n),Ga)},movementY:function(n){return"movementY"in n?n.movementY:Ya}}),Bn=zt(Gs),_u=v({},Gs,{dataTransfer:0}),vd=zt(_u),Ys=v({},Hs,{relatedTarget:0}),Ka=zt(Ys),wl=v({},$e,{animationName:0,elapsedTime:0,pseudoElement:0}),Qa=zt(wl),Eu=v({},$e,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),$a=zt(Eu),_d=v({},$e,{data:0}),Sl=zt(_d),Ks={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Al(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=Tu[n])?!!s[n]:!1}function Qs(){return Al}var wu=v({},Hs,{key:function(n){if(n.key){var s=Ks[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=gr(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?bu[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qs,charCode:function(n){return n.type==="keypress"?gr(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?gr(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Xa=zt(wu),Su=v({},Gs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xl=zt(Su),Qr=v({},Hs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qs}),Au=zt(Qr),xu=v({},$e,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ru=zt(xu),Iu=v({},Gs,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Wa=zt(Iu),dn=v({},$e,{newState:0,oldState:0}),Nu=zt(dn),Cu=[9,13,27,32],vr=er&&"CompositionEvent"in window,u=null;er&&"documentMode"in document&&(u=document.documentMode);var y=er&&"TextEvent"in window&&!u,_=er&&(!vr||u&&8<u&&11>=u),A=" ",q=!1;function $(n,s){switch(n){case"keyup":return Cu.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ce(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Be=!1;function kt(n,s){switch(n){case"compositionend":return ce(s);case"keypress":return s.which!==32?null:(q=!0,A);case"textInput":return n=s.data,n===A&&q?null:n;default:return null}}function qe(n,s){if(Be)return n==="compositionend"||!vr&&$(n,s)?(n=bl(),Kr=Ni=mr=null,Be=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return _&&s.locale!=="ko"?null:s.data;default:return null}}var Bt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pt(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!Bt[n.type]:s==="textarea"}function $r(n,s,a,l){Gr?Yr?Yr.push(l):Yr=[l]:Gr=l,s=ph(s,"onChange"),0<s.length&&(a=new Ha("onChange","change",null,a,l),n.push({event:a,listeners:s}))}var Qt=null,_r=null;function Rl(n){m0(n,0)}function Du(n){var s=hr(n);if(yl(s))return n}function Py(n,s){if(n==="change")return s}var Vy=!1;if(er){var Ed;if(er){var bd="oninput"in document;if(!bd){var Ly=document.createElement("div");Ly.setAttribute("oninput","return;"),bd=typeof Ly.oninput=="function"}Ed=bd}else Ed=!1;Vy=Ed&&(!document.documentMode||9<document.documentMode)}function Uy(){Qt&&(Qt.detachEvent("onpropertychange",jy),_r=Qt=null)}function jy(n){if(n.propertyName==="value"&&Du(_r)){var s=[];$r(s,_r,n,jn(n)),yu(Rl,s)}}function SA(n,s,a){n==="focusin"?(Uy(),Qt=s,_r=a,Qt.attachEvent("onpropertychange",jy)):n==="focusout"&&Uy()}function AA(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Du(_r)}function xA(n,s){if(n==="click")return Du(s)}function RA(n,s){if(n==="input"||n==="change")return Du(s)}function IA(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var xn=typeof Object.is=="function"?Object.is:IA;function Il(n,s){if(xn(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var a=Object.keys(n),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!Pn.call(s,f)||!xn(n[f],s[f]))return!1}return!0}function zy(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function By(n,s){var a=zy(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=s&&l>=s)return{node:a,offset:s-n};n=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=zy(a)}}function qy(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?qy(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function Fy(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=Us(n.document);s instanceof n.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)n=s.contentWindow;else break;s=Us(n.document)}return s}function Td(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var NA=er&&"documentMode"in document&&11>=document.documentMode,Za=null,wd=null,Nl=null,Sd=!1;function Hy(n,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Sd||Za==null||Za!==Us(l)||(l=Za,"selectionStart"in l&&Td(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Nl&&Il(Nl,l)||(Nl=l,l=ph(wd,"onSelect"),0<l.length&&(s=new Ha("onSelect","select",null,s,a),n.push({event:s,listeners:l}),s.target=Za)))}function $s(n,s){var a={};return a[n.toLowerCase()]=s.toLowerCase(),a["Webkit"+n]="webkit"+s,a["Moz"+n]="moz"+s,a}var Ja={animationend:$s("Animation","AnimationEnd"),animationiteration:$s("Animation","AnimationIteration"),animationstart:$s("Animation","AnimationStart"),transitionrun:$s("Transition","TransitionRun"),transitionstart:$s("Transition","TransitionStart"),transitioncancel:$s("Transition","TransitionCancel"),transitionend:$s("Transition","TransitionEnd")},Ad={},Gy={};er&&(Gy=document.createElement("div").style,"AnimationEvent"in window||(delete Ja.animationend.animation,delete Ja.animationiteration.animation,delete Ja.animationstart.animation),"TransitionEvent"in window||delete Ja.transitionend.transition);function Xs(n){if(Ad[n])return Ad[n];if(!Ja[n])return n;var s=Ja[n],a;for(a in s)if(s.hasOwnProperty(a)&&a in Gy)return Ad[n]=s[a];return n}var Yy=Xs("animationend"),Ky=Xs("animationiteration"),Qy=Xs("animationstart"),CA=Xs("transitionrun"),DA=Xs("transitionstart"),OA=Xs("transitioncancel"),$y=Xs("transitionend"),Xy=new Map,xd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");xd.push("scrollEnd");function tr(n,s){Xy.set(n,s),Jn(s,[n])}var Wy=new WeakMap;function qn(n,s){if(typeof n=="object"&&n!==null){var a=Wy.get(n);return a!==void 0?a:(s={value:n,source:s,stack:Ba(s)},Wy.set(n,s),s)}return{value:n,source:s,stack:Ba(s)}}var Fn=[],eo=0,Rd=0;function Ou(){for(var n=eo,s=Rd=eo=0;s<n;){var a=Fn[s];Fn[s++]=null;var l=Fn[s];Fn[s++]=null;var f=Fn[s];Fn[s++]=null;var m=Fn[s];if(Fn[s++]=null,l!==null&&f!==null){var b=l.pending;b===null?f.next=f:(f.next=b.next,b.next=f),l.pending=f}m!==0&&Zy(a,f,m)}}function Mu(n,s,a,l){Fn[eo++]=n,Fn[eo++]=s,Fn[eo++]=a,Fn[eo++]=l,Rd|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function Id(n,s,a,l){return Mu(n,s,a,l),ku(n)}function to(n,s){return Mu(n,null,null,s),ku(n)}function Zy(n,s,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var f=!1,m=n.return;m!==null;)m.childLanes|=a,l=m.alternate,l!==null&&(l.childLanes|=a),m.tag===22&&(n=m.stateNode,n===null||n._visibility&1||(f=!0)),n=m,m=m.return;return n.tag===3?(m=n.stateNode,f&&s!==null&&(f=31-nn(a),n=m.hiddenUpdates,l=n[f],l===null?n[f]=[s]:l.push(s),s.lane=a|536870912),m):null}function ku(n){if(50<ec)throw ec=0,km=null,Error(i(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var no={};function MA(n,s,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(n,s,a,l){return new MA(n,s,a,l)}function Nd(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Xr(n,s){var a=n.alternate;return a===null?(a=Rn(n.tag,s,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=s,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,s=n.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function Jy(n,s){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,s=a.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function Pu(n,s,a,l,f,m){var b=0;if(l=n,typeof n=="function")Nd(n)&&(b=1);else if(typeof n=="string")b=Px(n,a,me.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case C:return n=Rn(31,a,s,f),n.elementType=C,n.lanes=m,n;case P:return Ws(a.children,f,m,s);case R:b=8,f|=24;break;case I:return n=Rn(12,a,s,f|2),n.elementType=I,n.lanes=m,n;case oe:return n=Rn(13,a,s,f),n.elementType=oe,n.lanes=m,n;case fe:return n=Rn(19,a,s,f),n.elementType=fe,n.lanes=m,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case G:case X:b=10;break e;case ee:b=9;break e;case re:b=11;break e;case M:b=14;break e;case x:b=16,l=null;break e}b=29,a=Error(i(130,n===null?"null":typeof n,"")),l=null}return s=Rn(b,a,s,f),s.elementType=n,s.type=l,s.lanes=m,s}function Ws(n,s,a,l){return n=Rn(7,n,l,s),n.lanes=a,n}function Cd(n,s,a){return n=Rn(6,n,null,s),n.lanes=a,n}function Dd(n,s,a){return s=Rn(4,n.children!==null?n.children:[],n.key,s),s.lanes=a,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var ro=[],io=0,Vu=null,Lu=0,Hn=[],Gn=0,Zs=null,Wr=1,Zr="";function Js(n,s){ro[io++]=Lu,ro[io++]=Vu,Vu=n,Lu=s}function ev(n,s,a){Hn[Gn++]=Wr,Hn[Gn++]=Zr,Hn[Gn++]=Zs,Zs=n;var l=Wr;n=Zr;var f=32-nn(l)-1;l&=~(1<<f),a+=1;var m=32-nn(s)+f;if(30<m){var b=f-f%5;m=(l&(1<<b)-1).toString(32),l>>=b,f-=b,Wr=1<<32-nn(s)+f|a<<f|l,Zr=m+n}else Wr=1<<m|a<<f|l,Zr=n}function Od(n){n.return!==null&&(Js(n,1),ev(n,1,0))}function Md(n){for(;n===Vu;)Vu=ro[--io],ro[io]=null,Lu=ro[--io],ro[io]=null;for(;n===Zs;)Zs=Hn[--Gn],Hn[Gn]=null,Zr=Hn[--Gn],Hn[Gn]=null,Wr=Hn[--Gn],Hn[Gn]=null}var mn=null,gt=null,Ke=!1,ea=null,Er=!1,kd=Error(i(519));function ta(n){var s=Error(i(418,""));throw Ol(qn(s,n)),kd}function tv(n){var s=n.stateNode,a=n.type,l=n.memoizedProps;switch(s[Mt]=n,s[St]=l,a){case"dialog":Ve("cancel",s),Ve("close",s);break;case"iframe":case"object":case"embed":Ve("load",s);break;case"video":case"audio":for(a=0;a<nc.length;a++)Ve(nc[a],s);break;case"source":Ve("error",s);break;case"img":case"image":case"link":Ve("error",s),Ve("load",s);break;case"details":Ve("toggle",s);break;case"input":Ve("invalid",s),js(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),qa(s);break;case"select":Ve("invalid",s);break;case"textarea":Ve("invalid",s),zs(s,l.value,l.defaultValue,l.children),qa(s)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||v0(s.textContent,a)?(l.popover!=null&&(Ve("beforetoggle",s),Ve("toggle",s)),l.onScroll!=null&&Ve("scroll",s),l.onScrollEnd!=null&&Ve("scrollend",s),l.onClick!=null&&(s.onclick=yh),s=!0):s=!1,s||ta(n)}function nv(n){for(mn=n.return;mn;)switch(mn.tag){case 5:case 13:Er=!1;return;case 27:case 3:Er=!0;return;default:mn=mn.return}}function Cl(n){if(n!==mn)return!1;if(!Ke)return nv(n),Ke=!0,!1;var s=n.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||Xm(n.type,n.memoizedProps)),a=!a),a&&gt&&ta(n),nv(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));e:{for(n=n.nextSibling,s=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(s===0){gt=rr(n.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++;n=n.nextSibling}gt=null}}else s===27?(s=gt,Gi(n.type)?(n=eg,eg=null,gt=n):gt=s):gt=mn?rr(n.stateNode.nextSibling):null;return!0}function Dl(){gt=mn=null,Ke=!1}function rv(){var n=ea;return n!==null&&(yn===null?yn=n:yn.push.apply(yn,n),ea=null),n}function Ol(n){ea===null?ea=[n]:ea.push(n)}var Pd=ie(null),na=null,Jr=null;function Ci(n,s,a){se(Pd,s._currentValue),s._currentValue=a}function ei(n){n._currentValue=Pd.current,ue(Pd)}function Vd(n,s,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),n===a)break;n=n.return}}function Ld(n,s,a,l){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var m=f.dependencies;if(m!==null){var b=f.child;m=m.firstContext;e:for(;m!==null;){var S=m;m=f;for(var O=0;O<s.length;O++)if(S.context===s[O]){m.lanes|=a,S=m.alternate,S!==null&&(S.lanes|=a),Vd(m.return,a,n),l||(b=null);break e}m=S.next}}else if(f.tag===18){if(b=f.return,b===null)throw Error(i(341));b.lanes|=a,m=b.alternate,m!==null&&(m.lanes|=a),Vd(b,a,n),b=null}else b=f.child;if(b!==null)b.return=f;else for(b=f;b!==null;){if(b===n){b=null;break}if(f=b.sibling,f!==null){f.return=b.return,b=f;break}b=b.return}f=b}}function Ml(n,s,a,l){n=null;for(var f=s,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var b=f.alternate;if(b===null)throw Error(i(387));if(b=b.memoizedProps,b!==null){var S=f.type;xn(f.pendingProps.value,b.value)||(n!==null?n.push(S):n=[S])}}else if(f===ke.current){if(b=f.alternate,b===null)throw Error(i(387));b.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(lc):n=[lc])}f=f.return}n!==null&&Ld(s,n,a,l),s.flags|=262144}function Uu(n){for(n=n.firstContext;n!==null;){if(!xn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function ra(n){na=n,Jr=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function rn(n){return iv(na,n)}function ju(n,s){return na===null&&ra(n),iv(n,s)}function iv(n,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},Jr===null){if(n===null)throw Error(i(308));Jr=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else Jr=Jr.next=s;return a}var kA=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){s.aborted=!0,n.forEach(function(a){return a()})}},PA=r.unstable_scheduleCallback,VA=r.unstable_NormalPriority,Vt={$$typeof:X,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ud(){return{controller:new kA,data:new Map,refCount:0}}function kl(n){n.refCount--,n.refCount===0&&PA(VA,function(){n.controller.abort()})}var Pl=null,jd=0,so=0,ao=null;function LA(n,s){if(Pl===null){var a=Pl=[];jd=0,so=Bm(),ao={status:"pending",value:void 0,then:function(l){a.push(l)}}}return jd++,s.then(sv,sv),s}function sv(){if(--jd===0&&Pl!==null){ao!==null&&(ao.status="fulfilled");var n=Pl;Pl=null,so=0,ao=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function UA(n,s){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){l.status="fulfilled",l.value=s;for(var f=0;f<a.length;f++)(0,a[f])(s)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var av=Q.S;Q.S=function(n,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&LA(n,s),av!==null&&av(n,s)};var ia=ie(null);function zd(){var n=ia.current;return n!==null?n:lt.pooledCache}function zu(n,s){s===null?se(ia,ia.current):se(ia,s.pool)}function ov(){var n=zd();return n===null?null:{parent:Vt._currentValue,pool:n}}var Vl=Error(i(460)),lv=Error(i(474)),Bu=Error(i(542)),Bd={then:function(){}};function cv(n){return n=n.status,n==="fulfilled"||n==="rejected"}function qu(){}function uv(n,s,a){switch(a=n[a],a===void 0?n.push(s):a!==s&&(s.then(qu,qu),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,fv(n),n;default:if(typeof s.status=="string")s.then(qu,qu);else{if(n=lt,n!==null&&100<n.shellSuspendCounter)throw Error(i(482));n=s,n.status="pending",n.then(function(l){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=l}},function(l){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,fv(n),n}throw Ll=s,Vl}}var Ll=null;function hv(){if(Ll===null)throw Error(i(459));var n=Ll;return Ll=null,n}function fv(n){if(n===Vl||n===Bu)throw Error(i(483))}var Di=!1;function qd(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Fd(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Oi(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Mi(n,s,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(Je&2)!==0){var f=l.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),l.pending=s,s=ku(n),Zy(n,null,a),s}return Mu(n,l,s,a),ku(n)}function Ul(n,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=n.pendingLanes,a|=l,s.lanes=a,fl(n,a)}}function Hd(n,s){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var b={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?f=m=b:m=m.next=b,a=a.next}while(a!==null);m===null?f=m=s:m=m.next=s}else f=m=s;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=s:n.next=s,a.lastBaseUpdate=s}var Gd=!1;function jl(){if(Gd){var n=ao;if(n!==null)throw n}}function zl(n,s,a,l){Gd=!1;var f=n.updateQueue;Di=!1;var m=f.firstBaseUpdate,b=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var O=S,H=O.next;O.next=null,b===null?m=H:b.next=H,b=O;var W=n.alternate;W!==null&&(W=W.updateQueue,S=W.lastBaseUpdate,S!==b&&(S===null?W.firstBaseUpdate=H:S.next=H,W.lastBaseUpdate=O))}if(m!==null){var te=f.baseState;b=0,W=H=O=null,S=m;do{var Y=S.lane&-536870913,K=Y!==S.lane;if(K?(Fe&Y)===Y:(l&Y)===Y){Y!==0&&Y===so&&(Gd=!0),W!==null&&(W=W.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var Ae=n,Ee=S;Y=s;var st=a;switch(Ee.tag){case 1:if(Ae=Ee.payload,typeof Ae=="function"){te=Ae.call(st,te,Y);break e}te=Ae;break e;case 3:Ae.flags=Ae.flags&-65537|128;case 0:if(Ae=Ee.payload,Y=typeof Ae=="function"?Ae.call(st,te,Y):Ae,Y==null)break e;te=v({},te,Y);break e;case 2:Di=!0}}Y=S.callback,Y!==null&&(n.flags|=64,K&&(n.flags|=8192),K=f.callbacks,K===null?f.callbacks=[Y]:K.push(Y))}else K={lane:Y,tag:S.tag,payload:S.payload,callback:S.callback,next:null},W===null?(H=W=K,O=te):W=W.next=K,b|=Y;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;K=S,S=K.next,K.next=null,f.lastBaseUpdate=K,f.shared.pending=null}}while(!0);W===null&&(O=te),f.baseState=O,f.firstBaseUpdate=H,f.lastBaseUpdate=W,m===null&&(f.shared.lanes=0),Bi|=b,n.lanes=b,n.memoizedState=te}}function dv(n,s){if(typeof n!="function")throw Error(i(191,n));n.call(s)}function mv(n,s){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)dv(a[n],s)}var oo=ie(null),Fu=ie(0);function gv(n,s){n=oi,se(Fu,n),se(oo,s),oi=n|s.baseLanes}function Yd(){se(Fu,oi),se(oo,oo.current)}function Kd(){oi=Fu.current,ue(oo),ue(Fu)}var ki=0,Ce=null,rt=null,xt=null,Hu=!1,lo=!1,sa=!1,Gu=0,Bl=0,co=null,jA=0;function Et(){throw Error(i(321))}function Qd(n,s){if(s===null)return!1;for(var a=0;a<s.length&&a<n.length;a++)if(!xn(n[a],s[a]))return!1;return!0}function $d(n,s,a,l,f,m){return ki=m,Ce=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Q.H=n===null||n.memoizedState===null?Zv:Jv,sa=!1,m=a(l,f),sa=!1,lo&&(m=yv(s,a,l,f)),pv(n),m}function pv(n){Q.H=Wu;var s=rt!==null&&rt.next!==null;if(ki=0,xt=rt=Ce=null,Hu=!1,Bl=0,co=null,s)throw Error(i(300));n===null||qt||(n=n.dependencies,n!==null&&Uu(n)&&(qt=!0))}function yv(n,s,a,l){Ce=n;var f=0;do{if(lo&&(co=null),Bl=0,lo=!1,25<=f)throw Error(i(301));if(f+=1,xt=rt=null,n.updateQueue!=null){var m=n.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}Q.H=YA,m=s(a,l)}while(lo);return m}function zA(){var n=Q.H,s=n.useState()[0];return s=typeof s.then=="function"?ql(s):s,n=n.useState()[0],(rt!==null?rt.memoizedState:null)!==n&&(Ce.flags|=1024),s}function Xd(){var n=Gu!==0;return Gu=0,n}function Wd(n,s,a){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~a}function Zd(n){if(Hu){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Hu=!1}ki=0,xt=rt=Ce=null,lo=!1,Bl=Gu=0,co=null}function gn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?Ce.memoizedState=xt=n:xt=xt.next=n,xt}function Rt(){if(rt===null){var n=Ce.alternate;n=n!==null?n.memoizedState:null}else n=rt.next;var s=xt===null?Ce.memoizedState:xt.next;if(s!==null)xt=s,rt=n;else{if(n===null)throw Ce.alternate===null?Error(i(467)):Error(i(310));rt=n,n={memoizedState:rt.memoizedState,baseState:rt.baseState,baseQueue:rt.baseQueue,queue:rt.queue,next:null},xt===null?Ce.memoizedState=xt=n:xt=xt.next=n}return xt}function Jd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ql(n){var s=Bl;return Bl+=1,co===null&&(co=[]),n=uv(co,n,s),s=Ce,(xt===null?s.memoizedState:xt.next)===null&&(s=s.alternate,Q.H=s===null||s.memoizedState===null?Zv:Jv),n}function Yu(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return ql(n);if(n.$$typeof===X)return rn(n)}throw Error(i(438,String(n)))}function em(n){var s=null,a=Ce.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=Ce.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=Jd(),Ce.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(n),l=0;l<n;l++)a[l]=k;return s.index++,a}function ti(n,s){return typeof s=="function"?s(n):s}function Ku(n){var s=Rt();return tm(s,rt,n)}function tm(n,s,a){var l=n.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=a;var f=n.baseQueue,m=l.pending;if(m!==null){if(f!==null){var b=f.next;f.next=m.next,m.next=b}s.baseQueue=f=m,l.pending=null}if(m=n.baseState,f===null)n.memoizedState=m;else{s=f.next;var S=b=null,O=null,H=s,W=!1;do{var te=H.lane&-536870913;if(te!==H.lane?(Fe&te)===te:(ki&te)===te){var Y=H.revertLane;if(Y===0)O!==null&&(O=O.next={lane:0,revertLane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),te===so&&(W=!0);else if((ki&Y)===Y){H=H.next,Y===so&&(W=!0);continue}else te={lane:0,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},O===null?(S=O=te,b=m):O=O.next=te,Ce.lanes|=Y,Bi|=Y;te=H.action,sa&&a(m,te),m=H.hasEagerState?H.eagerState:a(m,te)}else Y={lane:te,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},O===null?(S=O=Y,b=m):O=O.next=Y,Ce.lanes|=te,Bi|=te;H=H.next}while(H!==null&&H!==s);if(O===null?b=m:O.next=S,!xn(m,n.memoizedState)&&(qt=!0,W&&(a=ao,a!==null)))throw a;n.memoizedState=m,n.baseState=b,n.baseQueue=O,l.lastRenderedState=m}return f===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function nm(n){var s=Rt(),a=s.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=n;var l=a.dispatch,f=a.pending,m=s.memoizedState;if(f!==null){a.pending=null;var b=f=f.next;do m=n(m,b.action),b=b.next;while(b!==f);xn(m,s.memoizedState)||(qt=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),a.lastRenderedState=m}return[m,l]}function vv(n,s,a){var l=Ce,f=Rt(),m=Ke;if(m){if(a===void 0)throw Error(i(407));a=a()}else a=s();var b=!xn((rt||f).memoizedState,a);b&&(f.memoizedState=a,qt=!0),f=f.queue;var S=bv.bind(null,l,f,n);if(Fl(2048,8,S,[n]),f.getSnapshot!==s||b||xt!==null&&xt.memoizedState.tag&1){if(l.flags|=2048,uo(9,Qu(),Ev.bind(null,l,f,a,s),null),lt===null)throw Error(i(349));m||(ki&124)!==0||_v(l,s,a)}return a}function _v(n,s,a){n.flags|=16384,n={getSnapshot:s,value:a},s=Ce.updateQueue,s===null?(s=Jd(),Ce.updateQueue=s,s.stores=[n]):(a=s.stores,a===null?s.stores=[n]:a.push(n))}function Ev(n,s,a,l){s.value=a,s.getSnapshot=l,Tv(s)&&wv(n)}function bv(n,s,a){return a(function(){Tv(s)&&wv(n)})}function Tv(n){var s=n.getSnapshot;n=n.value;try{var a=s();return!xn(n,a)}catch{return!0}}function wv(n){var s=to(n,2);s!==null&&On(s,n,2)}function rm(n){var s=gn();if(typeof n=="function"){var a=n;if(n=a(),sa){Sn(!0);try{a()}finally{Sn(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ti,lastRenderedState:n},s}function Sv(n,s,a,l){return n.baseState=a,tm(n,rt,typeof l=="function"?l:ti)}function BA(n,s,a,l,f){if(Xu(n))throw Error(i(485));if(n=s.action,n!==null){var m={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){m.listeners.push(b)}};Q.T!==null?a(!0):m.isTransition=!1,l(m),a=s.pending,a===null?(m.next=s.pending=m,Av(s,m)):(m.next=a.next,s.pending=a.next=m)}}function Av(n,s){var a=s.action,l=s.payload,f=n.state;if(s.isTransition){var m=Q.T,b={};Q.T=b;try{var S=a(f,l),O=Q.S;O!==null&&O(b,S),xv(n,s,S)}catch(H){im(n,s,H)}finally{Q.T=m}}else try{m=a(f,l),xv(n,s,m)}catch(H){im(n,s,H)}}function xv(n,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Rv(n,s,l)},function(l){return im(n,s,l)}):Rv(n,s,a)}function Rv(n,s,a){s.status="fulfilled",s.value=a,Iv(s),n.state=a,s=n.pending,s!==null&&(a=s.next,a===s?n.pending=null:(a=a.next,s.next=a,Av(n,a)))}function im(n,s,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,Iv(s),s=s.next;while(s!==l)}n.action=null}function Iv(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function Nv(n,s){return s}function Cv(n,s){if(Ke){var a=lt.formState;if(a!==null){e:{var l=Ce;if(Ke){if(gt){t:{for(var f=gt,m=Er;f.nodeType!==8;){if(!m){f=null;break t}if(f=rr(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){gt=rr(f.nextSibling),l=f.data==="F!";break e}}ta(l)}l=!1}l&&(s=a[0])}}return a=gn(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nv,lastRenderedState:s},a.queue=l,a=$v.bind(null,Ce,l),l.dispatch=a,l=rm(!1),m=cm.bind(null,Ce,!1,l.queue),l=gn(),f={state:s,dispatch:null,action:n,pending:null},l.queue=f,a=BA.bind(null,Ce,f,m,a),f.dispatch=a,l.memoizedState=n,[s,a,!1]}function Dv(n){var s=Rt();return Ov(s,rt,n)}function Ov(n,s,a){if(s=tm(n,s,Nv)[0],n=Ku(ti)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=ql(s)}catch(b){throw b===Vl?Bu:b}else l=s;s=Rt();var f=s.queue,m=f.dispatch;return a!==s.memoizedState&&(Ce.flags|=2048,uo(9,Qu(),qA.bind(null,f,a),null)),[l,m,n]}function qA(n,s){n.action=s}function Mv(n){var s=Rt(),a=rt;if(a!==null)return Ov(s,a,n);Rt(),s=s.memoizedState,a=Rt();var l=a.queue.dispatch;return a.memoizedState=n,[s,l,!1]}function uo(n,s,a,l){return n={tag:n,create:a,deps:l,inst:s,next:null},s=Ce.updateQueue,s===null&&(s=Jd(),Ce.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,s.lastEffect=n),n}function Qu(){return{destroy:void 0,resource:void 0}}function kv(){return Rt().memoizedState}function $u(n,s,a,l){var f=gn();l=l===void 0?null:l,Ce.flags|=n,f.memoizedState=uo(1|s,Qu(),a,l)}function Fl(n,s,a,l){var f=Rt();l=l===void 0?null:l;var m=f.memoizedState.inst;rt!==null&&l!==null&&Qd(l,rt.memoizedState.deps)?f.memoizedState=uo(s,m,a,l):(Ce.flags|=n,f.memoizedState=uo(1|s,m,a,l))}function Pv(n,s){$u(8390656,8,n,s)}function Vv(n,s){Fl(2048,8,n,s)}function Lv(n,s){return Fl(4,2,n,s)}function Uv(n,s){return Fl(4,4,n,s)}function jv(n,s){if(typeof s=="function"){n=n();var a=s(n);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function zv(n,s,a){a=a!=null?a.concat([n]):null,Fl(4,4,jv.bind(null,s,n),a)}function sm(){}function Bv(n,s){var a=Rt();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&Qd(s,l[1])?l[0]:(a.memoizedState=[n,s],n)}function qv(n,s){var a=Rt();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&Qd(s,l[1]))return l[0];if(l=n(),sa){Sn(!0);try{n()}finally{Sn(!1)}}return a.memoizedState=[l,s],l}function am(n,s,a){return a===void 0||(ki&1073741824)!==0?n.memoizedState=s:(n.memoizedState=a,n=G_(),Ce.lanes|=n,Bi|=n,a)}function Fv(n,s,a,l){return xn(a,s)?a:oo.current!==null?(n=am(n,a,l),xn(n,s)||(qt=!0),n):(ki&42)===0?(qt=!0,n.memoizedState=a):(n=G_(),Ce.lanes|=n,Bi|=n,s)}function Hv(n,s,a,l,f){var m=le.p;le.p=m!==0&&8>m?m:8;var b=Q.T,S={};Q.T=S,cm(n,!1,s,a);try{var O=f(),H=Q.S;if(H!==null&&H(S,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var W=UA(O,l);Hl(n,s,W,Dn(n))}else Hl(n,s,l,Dn(n))}catch(te){Hl(n,s,{then:function(){},status:"rejected",reason:te},Dn())}finally{le.p=m,Q.T=b}}function FA(){}function om(n,s,a,l){if(n.tag!==5)throw Error(i(476));var f=Gv(n).queue;Hv(n,f,s,ae,a===null?FA:function(){return Yv(n),a(l)})}function Gv(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ti,lastRenderedState:ae},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ti,lastRenderedState:a},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function Yv(n){var s=Gv(n).next.queue;Hl(n,s,{},Dn())}function lm(){return rn(lc)}function Kv(){return Rt().memoizedState}function Qv(){return Rt().memoizedState}function HA(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var a=Dn();n=Oi(a);var l=Mi(s,n,a);l!==null&&(On(l,s,a),Ul(l,s,a)),s={cache:Ud()},n.payload=s;return}s=s.return}}function GA(n,s,a){var l=Dn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Xu(n)?Xv(s,a):(a=Id(n,s,a,l),a!==null&&(On(a,n,l),Wv(a,s,l)))}function $v(n,s,a){var l=Dn();Hl(n,s,a,l)}function Hl(n,s,a,l){var f={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Xu(n))Xv(s,f);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var b=s.lastRenderedState,S=m(b,a);if(f.hasEagerState=!0,f.eagerState=S,xn(S,b))return Mu(n,s,f,0),lt===null&&Ou(),!1}catch{}finally{}if(a=Id(n,s,f,l),a!==null)return On(a,n,l),Wv(a,s,l),!0}return!1}function cm(n,s,a,l){if(l={lane:2,revertLane:Bm(),action:l,hasEagerState:!1,eagerState:null,next:null},Xu(n)){if(s)throw Error(i(479))}else s=Id(n,a,l,2),s!==null&&On(s,n,2)}function Xu(n){var s=n.alternate;return n===Ce||s!==null&&s===Ce}function Xv(n,s){lo=Hu=!0;var a=n.pending;a===null?s.next=s:(s.next=a.next,a.next=s),n.pending=s}function Wv(n,s,a){if((a&4194048)!==0){var l=s.lanes;l&=n.pendingLanes,a|=l,s.lanes=a,fl(n,a)}}var Wu={readContext:rn,use:Yu,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useLayoutEffect:Et,useInsertionEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useSyncExternalStore:Et,useId:Et,useHostTransitionStatus:Et,useFormState:Et,useActionState:Et,useOptimistic:Et,useMemoCache:Et,useCacheRefresh:Et},Zv={readContext:rn,use:Yu,useCallback:function(n,s){return gn().memoizedState=[n,s===void 0?null:s],n},useContext:rn,useEffect:Pv,useImperativeHandle:function(n,s,a){a=a!=null?a.concat([n]):null,$u(4194308,4,jv.bind(null,s,n),a)},useLayoutEffect:function(n,s){return $u(4194308,4,n,s)},useInsertionEffect:function(n,s){$u(4,2,n,s)},useMemo:function(n,s){var a=gn();s=s===void 0?null:s;var l=n();if(sa){Sn(!0);try{n()}finally{Sn(!1)}}return a.memoizedState=[l,s],l},useReducer:function(n,s,a){var l=gn();if(a!==void 0){var f=a(s);if(sa){Sn(!0);try{a(s)}finally{Sn(!1)}}}else f=s;return l.memoizedState=l.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},l.queue=n,n=n.dispatch=GA.bind(null,Ce,n),[l.memoizedState,n]},useRef:function(n){var s=gn();return n={current:n},s.memoizedState=n},useState:function(n){n=rm(n);var s=n.queue,a=$v.bind(null,Ce,s);return s.dispatch=a,[n.memoizedState,a]},useDebugValue:sm,useDeferredValue:function(n,s){var a=gn();return am(a,n,s)},useTransition:function(){var n=rm(!1);return n=Hv.bind(null,Ce,n.queue,!0,!1),gn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,a){var l=Ce,f=gn();if(Ke){if(a===void 0)throw Error(i(407));a=a()}else{if(a=s(),lt===null)throw Error(i(349));(Fe&124)!==0||_v(l,s,a)}f.memoizedState=a;var m={value:a,getSnapshot:s};return f.queue=m,Pv(bv.bind(null,l,m,n),[n]),l.flags|=2048,uo(9,Qu(),Ev.bind(null,l,m,a,s),null),a},useId:function(){var n=gn(),s=lt.identifierPrefix;if(Ke){var a=Zr,l=Wr;a=(l&~(1<<32-nn(l)-1)).toString(32)+a,s=""+s+"R"+a,a=Gu++,0<a&&(s+="H"+a.toString(32)),s+=""}else a=jA++,s=""+s+"r"+a.toString(32)+"";return n.memoizedState=s},useHostTransitionStatus:lm,useFormState:Cv,useActionState:Cv,useOptimistic:function(n){var s=gn();s.memoizedState=s.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=cm.bind(null,Ce,!0,a),a.dispatch=s,[n,s]},useMemoCache:em,useCacheRefresh:function(){return gn().memoizedState=HA.bind(null,Ce)}},Jv={readContext:rn,use:Yu,useCallback:Bv,useContext:rn,useEffect:Vv,useImperativeHandle:zv,useInsertionEffect:Lv,useLayoutEffect:Uv,useMemo:qv,useReducer:Ku,useRef:kv,useState:function(){return Ku(ti)},useDebugValue:sm,useDeferredValue:function(n,s){var a=Rt();return Fv(a,rt.memoizedState,n,s)},useTransition:function(){var n=Ku(ti)[0],s=Rt().memoizedState;return[typeof n=="boolean"?n:ql(n),s]},useSyncExternalStore:vv,useId:Kv,useHostTransitionStatus:lm,useFormState:Dv,useActionState:Dv,useOptimistic:function(n,s){var a=Rt();return Sv(a,rt,n,s)},useMemoCache:em,useCacheRefresh:Qv},YA={readContext:rn,use:Yu,useCallback:Bv,useContext:rn,useEffect:Vv,useImperativeHandle:zv,useInsertionEffect:Lv,useLayoutEffect:Uv,useMemo:qv,useReducer:nm,useRef:kv,useState:function(){return nm(ti)},useDebugValue:sm,useDeferredValue:function(n,s){var a=Rt();return rt===null?am(a,n,s):Fv(a,rt.memoizedState,n,s)},useTransition:function(){var n=nm(ti)[0],s=Rt().memoizedState;return[typeof n=="boolean"?n:ql(n),s]},useSyncExternalStore:vv,useId:Kv,useHostTransitionStatus:lm,useFormState:Mv,useActionState:Mv,useOptimistic:function(n,s){var a=Rt();return rt!==null?Sv(a,rt,n,s):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:em,useCacheRefresh:Qv},ho=null,Gl=0;function Zu(n){var s=Gl;return Gl+=1,ho===null&&(ho=[]),uv(ho,n,s)}function Yl(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function Ju(n,s){throw s.$$typeof===w?Error(i(525)):(n=Object.prototype.toString.call(s),Error(i(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function e_(n){var s=n._init;return s(n._payload)}function t_(n){function s(B,j){if(n){var F=B.deletions;F===null?(B.deletions=[j],B.flags|=16):F.push(j)}}function a(B,j){if(!n)return null;for(;j!==null;)s(B,j),j=j.sibling;return null}function l(B){for(var j=new Map;B!==null;)B.key!==null?j.set(B.key,B):j.set(B.index,B),B=B.sibling;return j}function f(B,j){return B=Xr(B,j),B.index=0,B.sibling=null,B}function m(B,j,F){return B.index=F,n?(F=B.alternate,F!==null?(F=F.index,F<j?(B.flags|=67108866,j):F):(B.flags|=67108866,j)):(B.flags|=1048576,j)}function b(B){return n&&B.alternate===null&&(B.flags|=67108866),B}function S(B,j,F,Z){return j===null||j.tag!==6?(j=Cd(F,B.mode,Z),j.return=B,j):(j=f(j,F),j.return=B,j)}function O(B,j,F,Z){var ge=F.type;return ge===P?W(B,j,F.props.children,Z,F.key):j!==null&&(j.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===x&&e_(ge)===j.type)?(j=f(j,F.props),Yl(j,F),j.return=B,j):(j=Pu(F.type,F.key,F.props,null,B.mode,Z),Yl(j,F),j.return=B,j)}function H(B,j,F,Z){return j===null||j.tag!==4||j.stateNode.containerInfo!==F.containerInfo||j.stateNode.implementation!==F.implementation?(j=Dd(F,B.mode,Z),j.return=B,j):(j=f(j,F.children||[]),j.return=B,j)}function W(B,j,F,Z,ge){return j===null||j.tag!==7?(j=Ws(F,B.mode,Z,ge),j.return=B,j):(j=f(j,F),j.return=B,j)}function te(B,j,F){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=Cd(""+j,B.mode,F),j.return=B,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case T:return F=Pu(j.type,j.key,j.props,null,B.mode,F),Yl(F,j),F.return=B,F;case D:return j=Dd(j,B.mode,F),j.return=B,j;case x:var Z=j._init;return j=Z(j._payload),te(B,j,F)}if(Ye(j)||z(j))return j=Ws(j,B.mode,F,null),j.return=B,j;if(typeof j.then=="function")return te(B,Zu(j),F);if(j.$$typeof===X)return te(B,ju(B,j),F);Ju(B,j)}return null}function Y(B,j,F,Z){var ge=j!==null?j.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return ge!==null?null:S(B,j,""+F,Z);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case T:return F.key===ge?O(B,j,F,Z):null;case D:return F.key===ge?H(B,j,F,Z):null;case x:return ge=F._init,F=ge(F._payload),Y(B,j,F,Z)}if(Ye(F)||z(F))return ge!==null?null:W(B,j,F,Z,null);if(typeof F.then=="function")return Y(B,j,Zu(F),Z);if(F.$$typeof===X)return Y(B,j,ju(B,F),Z);Ju(B,F)}return null}function K(B,j,F,Z,ge){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return B=B.get(F)||null,S(j,B,""+Z,ge);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case T:return B=B.get(Z.key===null?F:Z.key)||null,O(j,B,Z,ge);case D:return B=B.get(Z.key===null?F:Z.key)||null,H(j,B,Z,ge);case x:var Oe=Z._init;return Z=Oe(Z._payload),K(B,j,F,Z,ge)}if(Ye(Z)||z(Z))return B=B.get(F)||null,W(j,B,Z,ge,null);if(typeof Z.then=="function")return K(B,j,F,Zu(Z),ge);if(Z.$$typeof===X)return K(B,j,F,ju(j,Z),ge);Ju(j,Z)}return null}function Ae(B,j,F,Z){for(var ge=null,Oe=null,ve=j,be=j=0,Ht=null;ve!==null&&be<F.length;be++){ve.index>be?(Ht=ve,ve=null):Ht=ve.sibling;var Ge=Y(B,ve,F[be],Z);if(Ge===null){ve===null&&(ve=Ht);break}n&&ve&&Ge.alternate===null&&s(B,ve),j=m(Ge,j,be),Oe===null?ge=Ge:Oe.sibling=Ge,Oe=Ge,ve=Ht}if(be===F.length)return a(B,ve),Ke&&Js(B,be),ge;if(ve===null){for(;be<F.length;be++)ve=te(B,F[be],Z),ve!==null&&(j=m(ve,j,be),Oe===null?ge=ve:Oe.sibling=ve,Oe=ve);return Ke&&Js(B,be),ge}for(ve=l(ve);be<F.length;be++)Ht=K(ve,B,be,F[be],Z),Ht!==null&&(n&&Ht.alternate!==null&&ve.delete(Ht.key===null?be:Ht.key),j=m(Ht,j,be),Oe===null?ge=Ht:Oe.sibling=Ht,Oe=Ht);return n&&ve.forEach(function(Xi){return s(B,Xi)}),Ke&&Js(B,be),ge}function Ee(B,j,F,Z){if(F==null)throw Error(i(151));for(var ge=null,Oe=null,ve=j,be=j=0,Ht=null,Ge=F.next();ve!==null&&!Ge.done;be++,Ge=F.next()){ve.index>be?(Ht=ve,ve=null):Ht=ve.sibling;var Xi=Y(B,ve,Ge.value,Z);if(Xi===null){ve===null&&(ve=Ht);break}n&&ve&&Xi.alternate===null&&s(B,ve),j=m(Xi,j,be),Oe===null?ge=Xi:Oe.sibling=Xi,Oe=Xi,ve=Ht}if(Ge.done)return a(B,ve),Ke&&Js(B,be),ge;if(ve===null){for(;!Ge.done;be++,Ge=F.next())Ge=te(B,Ge.value,Z),Ge!==null&&(j=m(Ge,j,be),Oe===null?ge=Ge:Oe.sibling=Ge,Oe=Ge);return Ke&&Js(B,be),ge}for(ve=l(ve);!Ge.done;be++,Ge=F.next())Ge=K(ve,B,be,Ge.value,Z),Ge!==null&&(n&&Ge.alternate!==null&&ve.delete(Ge.key===null?be:Ge.key),j=m(Ge,j,be),Oe===null?ge=Ge:Oe.sibling=Ge,Oe=Ge);return n&&ve.forEach(function(Kx){return s(B,Kx)}),Ke&&Js(B,be),ge}function st(B,j,F,Z){if(typeof F=="object"&&F!==null&&F.type===P&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case T:e:{for(var ge=F.key;j!==null;){if(j.key===ge){if(ge=F.type,ge===P){if(j.tag===7){a(B,j.sibling),Z=f(j,F.props.children),Z.return=B,B=Z;break e}}else if(j.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===x&&e_(ge)===j.type){a(B,j.sibling),Z=f(j,F.props),Yl(Z,F),Z.return=B,B=Z;break e}a(B,j);break}else s(B,j);j=j.sibling}F.type===P?(Z=Ws(F.props.children,B.mode,Z,F.key),Z.return=B,B=Z):(Z=Pu(F.type,F.key,F.props,null,B.mode,Z),Yl(Z,F),Z.return=B,B=Z)}return b(B);case D:e:{for(ge=F.key;j!==null;){if(j.key===ge)if(j.tag===4&&j.stateNode.containerInfo===F.containerInfo&&j.stateNode.implementation===F.implementation){a(B,j.sibling),Z=f(j,F.children||[]),Z.return=B,B=Z;break e}else{a(B,j);break}else s(B,j);j=j.sibling}Z=Dd(F,B.mode,Z),Z.return=B,B=Z}return b(B);case x:return ge=F._init,F=ge(F._payload),st(B,j,F,Z)}if(Ye(F))return Ae(B,j,F,Z);if(z(F)){if(ge=z(F),typeof ge!="function")throw Error(i(150));return F=ge.call(F),Ee(B,j,F,Z)}if(typeof F.then=="function")return st(B,j,Zu(F),Z);if(F.$$typeof===X)return st(B,j,ju(B,F),Z);Ju(B,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,j!==null&&j.tag===6?(a(B,j.sibling),Z=f(j,F),Z.return=B,B=Z):(a(B,j),Z=Cd(F,B.mode,Z),Z.return=B,B=Z),b(B)):a(B,j)}return function(B,j,F,Z){try{Gl=0;var ge=st(B,j,F,Z);return ho=null,ge}catch(ve){if(ve===Vl||ve===Bu)throw ve;var Oe=Rn(29,ve,null,B.mode);return Oe.lanes=Z,Oe.return=B,Oe}finally{}}}var fo=t_(!0),n_=t_(!1),Yn=ie(null),br=null;function Pi(n){var s=n.alternate;se(Lt,Lt.current&1),se(Yn,n),br===null&&(s===null||oo.current!==null||s.memoizedState!==null)&&(br=n)}function r_(n){if(n.tag===22){if(se(Lt,Lt.current),se(Yn,n),br===null){var s=n.alternate;s!==null&&s.memoizedState!==null&&(br=n)}}else Vi()}function Vi(){se(Lt,Lt.current),se(Yn,Yn.current)}function ni(n){ue(Yn),br===n&&(br=null),ue(Lt)}var Lt=ie(0);function eh(n){for(var s=n;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Jm(a)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function um(n,s,a,l){s=n.memoizedState,a=a(l,s),a=a==null?s:v({},s,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var hm={enqueueSetState:function(n,s,a){n=n._reactInternals;var l=Dn(),f=Oi(l);f.payload=s,a!=null&&(f.callback=a),s=Mi(n,f,l),s!==null&&(On(s,n,l),Ul(s,n,l))},enqueueReplaceState:function(n,s,a){n=n._reactInternals;var l=Dn(),f=Oi(l);f.tag=1,f.payload=s,a!=null&&(f.callback=a),s=Mi(n,f,l),s!==null&&(On(s,n,l),Ul(s,n,l))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var a=Dn(),l=Oi(a);l.tag=2,s!=null&&(l.callback=s),s=Mi(n,l,a),s!==null&&(On(s,n,a),Ul(s,n,a))}};function i_(n,s,a,l,f,m,b){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,m,b):s.prototype&&s.prototype.isPureReactComponent?!Il(a,l)||!Il(f,m):!0}function s_(n,s,a,l){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==n&&hm.enqueueReplaceState(s,s.state,null)}function aa(n,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(n=n.defaultProps){a===s&&(a=v({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}var th=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function a_(n){th(n)}function o_(n){console.error(n)}function l_(n){th(n)}function nh(n,s){try{var a=n.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function c_(n,s,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function fm(n,s,a){return a=Oi(a),a.tag=3,a.payload={element:null},a.callback=function(){nh(n,s)},a}function u_(n){return n=Oi(n),n.tag=3,n}function h_(n,s,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var m=l.value;n.payload=function(){return f(m)},n.callback=function(){c_(s,a,l)}}var b=a.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(n.callback=function(){c_(s,a,l),typeof f!="function"&&(qi===null?qi=new Set([this]):qi.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function KA(n,s,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&Ml(s,a,f,!0),a=Yn.current,a!==null){switch(a.tag){case 13:return br===null?Vm():a.alternate===null&&pt===0&&(pt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Bd?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),Um(n,l,f)),!1;case 22:return a.flags|=65536,l===Bd?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),Um(n,l,f)),!1}throw Error(i(435,a.tag))}return Um(n,l,f),Vm(),!1}if(Ke)return s=Yn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,l!==kd&&(n=Error(i(422),{cause:l}),Ol(qn(n,a)))):(l!==kd&&(s=Error(i(423),{cause:l}),Ol(qn(s,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,l=qn(l,a),f=fm(n.stateNode,l,f),Hd(n,f),pt!==4&&(pt=2)),!1;var m=Error(i(520),{cause:l});if(m=qn(m,a),Jl===null?Jl=[m]:Jl.push(m),pt!==4&&(pt=2),s===null)return!0;l=qn(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=fm(a.stateNode,l,n),Hd(a,n),!1;case 1:if(s=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(qi===null||!qi.has(m))))return a.flags|=65536,f&=-f,a.lanes|=f,f=u_(f),h_(f,n,a,l),Hd(a,f),!1}a=a.return}while(a!==null);return!1}var f_=Error(i(461)),qt=!1;function $t(n,s,a,l){s.child=n===null?n_(s,null,a,l):fo(s,n.child,a,l)}function d_(n,s,a,l,f){a=a.render;var m=s.ref;if("ref"in l){var b={};for(var S in l)S!=="ref"&&(b[S]=l[S])}else b=l;return ra(s),l=$d(n,s,a,b,m,f),S=Xd(),n!==null&&!qt?(Wd(n,s,f),ri(n,s,f)):(Ke&&S&&Od(s),s.flags|=1,$t(n,s,l,f),s.child)}function m_(n,s,a,l,f){if(n===null){var m=a.type;return typeof m=="function"&&!Nd(m)&&m.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=m,g_(n,s,m,l,f)):(n=Pu(a.type,null,l,s,s.mode,f),n.ref=s.ref,n.return=s,s.child=n)}if(m=n.child,!Em(n,f)){var b=m.memoizedProps;if(a=a.compare,a=a!==null?a:Il,a(b,l)&&n.ref===s.ref)return ri(n,s,f)}return s.flags|=1,n=Xr(m,l),n.ref=s.ref,n.return=s,s.child=n}function g_(n,s,a,l,f){if(n!==null){var m=n.memoizedProps;if(Il(m,l)&&n.ref===s.ref)if(qt=!1,s.pendingProps=l=m,Em(n,f))(n.flags&131072)!==0&&(qt=!0);else return s.lanes=n.lanes,ri(n,s,f)}return dm(n,s,a,l,f)}function p_(n,s,a){var l=s.pendingProps,f=l.children,m=n!==null?n.memoizedState:null;if(l.mode==="hidden"){if((s.flags&128)!==0){if(l=m!==null?m.baseLanes|a:a,n!==null){for(f=s.child=n.child,m=0;f!==null;)m=m|f.lanes|f.childLanes,f=f.sibling;s.childLanes=m&~l}else s.childLanes=0,s.child=null;return y_(n,s,l,a)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&zu(s,m!==null?m.cachePool:null),m!==null?gv(s,m):Yd(),r_(s);else return s.lanes=s.childLanes=536870912,y_(n,s,m!==null?m.baseLanes|a:a,a)}else m!==null?(zu(s,m.cachePool),gv(s,m),Vi(),s.memoizedState=null):(n!==null&&zu(s,null),Yd(),Vi());return $t(n,s,f,a),s.child}function y_(n,s,a,l){var f=zd();return f=f===null?null:{parent:Vt._currentValue,pool:f},s.memoizedState={baseLanes:a,cachePool:f},n!==null&&zu(s,null),Yd(),r_(s),n!==null&&Ml(n,s,l,!0),null}function rh(n,s){var a=s.ref;if(a===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(i(284));(n===null||n.ref!==a)&&(s.flags|=4194816)}}function dm(n,s,a,l,f){return ra(s),a=$d(n,s,a,l,void 0,f),l=Xd(),n!==null&&!qt?(Wd(n,s,f),ri(n,s,f)):(Ke&&l&&Od(s),s.flags|=1,$t(n,s,a,f),s.child)}function v_(n,s,a,l,f,m){return ra(s),s.updateQueue=null,a=yv(s,l,a,f),pv(n),l=Xd(),n!==null&&!qt?(Wd(n,s,m),ri(n,s,m)):(Ke&&l&&Od(s),s.flags|=1,$t(n,s,a,m),s.child)}function __(n,s,a,l,f){if(ra(s),s.stateNode===null){var m=no,b=a.contextType;typeof b=="object"&&b!==null&&(m=rn(b)),m=new a(l,m),s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=hm,s.stateNode=m,m._reactInternals=s,m=s.stateNode,m.props=l,m.state=s.memoizedState,m.refs={},qd(s),b=a.contextType,m.context=typeof b=="object"&&b!==null?rn(b):no,m.state=s.memoizedState,b=a.getDerivedStateFromProps,typeof b=="function"&&(um(s,a,b,l),m.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(b=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),b!==m.state&&hm.enqueueReplaceState(m,m.state,null),zl(s,l,m,f),jl(),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(n===null){m=s.stateNode;var S=s.memoizedProps,O=aa(a,S);m.props=O;var H=m.context,W=a.contextType;b=no,typeof W=="object"&&W!==null&&(b=rn(W));var te=a.getDerivedStateFromProps;W=typeof te=="function"||typeof m.getSnapshotBeforeUpdate=="function",S=s.pendingProps!==S,W||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(S||H!==b)&&s_(s,m,l,b),Di=!1;var Y=s.memoizedState;m.state=Y,zl(s,l,m,f),jl(),H=s.memoizedState,S||Y!==H||Di?(typeof te=="function"&&(um(s,a,te,l),H=s.memoizedState),(O=Di||i_(s,a,O,l,Y,H,b))?(W||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(s.flags|=4194308)):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=H),m.props=l,m.state=H,m.context=b,l=O):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{m=s.stateNode,Fd(n,s),b=s.memoizedProps,W=aa(a,b),m.props=W,te=s.pendingProps,Y=m.context,H=a.contextType,O=no,typeof H=="object"&&H!==null&&(O=rn(H)),S=a.getDerivedStateFromProps,(H=typeof S=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(b!==te||Y!==O)&&s_(s,m,l,O),Di=!1,Y=s.memoizedState,m.state=Y,zl(s,l,m,f),jl();var K=s.memoizedState;b!==te||Y!==K||Di||n!==null&&n.dependencies!==null&&Uu(n.dependencies)?(typeof S=="function"&&(um(s,a,S,l),K=s.memoizedState),(W=Di||i_(s,a,W,l,Y,K,O)||n!==null&&n.dependencies!==null&&Uu(n.dependencies))?(H||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,K,O),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,K,O)),typeof m.componentDidUpdate=="function"&&(s.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof m.componentDidUpdate!="function"||b===n.memoizedProps&&Y===n.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===n.memoizedProps&&Y===n.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=K),m.props=l,m.state=K,m.context=O,l=W):(typeof m.componentDidUpdate!="function"||b===n.memoizedProps&&Y===n.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===n.memoizedProps&&Y===n.memoizedState||(s.flags|=1024),l=!1)}return m=l,rh(n,s),l=(s.flags&128)!==0,m||l?(m=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:m.render(),s.flags|=1,n!==null&&l?(s.child=fo(s,n.child,null,f),s.child=fo(s,null,a,f)):$t(n,s,a,f),s.memoizedState=m.state,n=s.child):n=ri(n,s,f),n}function E_(n,s,a,l){return Dl(),s.flags|=256,$t(n,s,a,l),s.child}var mm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function gm(n){return{baseLanes:n,cachePool:ov()}}function pm(n,s,a){return n=n!==null?n.childLanes&~a:0,s&&(n|=Kn),n}function b_(n,s,a){var l=s.pendingProps,f=!1,m=(s.flags&128)!==0,b;if((b=m)||(b=n!==null&&n.memoizedState===null?!1:(Lt.current&2)!==0),b&&(f=!0,s.flags&=-129),b=(s.flags&32)!==0,s.flags&=-33,n===null){if(Ke){if(f?Pi(s):Vi(),Ke){var S=gt,O;if(O=S){e:{for(O=S,S=Er;O.nodeType!==8;){if(!S){S=null;break e}if(O=rr(O.nextSibling),O===null){S=null;break e}}S=O}S!==null?(s.memoizedState={dehydrated:S,treeContext:Zs!==null?{id:Wr,overflow:Zr}:null,retryLane:536870912,hydrationErrors:null},O=Rn(18,null,null,0),O.stateNode=S,O.return=s,s.child=O,mn=s,gt=null,O=!0):O=!1}O||ta(s)}if(S=s.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return Jm(S)?s.lanes=32:s.lanes=536870912,null;ni(s)}return S=l.children,l=l.fallback,f?(Vi(),f=s.mode,S=ih({mode:"hidden",children:S},f),l=Ws(l,f,a,null),S.return=s,l.return=s,S.sibling=l,s.child=S,f=s.child,f.memoizedState=gm(a),f.childLanes=pm(n,b,a),s.memoizedState=mm,l):(Pi(s),ym(s,S))}if(O=n.memoizedState,O!==null&&(S=O.dehydrated,S!==null)){if(m)s.flags&256?(Pi(s),s.flags&=-257,s=vm(n,s,a)):s.memoizedState!==null?(Vi(),s.child=n.child,s.flags|=128,s=null):(Vi(),f=l.fallback,S=s.mode,l=ih({mode:"visible",children:l.children},S),f=Ws(f,S,a,null),f.flags|=2,l.return=s,f.return=s,l.sibling=f,s.child=l,fo(s,n.child,null,a),l=s.child,l.memoizedState=gm(a),l.childLanes=pm(n,b,a),s.memoizedState=mm,s=f);else if(Pi(s),Jm(S)){if(b=S.nextSibling&&S.nextSibling.dataset,b)var H=b.dgst;b=H,l=Error(i(419)),l.stack="",l.digest=b,Ol({value:l,source:null,stack:null}),s=vm(n,s,a)}else if(qt||Ml(n,s,a,!1),b=(a&n.childLanes)!==0,qt||b){if(b=lt,b!==null&&(l=a&-a,l=(l&42)!==0?1:wi(l),l=(l&(b.suspendedLanes|a))!==0?0:l,l!==0&&l!==O.retryLane))throw O.retryLane=l,to(n,l),On(b,n,l),f_;S.data==="$?"||Vm(),s=vm(n,s,a)}else S.data==="$?"?(s.flags|=192,s.child=n.child,s=null):(n=O.treeContext,gt=rr(S.nextSibling),mn=s,Ke=!0,ea=null,Er=!1,n!==null&&(Hn[Gn++]=Wr,Hn[Gn++]=Zr,Hn[Gn++]=Zs,Wr=n.id,Zr=n.overflow,Zs=s),s=ym(s,l.children),s.flags|=4096);return s}return f?(Vi(),f=l.fallback,S=s.mode,O=n.child,H=O.sibling,l=Xr(O,{mode:"hidden",children:l.children}),l.subtreeFlags=O.subtreeFlags&65011712,H!==null?f=Xr(H,f):(f=Ws(f,S,a,null),f.flags|=2),f.return=s,l.return=s,l.sibling=f,s.child=l,l=f,f=s.child,S=n.child.memoizedState,S===null?S=gm(a):(O=S.cachePool,O!==null?(H=Vt._currentValue,O=O.parent!==H?{parent:H,pool:H}:O):O=ov(),S={baseLanes:S.baseLanes|a,cachePool:O}),f.memoizedState=S,f.childLanes=pm(n,b,a),s.memoizedState=mm,l):(Pi(s),a=n.child,n=a.sibling,a=Xr(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,n!==null&&(b=s.deletions,b===null?(s.deletions=[n],s.flags|=16):b.push(n)),s.child=a,s.memoizedState=null,a)}function ym(n,s){return s=ih({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function ih(n,s){return n=Rn(22,n,null,s),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function vm(n,s,a){return fo(s,n.child,null,a),n=ym(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function T_(n,s,a){n.lanes|=s;var l=n.alternate;l!==null&&(l.lanes|=s),Vd(n.return,s,a)}function _m(n,s,a,l,f){var m=n.memoizedState;m===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f}:(m.isBackwards=s,m.rendering=null,m.renderingStartTime=0,m.last=l,m.tail=a,m.tailMode=f)}function w_(n,s,a){var l=s.pendingProps,f=l.revealOrder,m=l.tail;if($t(n,s,l.children,a),l=Lt.current,(l&2)!==0)l=l&1|2,s.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&T_(n,a,s);else if(n.tag===19)T_(n,a,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch(se(Lt,l),f){case"forwards":for(a=s.child,f=null;a!==null;)n=a.alternate,n!==null&&eh(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),_m(s,!1,f,a,m);break;case"backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(n=f.alternate,n!==null&&eh(n)===null){s.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}_m(s,!0,a,null,m);break;case"together":_m(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function ri(n,s,a){if(n!==null&&(s.dependencies=n.dependencies),Bi|=s.lanes,(a&s.childLanes)===0)if(n!==null){if(Ml(n,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(i(153));if(s.child!==null){for(n=s.child,a=Xr(n,n.pendingProps),s.child=a,a.return=s;n.sibling!==null;)n=n.sibling,a=a.sibling=Xr(n,n.pendingProps),a.return=s;a.sibling=null}return s.child}function Em(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&Uu(n)))}function QA(n,s,a){switch(s.tag){case 3:We(s,s.stateNode.containerInfo),Ci(s,Vt,n.memoizedState.cache),Dl();break;case 27:case 5:Tn(s);break;case 4:We(s,s.stateNode.containerInfo);break;case 10:Ci(s,s.type,s.memoizedProps.value);break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(Pi(s),s.flags|=128,null):(a&s.child.childLanes)!==0?b_(n,s,a):(Pi(s),n=ri(n,s,a),n!==null?n.sibling:null);Pi(s);break;case 19:var f=(n.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(Ml(n,s,a,!1),l=(a&s.childLanes)!==0),f){if(l)return w_(n,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),se(Lt,Lt.current),l)break;return null;case 22:case 23:return s.lanes=0,p_(n,s,a);case 24:Ci(s,Vt,n.memoizedState.cache)}return ri(n,s,a)}function S_(n,s,a){if(n!==null)if(n.memoizedProps!==s.pendingProps)qt=!0;else{if(!Em(n,a)&&(s.flags&128)===0)return qt=!1,QA(n,s,a);qt=(n.flags&131072)!==0}else qt=!1,Ke&&(s.flags&1048576)!==0&&ev(s,Lu,s.index);switch(s.lanes=0,s.tag){case 16:e:{n=s.pendingProps;var l=s.elementType,f=l._init;if(l=f(l._payload),s.type=l,typeof l=="function")Nd(l)?(n=aa(l,n),s.tag=1,s=__(null,s,l,n,a)):(s.tag=0,s=dm(null,s,l,n,a));else{if(l!=null){if(f=l.$$typeof,f===re){s.tag=11,s=d_(null,s,l,n,a);break e}else if(f===M){s.tag=14,s=m_(null,s,l,n,a);break e}}throw s=Me(l)||l,Error(i(306,s,""))}}return s;case 0:return dm(n,s,s.type,s.pendingProps,a);case 1:return l=s.type,f=aa(l,s.pendingProps),__(n,s,l,f,a);case 3:e:{if(We(s,s.stateNode.containerInfo),n===null)throw Error(i(387));l=s.pendingProps;var m=s.memoizedState;f=m.element,Fd(n,s),zl(s,l,null,a);var b=s.memoizedState;if(l=b.cache,Ci(s,Vt,l),l!==m.cache&&Ld(s,[Vt],a,!0),jl(),l=b.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:b.cache},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){s=E_(n,s,l,a);break e}else if(l!==f){f=qn(Error(i(424)),s),Ol(f),s=E_(n,s,l,a);break e}else{switch(n=s.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(gt=rr(n.firstChild),mn=s,Ke=!0,ea=null,Er=!0,a=n_(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Dl(),l===f){s=ri(n,s,a);break e}$t(n,s,l,a)}s=s.child}return s;case 26:return rh(n,s),n===null?(a=I0(s.type,null,s.pendingProps,null))?s.memoizedState=a:Ke||(a=s.type,n=s.pendingProps,l=vh(Te.current).createElement(a),l[Mt]=s,l[St]=n,Wt(l,a,n),_t(l),s.stateNode=l):s.memoizedState=I0(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return Tn(s),n===null&&Ke&&(l=s.stateNode=A0(s.type,s.pendingProps,Te.current),mn=s,Er=!0,f=gt,Gi(s.type)?(eg=f,gt=rr(l.firstChild)):gt=f),$t(n,s,s.pendingProps.children,a),rh(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&Ke&&((f=l=gt)&&(l=Tx(l,s.type,s.pendingProps,Er),l!==null?(s.stateNode=l,mn=s,gt=rr(l.firstChild),Er=!1,f=!0):f=!1),f||ta(s)),Tn(s),f=s.type,m=s.pendingProps,b=n!==null?n.memoizedProps:null,l=m.children,Xm(f,m)?l=null:b!==null&&Xm(f,b)&&(s.flags|=32),s.memoizedState!==null&&(f=$d(n,s,zA,null,null,a),lc._currentValue=f),rh(n,s),$t(n,s,l,a),s.child;case 6:return n===null&&Ke&&((n=a=gt)&&(a=wx(a,s.pendingProps,Er),a!==null?(s.stateNode=a,mn=s,gt=null,n=!0):n=!1),n||ta(s)),null;case 13:return b_(n,s,a);case 4:return We(s,s.stateNode.containerInfo),l=s.pendingProps,n===null?s.child=fo(s,null,l,a):$t(n,s,l,a),s.child;case 11:return d_(n,s,s.type,s.pendingProps,a);case 7:return $t(n,s,s.pendingProps,a),s.child;case 8:return $t(n,s,s.pendingProps.children,a),s.child;case 12:return $t(n,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,Ci(s,s.type,l.value),$t(n,s,l.children,a),s.child;case 9:return f=s.type._context,l=s.pendingProps.children,ra(s),f=rn(f),l=l(f),s.flags|=1,$t(n,s,l,a),s.child;case 14:return m_(n,s,s.type,s.pendingProps,a);case 15:return g_(n,s,s.type,s.pendingProps,a);case 19:return w_(n,s,a);case 31:return l=s.pendingProps,a=s.mode,l={mode:l.mode,children:l.children},n===null?(a=ih(l,a),a.ref=s.ref,s.child=a,a.return=s,s=a):(a=Xr(n.child,l),a.ref=s.ref,s.child=a,a.return=s,s=a),s;case 22:return p_(n,s,a);case 24:return ra(s),l=rn(Vt),n===null?(f=zd(),f===null&&(f=lt,m=Ud(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=a),f=m),s.memoizedState={parent:l,cache:f},qd(s),Ci(s,Vt,f)):((n.lanes&a)!==0&&(Fd(n,s),zl(s,null,null,a),jl()),f=n.memoizedState,m=s.memoizedState,f.parent!==l?(f={parent:l,cache:l},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),Ci(s,Vt,l)):(l=m.cache,Ci(s,Vt,l),l!==f.cache&&Ld(s,[Vt],a,!0))),$t(n,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function ii(n){n.flags|=4}function A_(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!M0(s)){if(s=Yn.current,s!==null&&((Fe&4194048)===Fe?br!==null:(Fe&62914560)!==Fe&&(Fe&536870912)===0||s!==br))throw Ll=Bd,lv;n.flags|=8192}}function sh(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?ul():536870912,n.lanes|=s,yo|=s)}function Kl(n,s){if(!Ke)switch(n.tailMode){case"hidden":s=n.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function ft(n){var s=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(s)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=l,n.childLanes=a,s}function $A(n,s,a){var l=s.pendingProps;switch(Md(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(s),null;case 1:return ft(s),null;case 3:return a=s.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),ei(Vt),un(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(Cl(s)?ii(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,rv())),ft(s),null;case 26:return a=s.memoizedState,n===null?(ii(s),a!==null?(ft(s),A_(s,a)):(ft(s),s.flags&=-16777217)):a?a!==n.memoizedState?(ii(s),ft(s),A_(s,a)):(ft(s),s.flags&=-16777217):(n.memoizedProps!==l&&ii(s),ft(s),s.flags&=-16777217),null;case 27:wn(s),a=Te.current;var f=s.type;if(n!==null&&s.stateNode!=null)n.memoizedProps!==l&&ii(s);else{if(!l){if(s.stateNode===null)throw Error(i(166));return ft(s),null}n=me.current,Cl(s)?tv(s):(n=A0(f,l,a),s.stateNode=n,ii(s))}return ft(s),null;case 5:if(wn(s),a=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==l&&ii(s);else{if(!l){if(s.stateNode===null)throw Error(i(166));return ft(s),null}if(n=me.current,Cl(s))tv(s);else{switch(f=vh(Te.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?f.createElement(a,{is:l.is}):f.createElement(a)}}n[Mt]=s,n[St]=l;e:for(f=s.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===s)break e;for(;f.sibling===null;){if(f.return===null||f.return===s)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}s.stateNode=n;e:switch(Wt(n,a,l),a){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&ii(s)}}return ft(s),s.flags&=-16777217,null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==l&&ii(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(i(166));if(n=Te.current,Cl(s)){if(n=s.stateNode,a=s.memoizedProps,l=null,f=mn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}n[Mt]=s,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||v0(n.nodeValue,a)),n||ta(s)}else n=vh(n).createTextNode(l),n[Mt]=s,s.stateNode=n}return ft(s),null;case 13:if(l=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=Cl(s),l!==null&&l.dehydrated!==null){if(n===null){if(!f)throw Error(i(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));f[Mt]=s}else Dl(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ft(s),f=!1}else f=rv(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(ni(s),s):(ni(s),null)}if(ni(s),(s.flags&128)!==0)return s.lanes=a,s;if(a=l!==null,n=n!==null&&n.memoizedState!==null,a){l=s.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var m=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==f&&(l.flags|=2048)}return a!==n&&a&&(s.child.flags|=8192),sh(s,s.updateQueue),ft(s),null;case 4:return un(),n===null&&Gm(s.stateNode.containerInfo),ft(s),null;case 10:return ei(s.type),ft(s),null;case 19:if(ue(Lt),f=s.memoizedState,f===null)return ft(s),null;if(l=(s.flags&128)!==0,m=f.rendering,m===null)if(l)Kl(f,!1);else{if(pt!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(m=eh(n),m!==null){for(s.flags|=128,Kl(f,!1),n=m.updateQueue,s.updateQueue=n,sh(s,n),s.subtreeFlags=0,n=a,a=s.child;a!==null;)Jy(a,n),a=a.sibling;return se(Lt,Lt.current&1|2),s.child}n=n.sibling}f.tail!==null&&Vn()>lh&&(s.flags|=128,l=!0,Kl(f,!1),s.lanes=4194304)}else{if(!l)if(n=eh(m),n!==null){if(s.flags|=128,l=!0,n=n.updateQueue,s.updateQueue=n,sh(s,n),Kl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!m.alternate&&!Ke)return ft(s),null}else 2*Vn()-f.renderingStartTime>lh&&a!==536870912&&(s.flags|=128,l=!0,Kl(f,!1),s.lanes=4194304);f.isBackwards?(m.sibling=s.child,s.child=m):(n=f.last,n!==null?n.sibling=m:s.child=m,f.last=m)}return f.tail!==null?(s=f.tail,f.rendering=s,f.tail=s.sibling,f.renderingStartTime=Vn(),s.sibling=null,n=Lt.current,se(Lt,l?n&1|2:n&1),s):(ft(s),null);case 22:case 23:return ni(s),Kd(),l=s.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(ft(s),s.subtreeFlags&6&&(s.flags|=8192)):ft(s),a=s.updateQueue,a!==null&&sh(s,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),n!==null&&ue(ia),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),ei(Vt),ft(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function XA(n,s){switch(Md(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return ei(Vt),un(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return wn(s),null;case 13:if(ni(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(i(340));Dl()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return ue(Lt),null;case 4:return un(),null;case 10:return ei(s.type),null;case 22:case 23:return ni(s),Kd(),n!==null&&ue(ia),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return ei(Vt),null;case 25:return null;default:return null}}function x_(n,s){switch(Md(s),s.tag){case 3:ei(Vt),un();break;case 26:case 27:case 5:wn(s);break;case 4:un();break;case 13:ni(s);break;case 19:ue(Lt);break;case 10:ei(s.type);break;case 22:case 23:ni(s),Kd(),n!==null&&ue(ia);break;case 24:ei(Vt)}}function Ql(n,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&n)===n){l=void 0;var m=a.create,b=a.inst;l=m(),b.destroy=l}a=a.next}while(a!==f)}}catch(S){ot(s,s.return,S)}}function Li(n,s,a){try{var l=s.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var m=f.next;l=m;do{if((l.tag&n)===n){var b=l.inst,S=b.destroy;if(S!==void 0){b.destroy=void 0,f=s;var O=a,H=S;try{H()}catch(W){ot(f,O,W)}}}l=l.next}while(l!==m)}}catch(W){ot(s,s.return,W)}}function R_(n){var s=n.updateQueue;if(s!==null){var a=n.stateNode;try{mv(s,a)}catch(l){ot(n,n.return,l)}}}function I_(n,s,a){a.props=aa(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){ot(n,s,l)}}function $l(n,s){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(f){ot(n,s,f)}}function Tr(n,s){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){ot(n,s,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){ot(n,s,f)}else a.current=null}function N_(n){var s=n.type,a=n.memoizedProps,l=n.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){ot(n,n.return,f)}}function bm(n,s,a){try{var l=n.stateNode;yx(l,n.type,a,s),l[St]=s}catch(f){ot(n,n.return,f)}}function C_(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Gi(n.type)||n.tag===4}function Tm(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||C_(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Gi(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function wm(n,s,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(n),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=yh));else if(l!==4&&(l===27&&Gi(n.type)&&(a=n.stateNode,s=null),n=n.child,n!==null))for(wm(n,s,a),n=n.sibling;n!==null;)wm(n,s,a),n=n.sibling}function ah(n,s,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,s?a.insertBefore(n,s):a.appendChild(n);else if(l!==4&&(l===27&&Gi(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(ah(n,s,a),n=n.sibling;n!==null;)ah(n,s,a),n=n.sibling}function D_(n){var s=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);Wt(s,l,a),s[Mt]=n,s[St]=a}catch(m){ot(n,n.return,m)}}var si=!1,bt=!1,Sm=!1,O_=typeof WeakSet=="function"?WeakSet:Set,Ft=null;function WA(n,s){if(n=n.containerInfo,Qm=Sh,n=Fy(n),Td(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var b=0,S=-1,O=-1,H=0,W=0,te=n,Y=null;t:for(;;){for(var K;te!==a||f!==0&&te.nodeType!==3||(S=b+f),te!==m||l!==0&&te.nodeType!==3||(O=b+l),te.nodeType===3&&(b+=te.nodeValue.length),(K=te.firstChild)!==null;)Y=te,te=K;for(;;){if(te===n)break t;if(Y===a&&++H===f&&(S=b),Y===m&&++W===l&&(O=b),(K=te.nextSibling)!==null)break;te=Y,Y=te.parentNode}te=K}a=S===-1||O===-1?null:{start:S,end:O}}else a=null}a=a||{start:0,end:0}}else a=null;for($m={focusedElem:n,selectionRange:a},Sh=!1,Ft=s;Ft!==null;)if(s=Ft,n=s.child,(s.subtreeFlags&1024)!==0&&n!==null)n.return=s,Ft=n;else for(;Ft!==null;){switch(s=Ft,m=s.alternate,n=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&m!==null){n=void 0,a=s,f=m.memoizedProps,m=m.memoizedState,l=a.stateNode;try{var Ae=aa(a.type,f,a.elementType===a.type);n=l.getSnapshotBeforeUpdate(Ae,m),l.__reactInternalSnapshotBeforeUpdate=n}catch(Ee){ot(a,a.return,Ee)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,a=n.nodeType,a===9)Zm(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Zm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(i(163))}if(n=s.sibling,n!==null){n.return=s.return,Ft=n;break}Ft=s.return}}function M_(n,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Ui(n,a),l&4&&Ql(5,a);break;case 1:if(Ui(n,a),l&4)if(n=a.stateNode,s===null)try{n.componentDidMount()}catch(b){ot(a,a.return,b)}else{var f=aa(a.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(f,s,n.__reactInternalSnapshotBeforeUpdate)}catch(b){ot(a,a.return,b)}}l&64&&R_(a),l&512&&$l(a,a.return);break;case 3:if(Ui(n,a),l&64&&(n=a.updateQueue,n!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{mv(n,s)}catch(b){ot(a,a.return,b)}}break;case 27:s===null&&l&4&&D_(a);case 26:case 5:Ui(n,a),s===null&&l&4&&N_(a),l&512&&$l(a,a.return);break;case 12:Ui(n,a);break;case 13:Ui(n,a),l&4&&V_(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=ax.bind(null,a),Sx(n,a))));break;case 22:if(l=a.memoizedState!==null||si,!l){s=s!==null&&s.memoizedState!==null||bt,f=si;var m=bt;si=l,(bt=s)&&!m?ji(n,a,(a.subtreeFlags&8772)!==0):Ui(n,a),si=f,bt=m}break;case 30:break;default:Ui(n,a)}}function k_(n){var s=n.alternate;s!==null&&(n.alternate=null,k_(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&xi(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var ht=null,pn=!1;function ai(n,s,a){for(a=a.child;a!==null;)P_(n,s,a),a=a.sibling}function P_(n,s,a){if(Ze&&typeof Ze.onCommitFiberUnmount=="function")try{Ze.onCommitFiberUnmount(mt,a)}catch{}switch(a.tag){case 26:bt||Tr(a,s),ai(n,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:bt||Tr(a,s);var l=ht,f=pn;Gi(a.type)&&(ht=a.stateNode,pn=!1),ai(n,s,a),ic(a.stateNode),ht=l,pn=f;break;case 5:bt||Tr(a,s);case 6:if(l=ht,f=pn,ht=null,ai(n,s,a),ht=l,pn=f,ht!==null)if(pn)try{(ht.nodeType===9?ht.body:ht.nodeName==="HTML"?ht.ownerDocument.body:ht).removeChild(a.stateNode)}catch(m){ot(a,s,m)}else try{ht.removeChild(a.stateNode)}catch(m){ot(a,s,m)}break;case 18:ht!==null&&(pn?(n=ht,w0(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),fc(n)):w0(ht,a.stateNode));break;case 4:l=ht,f=pn,ht=a.stateNode.containerInfo,pn=!0,ai(n,s,a),ht=l,pn=f;break;case 0:case 11:case 14:case 15:bt||Li(2,a,s),bt||Li(4,a,s),ai(n,s,a);break;case 1:bt||(Tr(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&I_(a,s,l)),ai(n,s,a);break;case 21:ai(n,s,a);break;case 22:bt=(l=bt)||a.memoizedState!==null,ai(n,s,a),bt=l;break;default:ai(n,s,a)}}function V_(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{fc(n)}catch(a){ot(s,s.return,a)}}function ZA(n){switch(n.tag){case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new O_),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new O_),s;default:throw Error(i(435,n.tag))}}function Am(n,s){var a=ZA(n);s.forEach(function(l){var f=ox.bind(null,n,l);a.has(l)||(a.add(l),l.then(f,f))})}function In(n,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],m=n,b=s,S=b;e:for(;S!==null;){switch(S.tag){case 27:if(Gi(S.type)){ht=S.stateNode,pn=!1;break e}break;case 5:ht=S.stateNode,pn=!1;break e;case 3:case 4:ht=S.stateNode.containerInfo,pn=!0;break e}S=S.return}if(ht===null)throw Error(i(160));P_(m,b,f),ht=null,pn=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)L_(s,n),s=s.sibling}var nr=null;function L_(n,s){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:In(s,n),Nn(n),l&4&&(Li(3,n,n.return),Ql(3,n),Li(5,n,n.return));break;case 1:In(s,n),Nn(n),l&512&&(bt||a===null||Tr(a,a.return)),l&64&&si&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=nr;if(In(s,n),Nn(n),l&512&&(bt||a===null||Tr(a,a.return)),l&4){var m=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){e:{l=n.type,a=n.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":m=f.getElementsByTagName("title")[0],(!m||m[Ps]||m[Mt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(l),f.head.insertBefore(m,f.querySelector("head > title"))),Wt(m,l,a),m[Mt]=n,_t(m),l=m;break e;case"link":var b=D0("link","href",f).get(l+(a.href||""));if(b){for(var S=0;S<b.length;S++)if(m=b[S],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){b.splice(S,1);break t}}m=f.createElement(l),Wt(m,l,a),f.head.appendChild(m);break;case"meta":if(b=D0("meta","content",f).get(l+(a.content||""))){for(S=0;S<b.length;S++)if(m=b[S],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){b.splice(S,1);break t}}m=f.createElement(l),Wt(m,l,a),f.head.appendChild(m);break;default:throw Error(i(468,l))}m[Mt]=n,_t(m),l=m}n.stateNode=l}else O0(f,n.type,n.stateNode);else n.stateNode=C0(f,l,n.memoizedProps);else m!==l?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,l===null?O0(f,n.type,n.stateNode):C0(f,l,n.memoizedProps)):l===null&&n.stateNode!==null&&bm(n,n.memoizedProps,a.memoizedProps)}break;case 27:In(s,n),Nn(n),l&512&&(bt||a===null||Tr(a,a.return)),a!==null&&l&4&&bm(n,n.memoizedProps,a.memoizedProps);break;case 5:if(In(s,n),Nn(n),l&512&&(bt||a===null||Tr(a,a.return)),n.flags&32){f=n.stateNode;try{Un(f,"")}catch(K){ot(n,n.return,K)}}l&4&&n.stateNode!=null&&(f=n.memoizedProps,bm(n,f,a!==null?a.memoizedProps:f)),l&1024&&(Sm=!0);break;case 6:if(In(s,n),Nn(n),l&4){if(n.stateNode===null)throw Error(i(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(K){ot(n,n.return,K)}}break;case 3:if(bh=null,f=nr,nr=_h(s.containerInfo),In(s,n),nr=f,Nn(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{fc(s.containerInfo)}catch(K){ot(n,n.return,K)}Sm&&(Sm=!1,U_(n));break;case 4:l=nr,nr=_h(n.stateNode.containerInfo),In(s,n),Nn(n),nr=l;break;case 12:In(s,n),Nn(n);break;case 13:In(s,n),Nn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Dm=Vn()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Am(n,l)));break;case 22:f=n.memoizedState!==null;var O=a!==null&&a.memoizedState!==null,H=si,W=bt;if(si=H||f,bt=W||O,In(s,n),bt=W,si=H,Nn(n),l&8192)e:for(s=n.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(a===null||O||si||bt||oa(n)),a=null,s=n;;){if(s.tag===5||s.tag===26){if(a===null){O=a=s;try{if(m=O.stateNode,f)b=m.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{S=O.stateNode;var te=O.memoizedProps.style,Y=te!=null&&te.hasOwnProperty("display")?te.display:null;S.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(K){ot(O,O.return,K)}}}else if(s.tag===6){if(a===null){O=s;try{O.stateNode.nodeValue=f?"":O.memoizedProps}catch(K){ot(O,O.return,K)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break e;for(;s.sibling===null;){if(s.return===null||s.return===n)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Am(n,a))));break;case 19:In(s,n),Nn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Am(n,l)));break;case 30:break;case 21:break;default:In(s,n),Nn(n)}}function Nn(n){var s=n.flags;if(s&2){try{for(var a,l=n.return;l!==null;){if(C_(l)){a=l;break}l=l.return}if(a==null)throw Error(i(160));switch(a.tag){case 27:var f=a.stateNode,m=Tm(n);ah(n,m,f);break;case 5:var b=a.stateNode;a.flags&32&&(Un(b,""),a.flags&=-33);var S=Tm(n);ah(n,S,b);break;case 3:case 4:var O=a.stateNode.containerInfo,H=Tm(n);wm(n,H,O);break;default:throw Error(i(161))}}catch(W){ot(n,n.return,W)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function U_(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;U_(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function Ui(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)M_(n,s.alternate,s),s=s.sibling}function oa(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:Li(4,s,s.return),oa(s);break;case 1:Tr(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&I_(s,s.return,a),oa(s);break;case 27:ic(s.stateNode);case 26:case 5:Tr(s,s.return),oa(s);break;case 22:s.memoizedState===null&&oa(s);break;case 30:oa(s);break;default:oa(s)}n=n.sibling}}function ji(n,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,f=n,m=s,b=m.flags;switch(m.tag){case 0:case 11:case 15:ji(f,m,a),Ql(4,m);break;case 1:if(ji(f,m,a),l=m,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(H){ot(l,l.return,H)}if(l=m,f=l.updateQueue,f!==null){var S=l.stateNode;try{var O=f.shared.hiddenCallbacks;if(O!==null)for(f.shared.hiddenCallbacks=null,f=0;f<O.length;f++)dv(O[f],S)}catch(H){ot(l,l.return,H)}}a&&b&64&&R_(m),$l(m,m.return);break;case 27:D_(m);case 26:case 5:ji(f,m,a),a&&l===null&&b&4&&N_(m),$l(m,m.return);break;case 12:ji(f,m,a);break;case 13:ji(f,m,a),a&&b&4&&V_(f,m);break;case 22:m.memoizedState===null&&ji(f,m,a),$l(m,m.return);break;case 30:break;default:ji(f,m,a)}s=s.sibling}}function xm(n,s){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&kl(a))}function Rm(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&kl(n))}function wr(n,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)j_(n,s,a,l),s=s.sibling}function j_(n,s,a,l){var f=s.flags;switch(s.tag){case 0:case 11:case 15:wr(n,s,a,l),f&2048&&Ql(9,s);break;case 1:wr(n,s,a,l);break;case 3:wr(n,s,a,l),f&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&kl(n)));break;case 12:if(f&2048){wr(n,s,a,l),n=s.stateNode;try{var m=s.memoizedProps,b=m.id,S=m.onPostCommit;typeof S=="function"&&S(b,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(O){ot(s,s.return,O)}}else wr(n,s,a,l);break;case 13:wr(n,s,a,l);break;case 23:break;case 22:m=s.stateNode,b=s.alternate,s.memoizedState!==null?m._visibility&2?wr(n,s,a,l):Xl(n,s):m._visibility&2?wr(n,s,a,l):(m._visibility|=2,mo(n,s,a,l,(s.subtreeFlags&10256)!==0)),f&2048&&xm(b,s);break;case 24:wr(n,s,a,l),f&2048&&Rm(s.alternate,s);break;default:wr(n,s,a,l)}}function mo(n,s,a,l,f){for(f=f&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var m=n,b=s,S=a,O=l,H=b.flags;switch(b.tag){case 0:case 11:case 15:mo(m,b,S,O,f),Ql(8,b);break;case 23:break;case 22:var W=b.stateNode;b.memoizedState!==null?W._visibility&2?mo(m,b,S,O,f):Xl(m,b):(W._visibility|=2,mo(m,b,S,O,f)),f&&H&2048&&xm(b.alternate,b);break;case 24:mo(m,b,S,O,f),f&&H&2048&&Rm(b.alternate,b);break;default:mo(m,b,S,O,f)}s=s.sibling}}function Xl(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=n,l=s,f=l.flags;switch(l.tag){case 22:Xl(a,l),f&2048&&xm(l.alternate,l);break;case 24:Xl(a,l),f&2048&&Rm(l.alternate,l);break;default:Xl(a,l)}s=s.sibling}}var Wl=8192;function go(n){if(n.subtreeFlags&Wl)for(n=n.child;n!==null;)z_(n),n=n.sibling}function z_(n){switch(n.tag){case 26:go(n),n.flags&Wl&&n.memoizedState!==null&&Lx(nr,n.memoizedState,n.memoizedProps);break;case 5:go(n);break;case 3:case 4:var s=nr;nr=_h(n.stateNode.containerInfo),go(n),nr=s;break;case 22:n.memoizedState===null&&(s=n.alternate,s!==null&&s.memoizedState!==null?(s=Wl,Wl=16777216,go(n),Wl=s):go(n));break;default:go(n)}}function B_(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function Zl(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];Ft=l,F_(l,n)}B_(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)q_(n),n=n.sibling}function q_(n){switch(n.tag){case 0:case 11:case 15:Zl(n),n.flags&2048&&Li(9,n,n.return);break;case 3:Zl(n);break;case 12:Zl(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,oh(n)):Zl(n);break;default:Zl(n)}}function oh(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];Ft=l,F_(l,n)}B_(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:Li(8,s,s.return),oh(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,oh(s));break;default:oh(s)}n=n.sibling}}function F_(n,s){for(;Ft!==null;){var a=Ft;switch(a.tag){case 0:case 11:case 15:Li(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:kl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ft=l;else e:for(a=n;Ft!==null;){l=Ft;var f=l.sibling,m=l.return;if(k_(l),l===a){Ft=null;break e}if(f!==null){f.return=m,Ft=f;break e}Ft=m}}}var JA={getCacheForType:function(n){var s=rn(Vt),a=s.data.get(n);return a===void 0&&(a=n(),s.data.set(n,a)),a}},ex=typeof WeakMap=="function"?WeakMap:Map,Je=0,lt=null,Pe=null,Fe=0,et=0,Cn=null,zi=!1,po=!1,Im=!1,oi=0,pt=0,Bi=0,la=0,Nm=0,Kn=0,yo=0,Jl=null,yn=null,Cm=!1,Dm=0,lh=1/0,ch=null,qi=null,Xt=0,Fi=null,vo=null,_o=0,Om=0,Mm=null,H_=null,ec=0,km=null;function Dn(){if((Je&2)!==0&&Fe!==0)return Fe&-Fe;if(Q.T!==null){var n=so;return n!==0?n:Bm()}return Si()}function G_(){Kn===0&&(Kn=(Fe&536870912)===0||Ke?cl():536870912);var n=Yn.current;return n!==null&&(n.flags|=32),Kn}function On(n,s,a){(n===lt&&(et===2||et===9)||n.cancelPendingCommit!==null)&&(Eo(n,0),Hi(n,Fe,Kn,!1)),jr(n,a),((Je&2)===0||n!==lt)&&(n===lt&&((Je&2)===0&&(la|=a),pt===4&&Hi(n,Fe,Kn,!1)),Sr(n))}function Y_(n,s,a){if((Je&6)!==0)throw Error(i(327));var l=!a&&(s&124)===0&&(s&n.expiredLanes)===0||ks(n,s),f=l?rx(n,s):Lm(n,s,!0),m=l;do{if(f===0){po&&!l&&Hi(n,s,0,!1);break}else{if(a=n.current.alternate,m&&!tx(a)){f=Lm(n,s,!1),m=!1;continue}if(f===2){if(m=s,n.errorRecoveryDisabledLanes&m)var b=0;else b=n.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){s=b;e:{var S=n;f=Jl;var O=S.current.memoizedState.isDehydrated;if(O&&(Eo(S,b).flags|=256),b=Lm(S,b,!1),b!==2){if(Im&&!O){S.errorRecoveryDisabledLanes|=m,la|=m,f=4;break e}m=yn,yn=f,m!==null&&(yn===null?yn=m:yn.push.apply(yn,m))}f=b}if(m=!1,f!==2)continue}}if(f===1){Eo(n,0),Hi(n,s,0,!0);break}e:{switch(l=n,m=f,m){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:Hi(l,s,Kn,!zi);break e;case 2:yn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(f=Dm+300-Vn(),10<f)){if(Hi(l,s,Kn,!zi),Va(l,0,!0)!==0)break e;l.timeoutHandle=b0(K_.bind(null,l,a,yn,ch,Cm,s,Kn,la,yo,zi,m,2,-0,0),f);break e}K_(l,a,yn,ch,Cm,s,Kn,la,yo,zi,m,0,-0,0)}}break}while(!0);Sr(n)}function K_(n,s,a,l,f,m,b,S,O,H,W,te,Y,K){if(n.timeoutHandle=-1,te=s.subtreeFlags,(te&8192||(te&16785408)===16785408)&&(oc={stylesheets:null,count:0,unsuspend:Vx},z_(s),te=Ux(),te!==null)){n.cancelPendingCommit=te(e0.bind(null,n,s,m,a,l,f,b,S,O,W,1,Y,K)),Hi(n,m,b,!H);return}e0(n,s,m,a,l,f,b,S,O)}function tx(n){for(var s=n;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],m=f.getSnapshot;f=f.value;try{if(!xn(m(),f))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Hi(n,s,a,l){s&=~Nm,s&=~la,n.suspendedLanes|=s,n.pingedLanes&=~s,l&&(n.warmLanes|=s),l=n.expirationTimes;for(var f=s;0<f;){var m=31-nn(f),b=1<<m;l[m]=-1,f&=~b}a!==0&&cr(n,a,s)}function uh(){return(Je&6)===0?(tc(0),!1):!0}function Pm(){if(Pe!==null){if(et===0)var n=Pe.return;else n=Pe,Jr=na=null,Zd(n),ho=null,Gl=0,n=Pe;for(;n!==null;)x_(n.alternate,n),n=n.return;Pe=null}}function Eo(n,s){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,_x(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),Pm(),lt=n,Pe=a=Xr(n.current,null),Fe=s,et=0,Cn=null,zi=!1,po=ks(n,s),Im=!1,yo=Kn=Nm=la=Bi=pt=0,yn=Jl=null,Cm=!1,(s&8)!==0&&(s|=s&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=s;0<l;){var f=31-nn(l),m=1<<f;s|=n[f],l&=~m}return oi=s,Ou(),a}function Q_(n,s){Ce=null,Q.H=Wu,s===Vl||s===Bu?(s=hv(),et=3):s===lv?(s=hv(),et=4):et=s===f_?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Cn=s,Pe===null&&(pt=1,nh(n,qn(s,n.current)))}function $_(){var n=Q.H;return Q.H=Wu,n===null?Wu:n}function X_(){var n=Q.A;return Q.A=JA,n}function Vm(){pt=4,zi||(Fe&4194048)!==Fe&&Yn.current!==null||(po=!0),(Bi&134217727)===0&&(la&134217727)===0||lt===null||Hi(lt,Fe,Kn,!1)}function Lm(n,s,a){var l=Je;Je|=2;var f=$_(),m=X_();(lt!==n||Fe!==s)&&(ch=null,Eo(n,s)),s=!1;var b=pt;e:do try{if(et!==0&&Pe!==null){var S=Pe,O=Cn;switch(et){case 8:Pm(),b=6;break e;case 3:case 2:case 9:case 6:Yn.current===null&&(s=!0);var H=et;if(et=0,Cn=null,bo(n,S,O,H),a&&po){b=0;break e}break;default:H=et,et=0,Cn=null,bo(n,S,O,H)}}nx(),b=pt;break}catch(W){Q_(n,W)}while(!0);return s&&n.shellSuspendCounter++,Jr=na=null,Je=l,Q.H=f,Q.A=m,Pe===null&&(lt=null,Fe=0,Ou()),b}function nx(){for(;Pe!==null;)W_(Pe)}function rx(n,s){var a=Je;Je|=2;var l=$_(),f=X_();lt!==n||Fe!==s?(ch=null,lh=Vn()+500,Eo(n,s)):po=ks(n,s);e:do try{if(et!==0&&Pe!==null){s=Pe;var m=Cn;t:switch(et){case 1:et=0,Cn=null,bo(n,s,m,1);break;case 2:case 9:if(cv(m)){et=0,Cn=null,Z_(s);break}s=function(){et!==2&&et!==9||lt!==n||(et=7),Sr(n)},m.then(s,s);break e;case 3:et=7;break e;case 4:et=5;break e;case 7:cv(m)?(et=0,Cn=null,Z_(s)):(et=0,Cn=null,bo(n,s,m,7));break;case 5:var b=null;switch(Pe.tag){case 26:b=Pe.memoizedState;case 5:case 27:var S=Pe;if(!b||M0(b)){et=0,Cn=null;var O=S.sibling;if(O!==null)Pe=O;else{var H=S.return;H!==null?(Pe=H,hh(H)):Pe=null}break t}}et=0,Cn=null,bo(n,s,m,5);break;case 6:et=0,Cn=null,bo(n,s,m,6);break;case 8:Pm(),pt=6;break e;default:throw Error(i(462))}}ix();break}catch(W){Q_(n,W)}while(!0);return Jr=na=null,Q.H=l,Q.A=f,Je=a,Pe!==null?0:(lt=null,Fe=0,Ou(),pt)}function ix(){for(;Pe!==null&&!sl();)W_(Pe)}function W_(n){var s=S_(n.alternate,n,oi);n.memoizedProps=n.pendingProps,s===null?hh(n):Pe=s}function Z_(n){var s=n,a=s.alternate;switch(s.tag){case 15:case 0:s=v_(a,s,s.pendingProps,s.type,void 0,Fe);break;case 11:s=v_(a,s,s.pendingProps,s.type.render,s.ref,Fe);break;case 5:Zd(s);default:x_(a,s),s=Pe=Jy(s,oi),s=S_(a,s,oi)}n.memoizedProps=n.pendingProps,s===null?hh(n):Pe=s}function bo(n,s,a,l){Jr=na=null,Zd(s),ho=null,Gl=0;var f=s.return;try{if(KA(n,f,s,a,Fe)){pt=1,nh(n,qn(a,n.current)),Pe=null;return}}catch(m){if(f!==null)throw Pe=f,m;pt=1,nh(n,qn(a,n.current)),Pe=null;return}s.flags&32768?(Ke||l===1?n=!0:po||(Fe&536870912)!==0?n=!1:(zi=n=!0,(l===2||l===9||l===3||l===6)&&(l=Yn.current,l!==null&&l.tag===13&&(l.flags|=16384))),J_(s,n)):hh(s)}function hh(n){var s=n;do{if((s.flags&32768)!==0){J_(s,zi);return}n=s.return;var a=$A(s.alternate,s,oi);if(a!==null){Pe=a;return}if(s=s.sibling,s!==null){Pe=s;return}Pe=s=n}while(s!==null);pt===0&&(pt=5)}function J_(n,s){do{var a=XA(n.alternate,n);if(a!==null){a.flags&=32767,Pe=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(n=n.sibling,n!==null)){Pe=n;return}Pe=n=a}while(n!==null);pt=6,Pe=null}function e0(n,s,a,l,f,m,b,S,O){n.cancelPendingCommit=null;do fh();while(Xt!==0);if((Je&6)!==0)throw Error(i(327));if(s!==null){if(s===n.current)throw Error(i(177));if(m=s.lanes|s.childLanes,m|=Rd,hl(n,a,m,b,S,O),n===lt&&(Pe=lt=null,Fe=0),vo=s,Fi=n,_o=a,Om=m,Mm=f,H_=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,lx(Cs,function(){return s0(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,f=le.p,le.p=2,b=Je,Je|=4;try{WA(n,s,a)}finally{Je=b,le.p=f,Q.T=l}}Xt=1,t0(),n0(),r0()}}function t0(){if(Xt===1){Xt=0;var n=Fi,s=vo,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var l=le.p;le.p=2;var f=Je;Je|=4;try{L_(s,n);var m=$m,b=Fy(n.containerInfo),S=m.focusedElem,O=m.selectionRange;if(b!==S&&S&&S.ownerDocument&&qy(S.ownerDocument.documentElement,S)){if(O!==null&&Td(S)){var H=O.start,W=O.end;if(W===void 0&&(W=H),"selectionStart"in S)S.selectionStart=H,S.selectionEnd=Math.min(W,S.value.length);else{var te=S.ownerDocument||document,Y=te&&te.defaultView||window;if(Y.getSelection){var K=Y.getSelection(),Ae=S.textContent.length,Ee=Math.min(O.start,Ae),st=O.end===void 0?Ee:Math.min(O.end,Ae);!K.extend&&Ee>st&&(b=st,st=Ee,Ee=b);var B=By(S,Ee),j=By(S,st);if(B&&j&&(K.rangeCount!==1||K.anchorNode!==B.node||K.anchorOffset!==B.offset||K.focusNode!==j.node||K.focusOffset!==j.offset)){var F=te.createRange();F.setStart(B.node,B.offset),K.removeAllRanges(),Ee>st?(K.addRange(F),K.extend(j.node,j.offset)):(F.setEnd(j.node,j.offset),K.addRange(F))}}}}for(te=[],K=S;K=K.parentNode;)K.nodeType===1&&te.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<te.length;S++){var Z=te[S];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Sh=!!Qm,$m=Qm=null}finally{Je=f,le.p=l,Q.T=a}}n.current=s,Xt=2}}function n0(){if(Xt===2){Xt=0;var n=Fi,s=vo,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var l=le.p;le.p=2;var f=Je;Je|=4;try{M_(n,s.alternate,s)}finally{Je=f,le.p=l,Q.T=a}}Xt=3}}function r0(){if(Xt===4||Xt===3){Xt=0,ou();var n=Fi,s=vo,a=_o,l=H_;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Xt=5:(Xt=0,vo=Fi=null,i0(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(qi=null),La(a),s=s.stateNode,Ze&&typeof Ze.onCommitFiberRoot=="function")try{Ze.onCommitFiberRoot(mt,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=Q.T,f=le.p,le.p=2,Q.T=null;try{for(var m=n.onRecoverableError,b=0;b<l.length;b++){var S=l[b];m(S.value,{componentStack:S.stack})}}finally{Q.T=s,le.p=f}}(_o&3)!==0&&fh(),Sr(n),f=n.pendingLanes,(a&4194090)!==0&&(f&42)!==0?n===km?ec++:(ec=0,km=n):ec=0,tc(0)}}function i0(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,kl(s)))}function fh(n){return t0(),n0(),r0(),s0()}function s0(){if(Xt!==5)return!1;var n=Fi,s=Om;Om=0;var a=La(_o),l=Q.T,f=le.p;try{le.p=32>a?32:a,Q.T=null,a=Mm,Mm=null;var m=Fi,b=_o;if(Xt=0,vo=Fi=null,_o=0,(Je&6)!==0)throw Error(i(331));var S=Je;if(Je|=4,q_(m.current),j_(m,m.current,b,a),Je=S,tc(0,!1),Ze&&typeof Ze.onPostCommitFiberRoot=="function")try{Ze.onPostCommitFiberRoot(mt,m)}catch{}return!0}finally{le.p=f,Q.T=l,i0(n,s)}}function a0(n,s,a){s=qn(a,s),s=fm(n.stateNode,s,2),n=Mi(n,s,2),n!==null&&(jr(n,2),Sr(n))}function ot(n,s,a){if(n.tag===3)a0(n,n,a);else for(;s!==null;){if(s.tag===3){a0(s,n,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(qi===null||!qi.has(l))){n=qn(a,n),a=u_(2),l=Mi(s,a,2),l!==null&&(h_(a,l,s,n),jr(l,2),Sr(l));break}}s=s.return}}function Um(n,s,a){var l=n.pingCache;if(l===null){l=n.pingCache=new ex;var f=new Set;l.set(s,f)}else f=l.get(s),f===void 0&&(f=new Set,l.set(s,f));f.has(a)||(Im=!0,f.add(a),n=sx.bind(null,n,s,a),s.then(n,n))}function sx(n,s,a){var l=n.pingCache;l!==null&&l.delete(s),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,lt===n&&(Fe&a)===a&&(pt===4||pt===3&&(Fe&62914560)===Fe&&300>Vn()-Dm?(Je&2)===0&&Eo(n,0):Nm|=a,yo===Fe&&(yo=0)),Sr(n)}function o0(n,s){s===0&&(s=ul()),n=to(n,s),n!==null&&(jr(n,s),Sr(n))}function ax(n){var s=n.memoizedState,a=0;s!==null&&(a=s.retryLane),o0(n,a)}function ox(n,s){var a=0;switch(n.tag){case 13:var l=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(i(314))}l!==null&&l.delete(s),o0(n,a)}function lx(n,s){return Is(n,s)}var dh=null,To=null,jm=!1,mh=!1,zm=!1,ca=0;function Sr(n){n!==To&&n.next===null&&(To===null?dh=To=n:To=To.next=n),mh=!0,jm||(jm=!0,ux())}function tc(n,s){if(!zm&&mh){zm=!0;do for(var a=!1,l=dh;l!==null;){if(n!==0){var f=l.pendingLanes;if(f===0)var m=0;else{var b=l.suspendedLanes,S=l.pingedLanes;m=(1<<31-nn(42|n)+1)-1,m&=f&~(b&~S),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,h0(l,m))}else m=Fe,m=Va(l,l===lt?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||ks(l,m)||(a=!0,h0(l,m));l=l.next}while(a);zm=!1}}function cx(){l0()}function l0(){mh=jm=!1;var n=0;ca!==0&&(vx()&&(n=ca),ca=0);for(var s=Vn(),a=null,l=dh;l!==null;){var f=l.next,m=c0(l,s);m===0?(l.next=null,a===null?dh=f:a.next=f,f===null&&(To=a)):(a=l,(n!==0||(m&3)!==0)&&(mh=!0)),l=f}tc(n)}function c0(n,s){for(var a=n.suspendedLanes,l=n.pingedLanes,f=n.expirationTimes,m=n.pendingLanes&-62914561;0<m;){var b=31-nn(m),S=1<<b,O=f[b];O===-1?((S&a)===0||(S&l)!==0)&&(f[b]=ll(S,s)):O<=s&&(n.expiredLanes|=S),m&=~S}if(s=lt,a=Fe,a=Va(n,n===s?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===s&&(et===2||et===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&Ns(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||ks(n,a)){if(s=a&-a,s===n.callbackPriority)return s;switch(l!==null&&Ns(l),La(a)){case 2:case 8:a=ka;break;case 32:a=Cs;break;case 268435456:a=Pa;break;default:a=Cs}return l=u0.bind(null,n),a=Is(a,l),n.callbackPriority=s,n.callbackNode=a,s}return l!==null&&l!==null&&Ns(l),n.callbackPriority=2,n.callbackNode=null,2}function u0(n,s){if(Xt!==0&&Xt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(fh()&&n.callbackNode!==a)return null;var l=Fe;return l=Va(n,n===lt?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(Y_(n,l,s),c0(n,Vn()),n.callbackNode!=null&&n.callbackNode===a?u0.bind(null,n):null)}function h0(n,s){if(fh())return null;Y_(n,s,!0)}function ux(){Ex(function(){(Je&6)!==0?Is(al,cx):l0()})}function Bm(){return ca===0&&(ca=cl()),ca}function f0(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Fa(""+n)}function d0(n,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,n.id&&a.setAttribute("form",n.id),s.parentNode.insertBefore(a,s),n=new FormData(n),a.parentNode.removeChild(a),n}function hx(n,s,a,l,f){if(s==="submit"&&a&&a.stateNode===f){var m=f0((f[St]||null).action),b=l.submitter;b&&(s=(s=b[St]||null)?f0(s.formAction):b.getAttribute("formAction"),s!==null&&(m=s,b=null));var S=new Ha("action","action",null,l,f);n.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ca!==0){var O=b?d0(f,b):new FormData(f);om(a,{pending:!0,data:O,method:f.method,action:m},null,O)}}else typeof m=="function"&&(S.preventDefault(),O=b?d0(f,b):new FormData(f),om(a,{pending:!0,data:O,method:f.method,action:m},m,O))},currentTarget:f}]})}}for(var qm=0;qm<xd.length;qm++){var Fm=xd[qm],fx=Fm.toLowerCase(),dx=Fm[0].toUpperCase()+Fm.slice(1);tr(fx,"on"+dx)}tr(Yy,"onAnimationEnd"),tr(Ky,"onAnimationIteration"),tr(Qy,"onAnimationStart"),tr("dblclick","onDoubleClick"),tr("focusin","onFocus"),tr("focusout","onBlur"),tr(CA,"onTransitionRun"),tr(DA,"onTransitionStart"),tr(OA,"onTransitionCancel"),tr($y,"onTransitionEnd"),Br("onMouseEnter",["mouseout","mouseover"]),Br("onMouseLeave",["mouseout","mouseover"]),Br("onPointerEnter",["pointerout","pointerover"]),Br("onPointerLeave",["pointerout","pointerover"]),Jn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Jn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Jn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Jn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Jn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Jn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(nc));function m0(n,s){s=(s&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],f=l.event;l=l.listeners;e:{var m=void 0;if(s)for(var b=l.length-1;0<=b;b--){var S=l[b],O=S.instance,H=S.currentTarget;if(S=S.listener,O!==m&&f.isPropagationStopped())break e;m=S,f.currentTarget=H;try{m(f)}catch(W){th(W)}f.currentTarget=null,m=O}else for(b=0;b<l.length;b++){if(S=l[b],O=S.instance,H=S.currentTarget,S=S.listener,O!==m&&f.isPropagationStopped())break e;m=S,f.currentTarget=H;try{m(f)}catch(W){th(W)}f.currentTarget=null,m=O}}}}function Ve(n,s){var a=s[dl];a===void 0&&(a=s[dl]=new Set);var l=n+"__bubble";a.has(l)||(g0(s,n,2,!1),a.add(l))}function Hm(n,s,a){var l=0;s&&(l|=4),g0(a,n,l,s)}var gh="_reactListening"+Math.random().toString(36).slice(2);function Gm(n){if(!n[gh]){n[gh]=!0,ml.forEach(function(a){a!=="selectionchange"&&(mx.has(a)||Hm(a,!1,n),Hm(a,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[gh]||(s[gh]=!0,Hm("selectionchange",!1,s))}}function g0(n,s,a,l){switch(j0(s)){case 2:var f=Bx;break;case 8:f=qx;break;default:f=sg}a=f.bind(null,s,a,n),f=void 0,!zn||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),l?f!==void 0?n.addEventListener(s,a,{capture:!0,passive:f}):n.addEventListener(s,a,!0):f!==void 0?n.addEventListener(s,a,{passive:f}):n.addEventListener(s,a,!1)}function Ym(n,s,a,l,f){var m=l;if((s&1)===0&&(s&2)===0&&l!==null)e:for(;;){if(l===null)return;var b=l.tag;if(b===3||b===4){var S=l.stateNode.containerInfo;if(S===f)break;if(b===4)for(b=l.return;b!==null;){var O=b.tag;if((O===3||O===4)&&b.stateNode.containerInfo===f)return;b=b.return}for(;S!==null;){if(b=zr(S),b===null)return;if(O=b.tag,O===5||O===6||O===26||O===27){l=m=b;continue e}S=S.parentNode}}l=l.return}yu(function(){var H=m,W=jn(a),te=[];e:{var Y=Xy.get(n);if(Y!==void 0){var K=Ha,Ae=n;switch(n){case"keypress":if(gr(a)===0)break e;case"keydown":case"keyup":K=Xa;break;case"focusin":Ae="focus",K=Ka;break;case"focusout":Ae="blur",K=Ka;break;case"beforeblur":case"afterblur":K=Ka;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=Bn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=vd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=Au;break;case Yy:case Ky:case Qy:K=Qa;break;case $y:K=Ru;break;case"scroll":case"scrollend":K=vu;break;case"wheel":K=Wa;break;case"copy":case"cut":case"paste":K=$a;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=xl;break;case"toggle":case"beforetoggle":K=Nu}var Ee=(s&4)!==0,st=!Ee&&(n==="scroll"||n==="scrollend"),B=Ee?Y!==null?Y+"Capture":null:Y;Ee=[];for(var j=H,F;j!==null;){var Z=j;if(F=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||F===null||B===null||(Z=qs(j,B),Z!=null&&Ee.push(rc(j,Z,F))),st)break;j=j.return}0<Ee.length&&(Y=new K(Y,Ae,null,a,W),te.push({event:Y,listeners:Ee}))}}if((s&7)===0){e:{if(Y=n==="mouseover"||n==="pointerover",K=n==="mouseout"||n==="pointerout",Y&&a!==Hr&&(Ae=a.relatedTarget||a.fromElement)&&(zr(Ae)||Ae[Ln]))break e;if((K||Y)&&(Y=W.window===W?W:(Y=W.ownerDocument)?Y.defaultView||Y.parentWindow:window,K?(Ae=a.relatedTarget||a.toElement,K=H,Ae=Ae?zr(Ae):null,Ae!==null&&(st=c(Ae),Ee=Ae.tag,Ae!==st||Ee!==5&&Ee!==27&&Ee!==6)&&(Ae=null)):(K=null,Ae=H),K!==Ae)){if(Ee=Bn,Z="onMouseLeave",B="onMouseEnter",j="mouse",(n==="pointerout"||n==="pointerover")&&(Ee=xl,Z="onPointerLeave",B="onPointerEnter",j="pointer"),st=K==null?Y:hr(K),F=Ae==null?Y:hr(Ae),Y=new Ee(Z,j+"leave",K,a,W),Y.target=st,Y.relatedTarget=F,Z=null,zr(W)===H&&(Ee=new Ee(B,j+"enter",Ae,a,W),Ee.target=F,Ee.relatedTarget=st,Z=Ee),st=Z,K&&Ae)t:{for(Ee=K,B=Ae,j=0,F=Ee;F;F=wo(F))j++;for(F=0,Z=B;Z;Z=wo(Z))F++;for(;0<j-F;)Ee=wo(Ee),j--;for(;0<F-j;)B=wo(B),F--;for(;j--;){if(Ee===B||B!==null&&Ee===B.alternate)break t;Ee=wo(Ee),B=wo(B)}Ee=null}else Ee=null;K!==null&&p0(te,Y,K,Ee,!1),Ae!==null&&st!==null&&p0(te,st,Ae,Ee,!0)}}e:{if(Y=H?hr(H):window,K=Y.nodeName&&Y.nodeName.toLowerCase(),K==="select"||K==="input"&&Y.type==="file")var ge=Py;else if(Pt(Y))if(Vy)ge=RA;else{ge=AA;var Oe=SA}else K=Y.nodeName,!K||K.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?H&&_l(H.elementType)&&(ge=Py):ge=xA;if(ge&&(ge=ge(n,H))){$r(te,ge,a,W);break e}Oe&&Oe(n,Y,H),n==="focusout"&&H&&Y.type==="number"&&H.memoizedProps.value!=null&&Ii(Y,"number",Y.value)}switch(Oe=H?hr(H):window,n){case"focusin":(Pt(Oe)||Oe.contentEditable==="true")&&(Za=Oe,wd=H,Nl=null);break;case"focusout":Nl=wd=Za=null;break;case"mousedown":Sd=!0;break;case"contextmenu":case"mouseup":case"dragend":Sd=!1,Hy(te,a,W);break;case"selectionchange":if(NA)break;case"keydown":case"keyup":Hy(te,a,W)}var ve;if(vr)e:{switch(n){case"compositionstart":var be="onCompositionStart";break e;case"compositionend":be="onCompositionEnd";break e;case"compositionupdate":be="onCompositionUpdate";break e}be=void 0}else Be?$(n,a)&&(be="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(be="onCompositionStart");be&&(_&&a.locale!=="ko"&&(Be||be!=="onCompositionStart"?be==="onCompositionEnd"&&Be&&(ve=bl()):(mr=W,Ni="value"in mr?mr.value:mr.textContent,Be=!0)),Oe=ph(H,be),0<Oe.length&&(be=new Sl(be,n,null,a,W),te.push({event:be,listeners:Oe}),ve?be.data=ve:(ve=ce(a),ve!==null&&(be.data=ve)))),(ve=y?kt(n,a):qe(n,a))&&(be=ph(H,"onBeforeInput"),0<be.length&&(Oe=new Sl("onBeforeInput","beforeinput",null,a,W),te.push({event:Oe,listeners:be}),Oe.data=ve)),hx(te,n,H,a,W)}m0(te,s)})}function rc(n,s,a){return{instance:n,listener:s,currentTarget:a}}function ph(n,s){for(var a=s+"Capture",l=[];n!==null;){var f=n,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=qs(n,a),f!=null&&l.unshift(rc(n,f,m)),f=qs(n,s),f!=null&&l.push(rc(n,f,m))),n.tag===3)return l;n=n.return}return[]}function wo(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function p0(n,s,a,l,f){for(var m=s._reactName,b=[];a!==null&&a!==l;){var S=a,O=S.alternate,H=S.stateNode;if(S=S.tag,O!==null&&O===l)break;S!==5&&S!==26&&S!==27||H===null||(O=H,f?(H=qs(a,m),H!=null&&b.unshift(rc(a,H,O))):f||(H=qs(a,m),H!=null&&b.push(rc(a,H,O)))),a=a.return}b.length!==0&&n.push({event:s,listeners:b})}var gx=/\r\n?/g,px=/\u0000|\uFFFD/g;function y0(n){return(typeof n=="string"?n:""+n).replace(gx,`
`).replace(px,"")}function v0(n,s){return s=y0(s),y0(n)===s}function yh(){}function it(n,s,a,l,f,m){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||Un(n,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&Un(n,""+l);break;case"className":fr(n,"class",l);break;case"tabIndex":fr(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":fr(n,a,l);break;case"style":vl(n,l,m);break;case"data":if(s!=="object"){fr(n,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Fa(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(s!=="input"&&it(n,s,"name",f.name,f,null),it(n,s,"formEncType",f.formEncType,f,null),it(n,s,"formMethod",f.formMethod,f,null),it(n,s,"formTarget",f.formTarget,f,null)):(it(n,s,"encType",f.encType,f,null),it(n,s,"method",f.method,f,null),it(n,s,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Fa(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=yh);break;case"onScroll":l!=null&&Ve("scroll",n);break;case"onScrollEnd":l!=null&&Ve("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(i(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=Fa(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":Ve("beforetoggle",n),Ve("toggle",n),Ri(n,"popover",l);break;case"xlinkActuate":Kt(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Kt(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Kt(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Kt(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Kt(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Kt(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Kt(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Kt(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Kt(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ri(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=pd.get(a)||a,Ri(n,a,l))}}function Km(n,s,a,l,f,m){switch(a){case"style":vl(n,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(i(60));n.innerHTML=a}}break;case"children":typeof l=="string"?Un(n,l):(typeof l=="number"||typeof l=="bigint")&&Un(n,""+l);break;case"onScroll":l!=null&&Ve("scroll",n);break;case"onScrollEnd":l!=null&&Ve("scrollend",n);break;case"onClick":l!=null&&(n.onclick=yh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ua.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),s=a.slice(2,f?a.length-7:void 0),m=n[St]||null,m=m!=null?m[a]:null,typeof m=="function"&&n.removeEventListener(s,m,f),typeof l=="function")){typeof m!="function"&&m!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(s,l,f);break e}a in n?n[a]=l:l===!0?n.setAttribute(a,""):Ri(n,a,l)}}}function Wt(n,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",n),Ve("load",n);var l=!1,f=!1,m;for(m in a)if(a.hasOwnProperty(m)){var b=a[m];if(b!=null)switch(m){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:it(n,s,m,b,a,null)}}f&&it(n,s,"srcSet",a.srcSet,a,null),l&&it(n,s,"src",a.src,a,null);return;case"input":Ve("invalid",n);var S=m=b=f=null,O=null,H=null;for(l in a)if(a.hasOwnProperty(l)){var W=a[l];if(W!=null)switch(l){case"name":f=W;break;case"type":b=W;break;case"checked":O=W;break;case"defaultChecked":H=W;break;case"value":m=W;break;case"defaultValue":S=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(137,s));break;default:it(n,s,l,W,a,null)}}js(n,m,S,O,H,b,f,!1),qa(n);return;case"select":Ve("invalid",n),l=b=m=null;for(f in a)if(a.hasOwnProperty(f)&&(S=a[f],S!=null))switch(f){case"value":m=S;break;case"defaultValue":b=S;break;case"multiple":l=S;default:it(n,s,f,S,a,null)}s=m,a=b,n.multiple=!!l,s!=null?Fr(n,!!l,s,!1):a!=null&&Fr(n,!!l,a,!0);return;case"textarea":Ve("invalid",n),m=f=l=null;for(b in a)if(a.hasOwnProperty(b)&&(S=a[b],S!=null))switch(b){case"value":l=S;break;case"defaultValue":f=S;break;case"children":m=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:it(n,s,b,S,a,null)}zs(n,l,f,m),qa(n);return;case"option":for(O in a)if(a.hasOwnProperty(O)&&(l=a[O],l!=null))switch(O){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:it(n,s,O,l,a,null)}return;case"dialog":Ve("beforetoggle",n),Ve("toggle",n),Ve("cancel",n),Ve("close",n);break;case"iframe":case"object":Ve("load",n);break;case"video":case"audio":for(l=0;l<nc.length;l++)Ve(nc[l],n);break;case"image":Ve("error",n),Ve("load",n);break;case"details":Ve("toggle",n);break;case"embed":case"source":case"link":Ve("error",n),Ve("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in a)if(a.hasOwnProperty(H)&&(l=a[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:it(n,s,H,l,a,null)}return;default:if(_l(s)){for(W in a)a.hasOwnProperty(W)&&(l=a[W],l!==void 0&&Km(n,s,W,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&it(n,s,S,l,a,null))}function yx(n,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,b=null,S=null,O=null,H=null,W=null;for(K in a){var te=a[K];if(a.hasOwnProperty(K)&&te!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":O=te;default:l.hasOwnProperty(K)||it(n,s,K,null,l,te)}}for(var Y in l){var K=l[Y];if(te=a[Y],l.hasOwnProperty(Y)&&(K!=null||te!=null))switch(Y){case"type":m=K;break;case"name":f=K;break;case"checked":H=K;break;case"defaultChecked":W=K;break;case"value":b=K;break;case"defaultValue":S=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(i(137,s));break;default:K!==te&&it(n,s,Y,K,l,te)}}An(n,b,S,O,H,W,m,f);return;case"select":K=b=S=Y=null;for(m in a)if(O=a[m],a.hasOwnProperty(m)&&O!=null)switch(m){case"value":break;case"multiple":K=O;default:l.hasOwnProperty(m)||it(n,s,m,null,l,O)}for(f in l)if(m=l[f],O=a[f],l.hasOwnProperty(f)&&(m!=null||O!=null))switch(f){case"value":Y=m;break;case"defaultValue":S=m;break;case"multiple":b=m;default:m!==O&&it(n,s,f,m,l,O)}s=S,a=b,l=K,Y!=null?Fr(n,!!a,Y,!1):!!l!=!!a&&(s!=null?Fr(n,!!a,s,!0):Fr(n,!!a,a?[]:"",!1));return;case"textarea":K=Y=null;for(S in a)if(f=a[S],a.hasOwnProperty(S)&&f!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:it(n,s,S,null,l,f)}for(b in l)if(f=l[b],m=a[b],l.hasOwnProperty(b)&&(f!=null||m!=null))switch(b){case"value":Y=f;break;case"defaultValue":K=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(i(91));break;default:f!==m&&it(n,s,b,f,l,m)}nt(n,Y,K);return;case"option":for(var Ae in a)if(Y=a[Ae],a.hasOwnProperty(Ae)&&Y!=null&&!l.hasOwnProperty(Ae))switch(Ae){case"selected":n.selected=!1;break;default:it(n,s,Ae,null,l,Y)}for(O in l)if(Y=l[O],K=a[O],l.hasOwnProperty(O)&&Y!==K&&(Y!=null||K!=null))switch(O){case"selected":n.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:it(n,s,O,Y,l,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in a)Y=a[Ee],a.hasOwnProperty(Ee)&&Y!=null&&!l.hasOwnProperty(Ee)&&it(n,s,Ee,null,l,Y);for(H in l)if(Y=l[H],K=a[H],l.hasOwnProperty(H)&&Y!==K&&(Y!=null||K!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(i(137,s));break;default:it(n,s,H,Y,l,K)}return;default:if(_l(s)){for(var st in a)Y=a[st],a.hasOwnProperty(st)&&Y!==void 0&&!l.hasOwnProperty(st)&&Km(n,s,st,void 0,l,Y);for(W in l)Y=l[W],K=a[W],!l.hasOwnProperty(W)||Y===K||Y===void 0&&K===void 0||Km(n,s,W,Y,l,K);return}}for(var B in a)Y=a[B],a.hasOwnProperty(B)&&Y!=null&&!l.hasOwnProperty(B)&&it(n,s,B,null,l,Y);for(te in l)Y=l[te],K=a[te],!l.hasOwnProperty(te)||Y===K||Y==null&&K==null||it(n,s,te,Y,l,K)}var Qm=null,$m=null;function vh(n){return n.nodeType===9?n:n.ownerDocument}function _0(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function E0(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function Xm(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Wm=null;function vx(){var n=window.event;return n&&n.type==="popstate"?n===Wm?!1:(Wm=n,!0):(Wm=null,!1)}var b0=typeof setTimeout=="function"?setTimeout:void 0,_x=typeof clearTimeout=="function"?clearTimeout:void 0,T0=typeof Promise=="function"?Promise:void 0,Ex=typeof queueMicrotask=="function"?queueMicrotask:typeof T0<"u"?function(n){return T0.resolve(null).then(n).catch(bx)}:b0;function bx(n){setTimeout(function(){throw n})}function Gi(n){return n==="head"}function w0(n,s){var a=s,l=0,f=0;do{var m=a.nextSibling;if(n.removeChild(a),m&&m.nodeType===8)if(a=m.data,a==="/$"){if(0<l&&8>l){a=l;var b=n.ownerDocument;if(a&1&&ic(b.documentElement),a&2&&ic(b.body),a&4)for(a=b.head,ic(a),b=a.firstChild;b;){var S=b.nextSibling,O=b.nodeName;b[Ps]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&b.rel.toLowerCase()==="stylesheet"||a.removeChild(b),b=S}}if(f===0){n.removeChild(m),fc(s);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:l=a.charCodeAt(0)-48;else l=0;a=m}while(a);fc(s)}function Zm(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Zm(a),xi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function Tx(n,s,a,l){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[Ps])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(m=n.getAttribute("rel"),m==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(m!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(m=n.getAttribute("src"),(m!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===m)return n}else return n;if(n=rr(n.nextSibling),n===null)break}return null}function wx(n,s,a){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=rr(n.nextSibling),n===null))return null;return n}function Jm(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function Sx(n,s){var a=n.ownerDocument;if(n.data!=="$?"||a.readyState==="complete")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function rr(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return n}var eg=null;function S0(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return n;s--}else a==="/$"&&s++}n=n.previousSibling}return null}function A0(n,s,a){switch(s=vh(a),n){case"html":if(n=s.documentElement,!n)throw Error(i(452));return n;case"head":if(n=s.head,!n)throw Error(i(453));return n;case"body":if(n=s.body,!n)throw Error(i(454));return n;default:throw Error(i(451))}}function ic(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);xi(n)}var Qn=new Map,x0=new Set;function _h(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var li=le.d;le.d={f:Ax,r:xx,D:Rx,C:Ix,L:Nx,m:Cx,X:Ox,S:Dx,M:Mx};function Ax(){var n=li.f(),s=uh();return n||s}function xx(n){var s=ur(n);s!==null&&s.tag===5&&s.type==="form"?Yv(s):li.r(n)}var So=typeof document>"u"?null:document;function R0(n,s,a){var l=So;if(l&&typeof s=="string"&&s){var f=At(s);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),x0.has(f)||(x0.add(f),n={rel:n,crossOrigin:a,href:s},l.querySelector(f)===null&&(s=l.createElement("link"),Wt(s,"link",n),_t(s),l.head.appendChild(s)))}}function Rx(n){li.D(n),R0("dns-prefetch",n,null)}function Ix(n,s){li.C(n,s),R0("preconnect",n,s)}function Nx(n,s,a){li.L(n,s,a);var l=So;if(l&&n&&s){var f='link[rel="preload"][as="'+At(s)+'"]';s==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+At(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+At(a.imageSizes)+'"]')):f+='[href="'+At(n)+'"]';var m=f;switch(s){case"style":m=Ao(n);break;case"script":m=xo(n)}Qn.has(m)||(n=v({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:n,as:s},a),Qn.set(m,n),l.querySelector(f)!==null||s==="style"&&l.querySelector(sc(m))||s==="script"&&l.querySelector(ac(m))||(s=l.createElement("link"),Wt(s,"link",n),_t(s),l.head.appendChild(s)))}}function Cx(n,s){li.m(n,s);var a=So;if(a&&n){var l=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+At(l)+'"][href="'+At(n)+'"]',m=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=xo(n)}if(!Qn.has(m)&&(n=v({rel:"modulepreload",href:n},s),Qn.set(m,n),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ac(m)))return}l=a.createElement("link"),Wt(l,"link",n),_t(l),a.head.appendChild(l)}}}function Dx(n,s,a){li.S(n,s,a);var l=So;if(l&&n){var f=hn(l).hoistableStyles,m=Ao(n);s=s||"default";var b=f.get(m);if(!b){var S={loading:0,preload:null};if(b=l.querySelector(sc(m)))S.loading=5;else{n=v({rel:"stylesheet",href:n,"data-precedence":s},a),(a=Qn.get(m))&&tg(n,a);var O=b=l.createElement("link");_t(O),Wt(O,"link",n),O._p=new Promise(function(H,W){O.onload=H,O.onerror=W}),O.addEventListener("load",function(){S.loading|=1}),O.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Eh(b,s,l)}b={type:"stylesheet",instance:b,count:1,state:S},f.set(m,b)}}}function Ox(n,s){li.X(n,s);var a=So;if(a&&n){var l=hn(a).hoistableScripts,f=xo(n),m=l.get(f);m||(m=a.querySelector(ac(f)),m||(n=v({src:n,async:!0},s),(s=Qn.get(f))&&ng(n,s),m=a.createElement("script"),_t(m),Wt(m,"link",n),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function Mx(n,s){li.M(n,s);var a=So;if(a&&n){var l=hn(a).hoistableScripts,f=xo(n),m=l.get(f);m||(m=a.querySelector(ac(f)),m||(n=v({src:n,async:!0,type:"module"},s),(s=Qn.get(f))&&ng(n,s),m=a.createElement("script"),_t(m),Wt(m,"link",n),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function I0(n,s,a,l){var f=(f=Te.current)?_h(f):null;if(!f)throw Error(i(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=Ao(a.href),a=hn(f).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=Ao(a.href);var m=hn(f).hoistableStyles,b=m.get(n);if(b||(f=f.ownerDocument||f,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(n,b),(m=f.querySelector(sc(n)))&&!m._p&&(b.instance=m,b.state.loading=5),Qn.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Qn.set(n,a),m||kx(f,n,a,b.state))),s&&l===null)throw Error(i(528,""));return b}if(s&&l!==null)throw Error(i(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=xo(a),a=hn(f).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,n))}}function Ao(n){return'href="'+At(n)+'"'}function sc(n){return'link[rel="stylesheet"]['+n+"]"}function N0(n){return v({},n,{"data-precedence":n.precedence,precedence:null})}function kx(n,s,a,l){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=n.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),Wt(s,"link",a),_t(s),n.head.appendChild(s))}function xo(n){return'[src="'+At(n)+'"]'}function ac(n){return"script[async]"+n}function C0(n,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=n.querySelector('style[data-href~="'+At(a.href)+'"]');if(l)return s.instance=l,_t(l),l;var f=v({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),_t(l),Wt(l,"style",f),Eh(l,a.precedence,n),s.instance=l;case"stylesheet":f=Ao(a.href);var m=n.querySelector(sc(f));if(m)return s.state.loading|=4,s.instance=m,_t(m),m;l=N0(a),(f=Qn.get(f))&&tg(l,f),m=(n.ownerDocument||n).createElement("link"),_t(m);var b=m;return b._p=new Promise(function(S,O){b.onload=S,b.onerror=O}),Wt(m,"link",l),s.state.loading|=4,Eh(m,a.precedence,n),s.instance=m;case"script":return m=xo(a.src),(f=n.querySelector(ac(m)))?(s.instance=f,_t(f),f):(l=a,(f=Qn.get(m))&&(l=v({},a),ng(l,f)),n=n.ownerDocument||n,f=n.createElement("script"),_t(f),Wt(f,"link",l),n.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,Eh(l,a.precedence,n));return s.instance}function Eh(n,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,m=f,b=0;b<l.length;b++){var S=l[b];if(S.dataset.precedence===s)m=S;else if(m!==f)break}m?m.parentNode.insertBefore(n,m.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(n,s.firstChild))}function tg(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function ng(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var bh=null;function D0(n,s,a){if(bh===null){var l=new Map,f=bh=new Map;f.set(a,l)}else f=bh,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var m=a[f];if(!(m[Ps]||m[Mt]||n==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var b=m.getAttribute(s)||"";b=n+b;var S=l.get(b);S?S.push(m):l.set(b,[m])}}return l}function O0(n,s,a){n=n.ownerDocument||n,n.head.insertBefore(a,s==="title"?n.querySelector("head > title"):null)}function Px(n,s,a){if(a===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return n=s.disabled,typeof s.precedence=="string"&&n==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function M0(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var oc=null;function Vx(){}function Lx(n,s,a){if(oc===null)throw Error(i(475));var l=oc;if(s.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var f=Ao(a.href),m=n.querySelector(sc(f));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=Th.bind(l),n.then(l,l)),s.state.loading|=4,s.instance=m,_t(m);return}m=n.ownerDocument||n,a=N0(a),(f=Qn.get(f))&&tg(a,f),m=m.createElement("link"),_t(m);var b=m;b._p=new Promise(function(S,O){b.onload=S,b.onerror=O}),Wt(m,"link",a),s.instance=m}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(l.count++,s=Th.bind(l),n.addEventListener("load",s),n.addEventListener("error",s))}}function Ux(){if(oc===null)throw Error(i(475));var n=oc;return n.stylesheets&&n.count===0&&rg(n,n.stylesheets),0<n.count?function(s){var a=setTimeout(function(){if(n.stylesheets&&rg(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=s,function(){n.unsuspend=null,clearTimeout(a)}}:null}function Th(){if(this.count--,this.count===0){if(this.stylesheets)rg(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var wh=null;function rg(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,wh=new Map,s.forEach(jx,n),wh=null,Th.call(n))}function jx(n,s){if(!(s.state.loading&4)){var a=wh.get(n);if(a)var l=a.get(null);else{a=new Map,wh.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var b=f[m];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(a.set(b.dataset.precedence,b),l=b)}l&&a.set(null,l)}f=s.instance,b=f.getAttribute("data-precedence"),m=a.get(b)||l,m===l&&a.set(null,f),a.set(b,f),this.count++,l=Th.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),m?m.parentNode.insertBefore(f,m.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),s.state.loading|=4}}var lc={$$typeof:X,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function zx(n,s,a,l,f,m,b,S){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ur(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ur(0),this.hiddenUpdates=Ur(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function k0(n,s,a,l,f,m,b,S,O,H,W,te){return n=new zx(n,s,a,b,S,O,H,te),s=1,m===!0&&(s|=24),m=Rn(3,null,null,s),n.current=m,m.stateNode=n,s=Ud(),s.refCount++,n.pooledCache=s,s.refCount++,m.memoizedState={element:l,isDehydrated:a,cache:s},qd(m),n}function P0(n){return n?(n=no,n):no}function V0(n,s,a,l,f,m){f=P0(f),l.context===null?l.context=f:l.pendingContext=f,l=Oi(s),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=Mi(n,l,s),a!==null&&(On(a,n,s),Ul(a,n,s))}function L0(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<s?a:s}}function ig(n,s){L0(n,s),(n=n.alternate)&&L0(n,s)}function U0(n){if(n.tag===13){var s=to(n,67108864);s!==null&&On(s,n,67108864),ig(n,67108864)}}var Sh=!0;function Bx(n,s,a,l){var f=Q.T;Q.T=null;var m=le.p;try{le.p=2,sg(n,s,a,l)}finally{le.p=m,Q.T=f}}function qx(n,s,a,l){var f=Q.T;Q.T=null;var m=le.p;try{le.p=8,sg(n,s,a,l)}finally{le.p=m,Q.T=f}}function sg(n,s,a,l){if(Sh){var f=ag(l);if(f===null)Ym(n,s,l,Ah,a),z0(n,l);else if(Hx(f,n,s,a,l))l.stopPropagation();else if(z0(n,l),s&4&&-1<Fx.indexOf(n)){for(;f!==null;){var m=ur(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var b=Zn(m.pendingLanes);if(b!==0){var S=m;for(S.pendingLanes|=2,S.entangledLanes|=2;b;){var O=1<<31-nn(b);S.entanglements[1]|=O,b&=~O}Sr(m),(Je&6)===0&&(lh=Vn()+500,tc(0))}}break;case 13:S=to(m,2),S!==null&&On(S,m,2),uh(),ig(m,2)}if(m=ag(l),m===null&&Ym(n,s,l,Ah,a),m===f)break;f=m}f!==null&&l.stopPropagation()}else Ym(n,s,l,null,a)}}function ag(n){return n=jn(n),og(n)}var Ah=null;function og(n){if(Ah=null,n=zr(n),n!==null){var s=c(n);if(s===null)n=null;else{var a=s.tag;if(a===13){if(n=h(s),n!==null)return n;n=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return Ah=n,null}function j0(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ud()){case al:return 2;case ka:return 8;case Cs:case hd:return 32;case Pa:return 268435456;default:return 32}default:return 32}}var lg=!1,Yi=null,Ki=null,Qi=null,cc=new Map,uc=new Map,$i=[],Fx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function z0(n,s){switch(n){case"focusin":case"focusout":Yi=null;break;case"dragenter":case"dragleave":Ki=null;break;case"mouseover":case"mouseout":Qi=null;break;case"pointerover":case"pointerout":cc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":uc.delete(s.pointerId)}}function hc(n,s,a,l,f,m){return n===null||n.nativeEvent!==m?(n={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:m,targetContainers:[f]},s!==null&&(s=ur(s),s!==null&&U0(s)),n):(n.eventSystemFlags|=l,s=n.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),n)}function Hx(n,s,a,l,f){switch(s){case"focusin":return Yi=hc(Yi,n,s,a,l,f),!0;case"dragenter":return Ki=hc(Ki,n,s,a,l,f),!0;case"mouseover":return Qi=hc(Qi,n,s,a,l,f),!0;case"pointerover":var m=f.pointerId;return cc.set(m,hc(cc.get(m)||null,n,s,a,l,f)),!0;case"gotpointercapture":return m=f.pointerId,uc.set(m,hc(uc.get(m)||null,n,s,a,l,f)),!0}return!1}function B0(n){var s=zr(n.target);if(s!==null){var a=c(s);if(a!==null){if(s=a.tag,s===13){if(s=h(a),s!==null){n.blockedOn=s,uu(n.priority,function(){if(a.tag===13){var l=Dn();l=wi(l);var f=to(a,l);f!==null&&On(f,a,l),ig(a,l)}});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function xh(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var a=ag(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);Hr=l,a.target.dispatchEvent(l),Hr=null}else return s=ur(a),s!==null&&U0(s),n.blockedOn=a,!1;s.shift()}return!0}function q0(n,s,a){xh(n)&&a.delete(s)}function Gx(){lg=!1,Yi!==null&&xh(Yi)&&(Yi=null),Ki!==null&&xh(Ki)&&(Ki=null),Qi!==null&&xh(Qi)&&(Qi=null),cc.forEach(q0),uc.forEach(q0)}function Rh(n,s){n.blockedOn===s&&(n.blockedOn=null,lg||(lg=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Gx)))}var Ih=null;function F0(n){Ih!==n&&(Ih=n,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Ih===n&&(Ih=null);for(var s=0;s<n.length;s+=3){var a=n[s],l=n[s+1],f=n[s+2];if(typeof l!="function"){if(og(l||a)===null)continue;break}var m=ur(a);m!==null&&(n.splice(s,3),s-=3,om(m,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function fc(n){function s(O){return Rh(O,n)}Yi!==null&&Rh(Yi,n),Ki!==null&&Rh(Ki,n),Qi!==null&&Rh(Qi,n),cc.forEach(s),uc.forEach(s);for(var a=0;a<$i.length;a++){var l=$i[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<$i.length&&(a=$i[0],a.blockedOn===null);)B0(a),a.blockedOn===null&&$i.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],m=a[l+1],b=f[St]||null;if(typeof m=="function")b||F0(a);else if(b){var S=null;if(m&&m.hasAttribute("formAction")){if(f=m,b=m[St]||null)S=b.formAction;else if(og(f)!==null)continue}else S=b.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),F0(a)}}}function cg(n){this._internalRoot=n}Nh.prototype.render=cg.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(i(409));var a=s.current,l=Dn();V0(a,l,n,s,null,null)},Nh.prototype.unmount=cg.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;V0(n.current,2,null,n,null,null),uh(),s[Ln]=null}};function Nh(n){this._internalRoot=n}Nh.prototype.unstable_scheduleHydration=function(n){if(n){var s=Si();n={blockedOn:null,target:n,priority:s};for(var a=0;a<$i.length&&s!==0&&s<$i[a].priority;a++);$i.splice(a,0,n),a===0&&B0(n)}};var H0=e.version;if(H0!=="19.1.0")throw Error(i(527,H0,"19.1.0"));le.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(i(188)):(n=Object.keys(n).join(","),Error(i(268,n)));return n=g(s),n=n!==null?p(n):null,n=n===null?null:n.stateNode,n};var Yx={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ch=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ch.isDisabled&&Ch.supportsFiber)try{mt=Ch.inject(Yx),Ze=Ch}catch{}}return mc.createRoot=function(n,s){if(!o(n))throw Error(i(299));var a=!1,l="",f=a_,m=o_,b=l_,S=null;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(S=s.unstable_transitionCallbacks)),s=k0(n,1,!1,null,null,a,l,f,m,b,S,null),n[Ln]=s.current,Gm(n),new cg(s)},mc.hydrateRoot=function(n,s,a){if(!o(n))throw Error(i(299));var l=!1,f="",m=a_,b=o_,S=l_,O=null,H=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(b=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(O=a.unstable_transitionCallbacks),a.formState!==void 0&&(H=a.formState)),s=k0(n,1,!0,s,a??null,l,f,m,b,S,O,H),s.context=P0(null),a=s.current,l=Dn(),l=wi(l),f=Oi(l),f.callback=null,Mi(a,f,l),a=l,s.current.lanes=a,jr(s,a),Sr(s),n[Ln]=s.current,Gm(n),new Nh(s)},mc.version="19.1.0",mc}var eE;function nR(){if(eE)return fg.exports;eE=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),fg.exports=tR(),fg.exports}var rR=nR();/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR=()=>{};var tE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT=function(r){const e=[];let t=0;for(let i=0;i<r.length;i++){let o=r.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<r.length&&(r.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},sR=function(r){const e=[];let t=0,i=0;for(;t<r.length;){const o=r[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[t++];e[i++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[t++],h=r[t++],d=r[t++],g=((o&7)<<18|(c&63)<<12|(h&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(g>>10)),e[i++]=String.fromCharCode(56320+(g&1023))}else{const c=r[t++],h=r[t++];e[i++]=String.fromCharCode((o&15)<<12|(c&63)<<6|h&63)}}return e.join("")},ST={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<r.length;o+=3){const c=r[o],h=o+1<r.length,d=h?r[o+1]:0,g=o+2<r.length,p=g?r[o+2]:0,v=c>>2,w=(c&3)<<4|d>>4;let T=(d&15)<<2|p>>6,D=p&63;g||(D=64,h||(T=64)),i.push(t[v],t[w],t[T],t[D])}return i.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(wT(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):sR(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<r.length;){const c=t[r.charAt(o++)],d=o<r.length?t[r.charAt(o)]:0;++o;const p=o<r.length?t[r.charAt(o)]:64;++o;const w=o<r.length?t[r.charAt(o)]:64;if(++o,c==null||d==null||p==null||w==null)throw new aR;const T=c<<2|d>>4;if(i.push(T),p!==64){const D=d<<4&240|p>>2;if(i.push(D),w!==64){const P=p<<6&192|w;i.push(P)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class aR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const oR=function(r){const e=wT(r);return ST.encodeByteArray(e,!0)},of=function(r){return oR(r).replace(/\./g,"")},AT=function(r){try{return ST.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR=()=>lR().__FIREBASE_DEFAULTS__,uR=()=>{if(typeof process>"u"||typeof tE>"u")return;const r=tE.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},hR=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&AT(r[1]);return e&&JSON.parse(e)},kf=()=>{try{return iR()||cR()||uR()||hR()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},xT=r=>{var e,t;return(t=(e=kf())==null?void 0:e.emulatorHosts)==null?void 0:t[r]},RT=r=>{const e=xT(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},IT=()=>{var r;return(r=kf())==null?void 0:r.config},NT=r=>{var e;return(e=kf())==null?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ca(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function xp(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CT(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[of(JSON.stringify(t)),of(JSON.stringify(h)),""].join(".")}const Ac={};function dR(){const r={prod:[],emulator:[]};for(const e of Object.keys(Ac))Ac[e]?r.emulator.push(e):r.prod.push(e);return r}function mR(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let nE=!1;function Rp(r,e){if(typeof window>"u"||typeof document>"u"||!Ca(window.location.host)||Ac[r]===e||Ac[r]||nE)return;Ac[r]=e;function t(T){return`__firebase__banner__${T}`}const i="__firebase__banner",c=dR().prod.length>0;function h(){const T=document.getElementById(i);T&&T.remove()}function d(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function g(T,D){T.setAttribute("width","24"),T.setAttribute("id",D),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function p(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{nE=!0,h()},T}function v(T,D){T.setAttribute("id",D),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function w(){const T=mR(i),D=t("text"),P=document.getElementById(D)||document.createElement("span"),R=t("learnmore"),I=document.getElementById(R)||document.createElement("a"),G=t("preprendIcon"),ee=document.getElementById(G)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const X=T.element;d(X),v(I,R);const re=p();g(ee,G),X.append(ee,P,I,re),document.body.appendChild(X)}c?(P.innerText="Preview backend disconnected.",ee.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ee.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,P.innerText="Preview backend running in this workspace."),P.setAttribute("id",D)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cn())}function pR(){var e;const r=(e=kf())==null?void 0:e.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function yR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function vR(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function _R(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ER(){const r=cn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function bR(){return!pR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function TR(){try{return typeof indexedDB=="object"}catch{return!1}}function wR(){return new Promise((r,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),r(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var c;e(((c=o.error)==null?void 0:c.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR="FirebaseError";class Vr extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=SR,Object.setPrototypeOf(this,Vr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gc.prototype.create)}}class Gc{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,c=this.errors[e],h=c?AR(c,i):"Error",d=`${this.serviceName}: ${h} (${o}).`;return new Vr(o,d,i)}}function AR(r,e){return r.replace(xR,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const xR=/\{\$([^}]+)}/g;function RR(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function _a(r,e){if(r===e)return!0;const t=Object.keys(r),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const c=r[o],h=e[o];if(rE(c)&&rE(h)){if(!_a(c,h))return!1}else if(c!==h)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function rE(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yc(r){const e=[];for(const[t,i]of Object.entries(r))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function _c(r){const e={};return r.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[o,c]=i.split("=");e[decodeURIComponent(o)]=decodeURIComponent(c)}}),e}function Ec(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function IR(r,e){const t=new NR(r,e);return t.subscribe.bind(t)}class NR{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");CR(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=pg),o.error===void 0&&(o.error=pg),o.complete===void 0&&(o.complete=pg);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function CR(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function pg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(r){return r&&r._delegate?r._delegate:r}class ms{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new fR;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(e==null?void 0:e.optional)??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(MR(e))try{this.getOrInitializeService({instanceIdentifier:fa})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const c=this.getOrInitializeService({instanceIdentifier:o});i.resolve(c)}catch{}}}}clearInstance(e=fa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=fa){return this.instances.has(e)}getOptions(e=fa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[c,h]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(c);i===d&&h.resolve(o)}return o}onInit(e,t){const i=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(i)??new Set;o.add(e),this.onInitCallbacks.set(i,o);const c=this.instances.get(i);return c&&e(c,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:OR(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=fa){return this.component?this.component.multipleInstances?e:fa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function OR(r){return r===fa?void 0:r}function MR(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new DR(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Le||(Le={}));const PR={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},VR=Le.INFO,LR={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},UR=(r,e,...t)=>{if(e<r.logLevel)return;const i=new Date().toISOString(),o=LR[e];if(o)console[o](`[${i}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ip{constructor(e){this.name=e,this._logLevel=VR,this._logHandler=UR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?PR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const jR=(r,e)=>e.some(t=>r instanceof t);let iE,sE;function zR(){return iE||(iE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function BR(){return sE||(sE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const DT=new WeakMap,Gg=new WeakMap,OT=new WeakMap,yg=new WeakMap,Np=new WeakMap;function qR(r){const e=new Promise((t,i)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",h)},c=()=>{t(cs(r.result)),o()},h=()=>{i(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&DT.set(t,r)}).catch(()=>{}),Np.set(e,r),e}function FR(r){if(Gg.has(r))return;const e=new Promise((t,i)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",h),r.removeEventListener("abort",h)},c=()=>{t(),o()},h=()=>{i(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",h),r.addEventListener("abort",h)});Gg.set(r,e)}let Yg={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return Gg.get(r);if(e==="objectStoreNames")return r.objectStoreNames||OT.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return cs(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function HR(r){Yg=r(Yg)}function GR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=r.call(vg(this),e,...t);return OT.set(i,e.sort?e.sort():[e]),cs(i)}:BR().includes(r)?function(...e){return r.apply(vg(this),e),cs(DT.get(this))}:function(...e){return cs(r.apply(vg(this),e))}}function YR(r){return typeof r=="function"?GR(r):(r instanceof IDBTransaction&&FR(r),jR(r,zR())?new Proxy(r,Yg):r)}function cs(r){if(r instanceof IDBRequest)return qR(r);if(yg.has(r))return yg.get(r);const e=YR(r);return e!==r&&(yg.set(r,e),Np.set(e,r)),e}const vg=r=>Np.get(r);function KR(r,e,{blocked:t,upgrade:i,blocking:o,terminated:c}={}){const h=indexedDB.open(r,e),d=cs(h);return i&&h.addEventListener("upgradeneeded",g=>{i(cs(h.result),g.oldVersion,g.newVersion,cs(h.transaction),g)}),t&&h.addEventListener("blocked",g=>t(g.oldVersion,g.newVersion,g)),d.then(g=>{c&&g.addEventListener("close",()=>c()),o&&g.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const QR=["get","getKey","getAll","getAllKeys","count"],$R=["put","add","delete","clear"],_g=new Map;function aE(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(_g.get(e))return _g.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=$R.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||QR.includes(t)))return;const c=async function(h,...d){const g=this.transaction(h,o?"readwrite":"readonly");let p=g.store;return i&&(p=p.index(d.shift())),(await Promise.all([p[t](...d),o&&g.done]))[0]};return _g.set(e,c),c}HR(r=>({...r,get:(e,t,i)=>aE(e,t)||r.get(e,t,i),has:(e,t)=>!!aE(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(WR(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function WR(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Kg="@firebase/app",oE="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pi=new Ip("@firebase/app"),ZR="@firebase/app-compat",JR="@firebase/analytics-compat",eI="@firebase/analytics",tI="@firebase/app-check-compat",nI="@firebase/app-check",rI="@firebase/auth",iI="@firebase/auth-compat",sI="@firebase/database",aI="@firebase/data-connect",oI="@firebase/database-compat",lI="@firebase/functions",cI="@firebase/functions-compat",uI="@firebase/installations",hI="@firebase/installations-compat",fI="@firebase/messaging",dI="@firebase/messaging-compat",mI="@firebase/performance",gI="@firebase/performance-compat",pI="@firebase/remote-config",yI="@firebase/remote-config-compat",vI="@firebase/storage",_I="@firebase/storage-compat",EI="@firebase/firestore",bI="@firebase/ai",TI="@firebase/firestore-compat",wI="firebase",SI="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qg="[DEFAULT]",AI={[Kg]:"fire-core",[ZR]:"fire-core-compat",[eI]:"fire-analytics",[JR]:"fire-analytics-compat",[nI]:"fire-app-check",[tI]:"fire-app-check-compat",[rI]:"fire-auth",[iI]:"fire-auth-compat",[sI]:"fire-rtdb",[aI]:"fire-data-connect",[oI]:"fire-rtdb-compat",[lI]:"fire-fn",[cI]:"fire-fn-compat",[uI]:"fire-iid",[hI]:"fire-iid-compat",[fI]:"fire-fcm",[dI]:"fire-fcm-compat",[mI]:"fire-perf",[gI]:"fire-perf-compat",[pI]:"fire-rc",[yI]:"fire-rc-compat",[vI]:"fire-gcs",[_I]:"fire-gcs-compat",[EI]:"fire-fst",[TI]:"fire-fst-compat",[bI]:"fire-vertex","fire-js":"fire-js",[wI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lf=new Map,xI=new Map,$g=new Map;function lE(r,e){try{r.container.addComponent(e)}catch(t){pi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function Ea(r){const e=r.name;if($g.has(e))return pi.debug(`There were multiple attempts to register component ${e}.`),!1;$g.set(e,r);for(const t of lf.values())lE(t,r);for(const t of xI.values())lE(t,r);return!0}function Pf(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function _n(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},us=new Gc("app","Firebase",RI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(e,t,i){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ms("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw us.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da=SI;function MT(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const i={name:Qg,automaticDataCollectionEnabled:!0,...e},o=i.name;if(typeof o!="string"||!o)throw us.create("bad-app-name",{appName:String(o)});if(t||(t=IT()),!t)throw us.create("no-options");const c=lf.get(o);if(c){if(_a(t,c.options)&&_a(i,c.config))return c;throw us.create("duplicate-app",{appName:o})}const h=new kR(o);for(const g of $g.values())h.addComponent(g);const d=new II(t,i,h);return lf.set(o,d),d}function Cp(r=Qg){const e=lf.get(r);if(!e&&r===Qg&&IT())return MT();if(!e)throw us.create("no-app",{appName:r});return e}function Rr(r,e,t){let i=AI[r]??r;t&&(i+=`-${t}`);const o=i.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const h=[`Unable to register library "${i}" with version "${e}":`];o&&h.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&c&&h.push("and"),c&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),pi.warn(h.join(" "));return}Ea(new ms(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI="firebase-heartbeat-database",CI=1,Mc="firebase-heartbeat-store";let Eg=null;function kT(){return Eg||(Eg=KR(NI,CI,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Mc)}catch(t){console.warn(t)}}}}).catch(r=>{throw us.create("idb-open",{originalErrorMessage:r.message})})),Eg}async function DI(r){try{const t=(await kT()).transaction(Mc),i=await t.objectStore(Mc).get(PT(r));return await t.done,i}catch(e){if(e instanceof Vr)pi.warn(e.message);else{const t=us.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});pi.warn(t.message)}}}async function cE(r,e){try{const i=(await kT()).transaction(Mc,"readwrite");await i.objectStore(Mc).put(e,PT(r)),await i.done}catch(t){if(t instanceof Vr)pi.warn(t.message);else{const i=us.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});pi.warn(i.message)}}}function PT(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OI=1024,MI=30;class kI{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new VI(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=uE();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(h=>h.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:o}),this._heartbeatsCache.heartbeats.length>MI){const h=LI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){pi.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=uE(),{heartbeatsToSend:i,unsentEntries:o}=PI(this._heartbeatsCache.heartbeats),c=of(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(t){return pi.warn(t),""}}}function uE(){return new Date().toISOString().substring(0,10)}function PI(r,e=OI){const t=[];let i=r.slice();for(const o of r){const c=t.find(h=>h.agent===o.agent);if(c){if(c.dates.push(o.date),hE(t)>e){c.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),hE(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class VI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return TR()?wR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await DI(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return cE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return cE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function hE(r){return of(JSON.stringify({version:2,heartbeats:r})).length}function LI(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let i=1;i<r.length;i++)r[i].date<t&&(t=r[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UI(r){Ea(new ms("platform-logger",e=>new XR(e),"PRIVATE")),Ea(new ms("heartbeat",e=>new kI(e),"PRIVATE")),Rr(Kg,oE,r),Rr(Kg,oE,"esm2020"),Rr("fire-js","")}UI("");function VT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const jI=VT,LT=new Gc("auth","Firebase",VT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cf=new Ip("@firebase/auth");function zI(r,...e){cf.logLevel<=Le.WARN&&cf.warn(`Auth (${Da}): ${r}`,...e)}function Yh(r,...e){cf.logLevel<=Le.ERROR&&cf.error(`Auth (${Da}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wn(r,...e){throw Op(r,...e)}function ar(r,...e){return Op(r,...e)}function Dp(r,e,t){const i={...jI(),[e]:t};return new Gc("auth","Firebase",i).create(e,{appName:r.name})}function di(r){return Dp(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function BI(r,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&Wn(r,"argument-error"),Dp(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Op(r,...e){if(typeof r!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=r.name),r._errorFactory.create(t,...i)}return LT.create(r,...e)}function we(r,e,...t){if(!r)throw Op(e,...t)}function hi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Yh(e),new Error(e)}function yi(r,e){r||hi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xg(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.href)||""}function qI(){return fE()==="http:"||fE()==="https:"}function fE(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(qI()||vR()||"connection"in navigator)?navigator.onLine:!0}function HI(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e,t){this.shortDelay=e,this.longDelay=t,yi(t>e,"Short delay should be less than long delay!"),this.isMobile=gR()||_R()}get(){return FI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mp(r,e){yi(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;hi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;hi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;hi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],KI=new Kc(3e4,6e4);function Ts(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Ti(r,e,t,i,o={}){return jT(r,o,async()=>{let c={},h={};i&&(e==="GET"?h=i:c={body:JSON.stringify(i)});const d=Yc({key:r.config.apiKey,...h}).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const p={method:e,headers:g,...c};return yR()||(p.referrerPolicy="no-referrer"),r.emulatorConfig&&Ca(r.emulatorConfig.host)&&(p.credentials="include"),UT.fetch()(await zT(r,r.config.apiHost,t,d),p)})}async function jT(r,e,t){r._canInitEmulator=!1;const i={...GI,...e};try{const o=new $I(r),c=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await c.json();if("needConfirmation"in h)throw Dh(r,"account-exists-with-different-credential",h);if(c.ok&&!("errorMessage"in h))return h;{const d=c.ok?h.errorMessage:h.error.message,[g,p]=d.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Dh(r,"credential-already-in-use",h);if(g==="EMAIL_EXISTS")throw Dh(r,"email-already-in-use",h);if(g==="USER_DISABLED")throw Dh(r,"user-disabled",h);const v=i[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Dp(r,v,p);Wn(r,v)}}catch(o){if(o instanceof Vr)throw o;Wn(r,"network-request-failed",{message:String(o)})}}async function Qc(r,e,t,i,o={}){const c=await Ti(r,e,t,i,o);return"mfaPendingCredential"in c&&Wn(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function zT(r,e,t,i){const o=`${e}${t}?${i}`,c=r,h=c.config.emulator?Mp(r.config,o):`${r.config.apiScheme}://${o}`;return YI.includes(t)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(h).toString():h}function QI(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class $I{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(ar(this.auth,"network-request-failed")),KI.get())})}}function Dh(r,e,t){const i={appName:r.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=ar(r,e,i);return o.customData._tokenResponse=t,o}function dE(r){return r!==void 0&&r.enterprise!==void 0}class XI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return QI(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function WI(r,e){return Ti(r,"GET","/v2/recaptchaConfig",Ts(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZI(r,e){return Ti(r,"POST","/v1/accounts:delete",e)}async function uf(r,e){return Ti(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xc(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function JI(r,e=!1){const t=wt(r),i=await t.getIdToken(e),o=kp(i);we(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,h=c==null?void 0:c.sign_in_provider;return{claims:o,token:i,authTime:xc(bg(o.auth_time)),issuedAtTime:xc(bg(o.iat)),expirationTime:xc(bg(o.exp)),signInProvider:h||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function bg(r){return Number(r)*1e3}function kp(r){const[e,t,i]=r.split(".");if(e===void 0||t===void 0||i===void 0)return Yh("JWT malformed, contained fewer than 3 sections"),null;try{const o=AT(t);return o?JSON.parse(o):(Yh("Failed to decode base64 JWT payload"),null)}catch(o){return Yh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function mE(r){const e=kp(r);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ho(r,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Vr&&eN(i)&&r.auth.currentUser===r&&await r.auth.signOut(),i}}function eN({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=xc(this.lastLoginAt),this.creationTime=xc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hf(r){var w;const e=r.auth,t=await r.getIdToken(),i=await Ho(r,uf(e,{idToken:t}));we(i==null?void 0:i.users.length,e,"internal-error");const o=i.users[0];r._notifyReloadListener(o);const c=(w=o.providerUserInfo)!=null&&w.length?BT(o.providerUserInfo):[],h=rN(r.providerData,c),d=r.isAnonymous,g=!(r.email&&o.passwordHash)&&!(h!=null&&h.length),p=d?g:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new Wg(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(r,v)}async function nN(r){const e=wt(r);await hf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function rN(r,e){return[...r.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function BT(r){return r.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iN(r,e){const t=await jT(r,{},async()=>{const i=Yc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=r.config,h=await zT(r,o,"/v1/token",`key=${c}`),d=await r._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:d,body:i};return r.emulatorConfig&&Ca(r.emulatorConfig.host)&&(g.credentials="include"),UT.fetch()(h,g)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function sN(r,e){return Ti(r,"POST","/v2/accounts:revokeToken",Ts(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):mE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){we(e.length!==0,"internal-error");const t=mE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:c}=await iN(e,t);this.updateTokensAndExpiration(i,o,Number(c))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:c}=t,h=new Uo;return i&&(we(typeof i=="string","internal-error",{appName:e}),h.refreshToken=i),o&&(we(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),c&&(we(typeof c=="number","internal-error",{appName:e}),h.expirationTime=c),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Uo,this.toJSON())}_performRefresh(){return hi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wi(r,e){we(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class ir{constructor({uid:e,auth:t,stsTokenManager:i,...o}){this.providerId="firebase",this.proactiveRefresh=new tN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Wg(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Ho(this,this.stsTokenManager.getToken(this.auth,e));return we(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return JI(this,e)}reload(){return nN(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ir({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await hf(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_n(this.auth.app))return Promise.reject(di(this.auth));const e=await this.getIdToken();return await Ho(this,ZI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const i=t.displayName??void 0,o=t.email??void 0,c=t.phoneNumber??void 0,h=t.photoURL??void 0,d=t.tenantId??void 0,g=t._redirectEventId??void 0,p=t.createdAt??void 0,v=t.lastLoginAt??void 0,{uid:w,emailVerified:T,isAnonymous:D,providerData:P,stsTokenManager:R}=t;we(w&&R,e,"internal-error");const I=Uo.fromJSON(this.name,R);we(typeof w=="string",e,"internal-error"),Wi(i,e.name),Wi(o,e.name),we(typeof T=="boolean",e,"internal-error"),we(typeof D=="boolean",e,"internal-error"),Wi(c,e.name),Wi(h,e.name),Wi(d,e.name),Wi(g,e.name),Wi(p,e.name),Wi(v,e.name);const G=new ir({uid:w,auth:e,email:o,emailVerified:T,displayName:i,isAnonymous:D,photoURL:h,phoneNumber:c,tenantId:d,stsTokenManager:I,createdAt:p,lastLoginAt:v});return P&&Array.isArray(P)&&(G.providerData=P.map(ee=>({...ee}))),g&&(G._redirectEventId=g),G}static async _fromIdTokenResponse(e,t,i=!1){const o=new Uo;o.updateFromServerResponse(t);const c=new ir({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await hf(c),c}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];we(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?BT(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(c!=null&&c.length),d=new Uo;d.updateFromIdToken(i);const g=new ir({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:h}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Wg(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(c!=null&&c.length)};return Object.assign(g,p),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE=new Map;function fi(r){yi(r instanceof Function,"Expected a class definition");let e=gE.get(r);return e?(yi(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,gE.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}qT.type="NONE";const pE=qT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kh(r,e,t){return`firebase:${r}:${e}:${t}`}class jo{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:c}=this.auth;this.fullUserKey=Kh(this.userKey,o.apiKey,c),this.fullPersistenceKey=Kh("persistence",o.apiKey,c),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await uf(this.auth,{idToken:e}).catch(()=>{});return t?ir._fromGetAccountInfoResponse(this.auth,t,e):null}return ir._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new jo(fi(pE),e,i);const o=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let c=o[0]||fi(pE);const h=Kh(i,e.config.apiKey,e.name);let d=null;for(const p of t)try{const v=await p._get(h);if(v){let w;if(typeof v=="string"){const T=await uf(e,{idToken:v}).catch(()=>{});if(!T)break;w=await ir._fromGetAccountInfoResponse(e,T,v)}else w=ir._fromJSON(e,v);p!==c&&(d=w),c=p;break}}catch{}const g=o.filter(p=>p._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new jo(c,e,i):(c=g[0],d&&await c._set(h,d.toJSON()),await Promise.all(t.map(async p=>{if(p!==c)try{await p._remove(h)}catch{}})),new jo(c,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yE(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(YT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(FT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(QT(e))return"Blackberry";if($T(e))return"Webos";if(HT(e))return"Safari";if((e.includes("chrome/")||GT(e))&&!e.includes("edge/"))return"Chrome";if(KT(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=r.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function FT(r=cn()){return/firefox\//i.test(r)}function HT(r=cn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function GT(r=cn()){return/crios\//i.test(r)}function YT(r=cn()){return/iemobile/i.test(r)}function KT(r=cn()){return/android/i.test(r)}function QT(r=cn()){return/blackberry/i.test(r)}function $T(r=cn()){return/webos/i.test(r)}function Pp(r=cn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function aN(r=cn()){var e;return Pp(r)&&!!((e=window.navigator)!=null&&e.standalone)}function oN(){return ER()&&document.documentMode===10}function XT(r=cn()){return Pp(r)||KT(r)||$T(r)||QT(r)||/windows phone/i.test(r)||YT(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WT(r,e=[]){let t;switch(r){case"Browser":t=yE(cn());break;case"Worker":t=`${yE(cn())}-${r}`;break;default:t=r}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Da}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=c=>new Promise((h,d)=>{try{const g=e(c);h(g)}catch(g){d(g)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cN(r,e={}){return Ti(r,"GET","/v2/passwordPolicy",Ts(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uN=6;class hN{constructor(e){var i;const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??uN,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((i=e.allowedNonAlphanumericCharacters)==null?void 0:i.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new vE(this),this.idTokenSubscription=new vE(this),this.beforeStateQueue=new lN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=LT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=fi(t)),this._initializationPromise=this.queue(async()=>{var i,o,c;if(!this._deleted&&(this.persistenceManager=await jo.create(this,e),(i=this._resolvePersistenceManagerAvailable)==null||i.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((c=this.currentUser)==null?void 0:c.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await uf(this,{idToken:e}),i=await ir._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var c;if(_n(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(d,d))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let i=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(c=this.redirectUser)==null?void 0:c._redirectEventId,d=i==null?void 0:i._redirectEventId,g=await this.tryRedirectSignIn(e);(!h||h===d)&&(g!=null&&g.user)&&(i=g.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(h){i=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await hf(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=HI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(_n(this.app))return Promise.reject(di(this));const t=e?wt(e):null;return t&&we(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return _n(this.app)?Promise.reject(di(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return _n(this.app)?Promise.reject(di(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(fi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await cN(this),t=new hN(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Gc("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await sN(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&fi(e)||this._popupRedirectResolver;we(t,this,"argument-error"),this.redirectPersistenceManager=await jo.create(this,[fi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)==null?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)==null?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((t=this.currentUser)==null?void 0:t.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const c=typeof t=="function"?t:t.next.bind(t);let h=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(d,this,"internal-error"),d.then(()=>{h||c(this.currentUser)}),typeof t=="function"){const g=e.addObserver(t,i,o);return()=>{h=!0,g()}}else{const g=e.addObserver(t);return()=>{h=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=WT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var o;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await((o=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){var t;if(_n(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:t.getToken());return e!=null&&e.error&&zI(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function ws(r){return wt(r)}class vE{constructor(e){this.auth=e,this.observer=null,this.addObserver=IR(t=>this.observer=t)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function dN(r){Vf=r}function ZT(r){return Vf.loadJS(r)}function mN(){return Vf.recaptchaEnterpriseScript}function gN(){return Vf.gapiScript}function pN(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class yN{constructor(){this.enterprise=new vN}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class vN{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const _N="recaptcha-enterprise",JT="NO_RECAPTCHA";class EN{constructor(e){this.type=_N,this.auth=ws(e)}async verify(e="verify",t=!1){async function i(c){if(!t){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(h,d)=>{WI(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const p=new XI(g);return c.tenantId==null?c._agentRecaptchaConfig=p:c._tenantRecaptchaConfigs[c.tenantId]=p,h(p.siteKey)}}).catch(g=>{d(g)})})}function o(c,h,d){const g=window.grecaptcha;dE(g)?g.enterprise.ready(()=>{g.enterprise.execute(c,{action:e}).then(p=>{h(p)}).catch(()=>{h(JT)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new yN().execute("siteKey",{action:"verify"}):new Promise((c,h)=>{i(this.auth).then(d=>{if(!t&&dE(window.grecaptcha))o(d,c,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let g=mN();g.length!==0&&(g+=d),ZT(g).then(()=>{o(d,c,h)}).catch(p=>{h(p)})}}).catch(d=>{h(d)})})}}async function _E(r,e,t,i=!1,o=!1){const c=new EN(r);let h;if(o)h=JT;else try{h=await c.verify(t)}catch{h=await c.verify(t,!0)}const d={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const g=d.phoneEnrollmentInfo.phoneNumber,p=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const g=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return i?Object.assign(d,{captchaResp:h}):Object.assign(d,{captchaResponse:h}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Zg(r,e,t,i,o){var c;if((c=r._getRecaptchaConfig())!=null&&c.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await _E(r,e,t,t==="getOobCode");return i(r,h)}else return i(r,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await _E(r,e,t,t==="getOobCode");return i(r,d)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bN(r,e){const t=Pf(r,"auth");if(t.isInitialized()){const o=t.getImmediate(),c=t.getOptions();if(_a(c,e??{}))return o;Wn(o,"already-initialized")}return t.initialize({options:e})}function TN(r,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(fi);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function wN(r,e,t){const i=ws(r);we(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,c=ew(e),{host:h,port:d}=SN(e),g=d===null?"":`:${d}`,p={url:`${c}//${h}${g}/`},v=Object.freeze({host:h,port:d,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!i._canInitEmulator){we(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),we(_a(p,i.config.emulator)&&_a(v,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=p,i.emulatorConfig=v,i.settings.appVerificationDisabledForTesting=!0,Ca(h)?(xp(`${c}//${h}${g}`),Rp("Auth",!0)):AN()}function ew(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function SN(r){const e=ew(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const c=o[1];return{host:c,port:EE(i.substr(c.length+1))}}else{const[c,h]=i.split(":");return{host:c,port:EE(h)}}}function EE(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function AN(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return hi("not implemented")}_getIdTokenResponse(e){return hi("not implemented")}_linkToIdToken(e,t){return hi("not implemented")}_getReauthenticationResolver(e){return hi("not implemented")}}async function xN(r,e){return Ti(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RN(r,e){return Qc(r,"POST","/v1/accounts:signInWithPassword",Ts(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IN(r,e){return Qc(r,"POST","/v1/accounts:signInWithEmailLink",Ts(r,e))}async function NN(r,e){return Qc(r,"POST","/v1/accounts:signInWithEmailLink",Ts(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc extends Vp{constructor(e,t,i,o=null){super("password",i),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new kc(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new kc(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Zg(e,t,"signInWithPassword",RN);case"emailLink":return IN(e,{email:this._email,oobCode:this._password});default:Wn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Zg(e,i,"signUpPassword",xN);case"emailLink":return NN(e,{idToken:t,email:this._email,oobCode:this._password});default:Wn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zo(r,e){return Qc(r,"POST","/v1/accounts:signInWithIdp",Ts(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN="http://localhost";class ba extends Vp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ba(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Wn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o,...c}=t;if(!i||!o)return null;const h=new ba(i,o);return h.idToken=c.idToken||void 0,h.accessToken=c.accessToken||void 0,h.secret=c.secret,h.nonce=c.nonce,h.pendingToken=c.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return zo(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,zo(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,zo(e,t)}buildRequest(){const e={requestUri:CN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Yc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DN(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function ON(r){const e=_c(Ec(r)).link,t=e?_c(Ec(e)).deep_link_id:null,i=_c(Ec(r)).deep_link_id;return(i?_c(Ec(i)).link:null)||i||t||e||r}class Lp{constructor(e){const t=_c(Ec(e)),i=t.apiKey??null,o=t.oobCode??null,c=DN(t.mode??null);we(i&&o&&c,"argument-error"),this.apiKey=i,this.operation=c,this.code=o,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=ON(e);try{return new Lp(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(){this.providerId=Wo.PROVIDER_ID}static credential(e,t){return kc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=Lp.parseLink(t);return we(i,"argument-error"),kc._fromEmailAndCode(e,i.code,i.tenantId)}}Wo.PROVIDER_ID="password";Wo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Wo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c extends Up{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns extends $c{constructor(){super("facebook.com")}static credential(e){return ba._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ns.credentialFromTaggedObject(e)}static credentialFromError(e){return ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ns.credential(e.oauthAccessToken)}catch{return null}}}ns.FACEBOOK_SIGN_IN_METHOD="facebook.com";ns.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui extends $c{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ba._fromParams({providerId:ui.PROVIDER_ID,signInMethod:ui.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ui.credentialFromTaggedObject(e)}static credentialFromError(e){return ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return ui.credential(t,i)}catch{return null}}}ui.GOOGLE_SIGN_IN_METHOD="google.com";ui.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs extends $c{constructor(){super("github.com")}static credential(e){return ba._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return rs.credentialFromTaggedObject(e)}static credentialFromError(e){return rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return rs.credential(e.oauthAccessToken)}catch{return null}}}rs.GITHUB_SIGN_IN_METHOD="github.com";rs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is extends $c{constructor(){super("twitter.com")}static credential(e,t){return ba._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return is.credentialFromTaggedObject(e)}static credentialFromError(e){return is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return is.credential(t,i)}catch{return null}}}is.TWITTER_SIGN_IN_METHOD="twitter.com";is.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MN(r,e){return Qc(r,"POST","/v1/accounts:signUp",Ts(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const c=await ir._fromIdTokenResponse(e,i,o),h=bE(i);return new Ta({user:c,providerId:h,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=bE(i);return new Ta({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function bE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff extends Vr{constructor(e,t,i,o){super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,ff.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new ff(e,t,i,o)}}function tw(r,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?ff._fromErrorAndOperation(r,c,e,i):c})}async function kN(r,e,t=!1){const i=await Ho(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return Ta._forOperation(r,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PN(r,e,t=!1){const{auth:i}=r;if(_n(i.app))return Promise.reject(di(i));const o="reauthenticate";try{const c=await Ho(r,tw(i,o,e,r),t);we(c.idToken,i,"internal-error");const h=kp(c.idToken);we(h,i,"internal-error");const{sub:d}=h;return we(r.uid===d,i,"user-mismatch"),Ta._forOperation(r,o,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&Wn(i,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nw(r,e,t=!1){if(_n(r.app))return Promise.reject(di(r));const i="signIn",o=await tw(r,i,e),c=await Ta._fromIdTokenResponse(r,i,o);return t||await r._updateCurrentUser(c.user),c}async function VN(r,e){return nw(ws(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rw(r){const e=ws(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function LN(r,e,t){if(_n(r.app))return Promise.reject(di(r));const i=ws(r),h=await Zg(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",MN).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&rw(r),g}),d=await Ta._fromIdTokenResponse(i,"signIn",h);return await i._updateCurrentUser(d.user),d}function UN(r,e,t){return _n(r.app)?Promise.reject(di(r)):VN(wt(r),Wo.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&rw(r),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jN(r,e){return Ti(r,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TE(r,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const i=wt(r),c={idToken:await i.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},h=await Ho(i,jN(i.auth,c));i.displayName=h.displayName||null,i.photoURL=h.photoUrl||null;const d=i.providerData.find(({providerId:g})=>g==="password");d&&(d.displayName=i.displayName,d.photoURL=i.photoURL),await i._updateTokensIfNecessary(h)}function zN(r,e,t,i){return wt(r).onIdTokenChanged(e,t,i)}function BN(r,e,t){return wt(r).beforeAuthStateChanged(e,t)}function qN(r,e,t,i){return wt(r).onAuthStateChanged(e,t,i)}function FN(r){return wt(r).signOut()}const df="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(df,"1"),this.storage.removeItem(df),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HN=1e3,GN=10;class sw extends iw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=XT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,d,g)=>{this.notifyListeners(h,g)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(i);!t&&this.localCache[i]===h||this.notifyListeners(i,h)},c=this.storage.getItem(i);oN()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,GN):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},HN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}sw.type="LOCAL";const YN=sw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw extends iw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}aw.type="SESSION";const ow=aw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KN(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new Lf(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:c}=t.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const d=Array.from(h).map(async p=>p(t.origin,c)),g=await KN(d);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:g})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Lf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jp(r="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,h;return new Promise((d,g)=>{const p=jp("",20);o.port1.start();const v=setTimeout(()=>{g(new Error("unsupported_event"))},i);h={messageChannel:o,onMessage(w){const T=w;if(T.data.eventId===p)switch(T.data.status){case"ack":clearTimeout(v),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),d(T.data.response);break;default:clearTimeout(v),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ir(){return window}function $N(r){Ir().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lw(){return typeof Ir().WorkerGlobalScope<"u"&&typeof Ir().importScripts=="function"}async function XN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function WN(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)==null?void 0:r.controller)||null}function ZN(){return lw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cw="firebaseLocalStorageDb",JN=1,mf="firebaseLocalStorage",uw="fbase_key";class Xc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Uf(r,e){return r.transaction([mf],e?"readwrite":"readonly").objectStore(mf)}function eC(){const r=indexedDB.deleteDatabase(cw);return new Xc(r).toPromise()}function Jg(){const r=indexedDB.open(cw,JN);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const i=r.result;try{i.createObjectStore(mf,{keyPath:uw})}catch(o){t(o)}}),r.addEventListener("success",async()=>{const i=r.result;i.objectStoreNames.contains(mf)?e(i):(i.close(),await eC(),e(await Jg()))})})}async function wE(r,e,t){const i=Uf(r,!0).put({[uw]:e,value:t});return new Xc(i).toPromise()}async function tC(r,e){const t=Uf(r,!1).get(e),i=await new Xc(t).toPromise();return i===void 0?null:i.value}function SE(r,e){const t=Uf(r,!0).delete(e);return new Xc(t).toPromise()}const nC=800,rC=3;class hw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Jg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>rC)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return lw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Lf._getInstance(ZN()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var t,i;if(this.activeServiceWorker=await XN(),!this.activeServiceWorker)return;this.sender=new QN(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(t=e[0])!=null&&t.fulfilled&&(i=e[0])!=null&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||WN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Jg();return await wE(e,df,"1"),await SE(e,df),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>wE(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>tC(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>SE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=Uf(o,!1).getAll();return new Xc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),nC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}hw.type="LOCAL";const iC=hw;new Kc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fw(r,e){return e?fi(e):(we(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp extends Vp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return zo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return zo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return zo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function sC(r){return nw(r.auth,new zp(r),r.bypassAuthState)}function aC(r){const{auth:e,user:t}=r;return we(t,e,"internal-error"),PN(t,new zp(r),r.bypassAuthState)}async function oC(r){const{auth:e,user:t}=r;return we(t,e,"internal-error"),kN(t,new zp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(e,t,i,o,c=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:c,error:h,type:d}=e;if(h){this.reject(h);return}const g={auth:this.auth,requestUri:t,sessionId:i,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(g))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return sC;case"linkViaPopup":case"linkViaRedirect":return oC;case"reauthViaPopup":case"reauthViaRedirect":return aC;default:Wn(this.auth,"internal-error")}}resolve(e){yi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){yi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC=new Kc(2e3,1e4);async function cC(r,e,t){if(_n(r.app))return Promise.reject(ar(r,"operation-not-supported-in-this-environment"));const i=ws(r);BI(r,e,Up);const o=fw(i,t);return new ma(i,"signInViaPopup",e,o).executeNotNull()}class ma extends dw{constructor(e,t,i,o,c){super(e,t,o,c),this.provider=i,this.authWindow=null,this.pollId=null,ma.currentPopupAction&&ma.currentPopupAction.cancel(),ma.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){yi(this.filter.length===1,"Popup operations only handle one event");const e=jp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ar(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(ar(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ma.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if((i=(t=this.authWindow)==null?void 0:t.window)!=null&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ar(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,lC.get())};e()}}ma.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC="pendingRedirect",Qh=new Map;class hC extends dw{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Qh.get(this.auth._key());if(!e){try{const i=await fC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Qh.set(this.auth._key(),e)}return this.bypassAuthState||Qh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function fC(r,e){const t=gC(e),i=mC(r);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function dC(r,e){Qh.set(r._key(),e)}function mC(r){return fi(r._redirectPersistence)}function gC(r){return Kh(uC,r.config.apiKey,r.name)}async function pC(r,e,t=!1){if(_n(r.app))return Promise.reject(di(r));const i=ws(r),o=fw(i,e),h=await new hC(i,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await i._persistUserIfCurrent(h.user),await i._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC=10*60*1e3;class vC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!_C(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!mw(e)){const o=((i=e.error.code)==null?void 0:i.split("auth/")[1])||"internal-error";t.onError(ar(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=yC&&this.cachedEventUids.clear(),this.cachedEventUids.has(AE(e))}saveEventToCache(e){this.cachedEventUids.add(AE(e)),this.lastProcessedEventTime=Date.now()}}function AE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function mw({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function _C(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return mw(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EC(r,e={}){return Ti(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,TC=/^https?/;async function wC(r){if(r.config.emulator)return;const{authorizedDomains:e}=await EC(r);for(const t of e)try{if(SC(t))return}catch{}Wn(r,"unauthorized-domain")}function SC(r){const e=Xg(),{protocol:t,hostname:i}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&i===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===i}if(!TC.test(t))return!1;if(bC.test(r))return i===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC=new Kc(3e4,6e4);function xE(){const r=Ir().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function xC(r){return new Promise((e,t)=>{var o,c,h;function i(){xE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{xE(),t(ar(r,"network-request-failed"))},timeout:AC.get()})}if((c=(o=Ir().gapi)==null?void 0:o.iframes)!=null&&c.Iframe)e(gapi.iframes.getContext());else if((h=Ir().gapi)!=null&&h.load)i();else{const d=pN("iframefcb");return Ir()[d]=()=>{gapi.load?i():t(ar(r,"network-request-failed"))},ZT(`${gN()}?onload=${d}`).catch(g=>t(g))}}).catch(e=>{throw $h=null,e})}let $h=null;function RC(r){return $h=$h||xC(r),$h}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC=new Kc(5e3,15e3),NC="__/auth/iframe",CC="emulator/auth/iframe",DC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},OC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function MC(r){const e=r.config;we(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?Mp(e,CC):`https://${r.config.authDomain}/${NC}`,i={apiKey:e.apiKey,appName:r.name,v:Da},o=OC.get(r.config.apiHost);o&&(i.eid=o);const c=r._getFrameworks();return c.length&&(i.fw=c.join(",")),`${t}?${Yc(i).slice(1)}`}async function kC(r){const e=await RC(r),t=Ir().gapi;return we(t,r,"internal-error"),e.open({where:document.body,url:MC(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:DC,dontclear:!0},i=>new Promise(async(o,c)=>{await i.restyle({setHideOnLeave:!1});const h=ar(r,"network-request-failed"),d=Ir().setTimeout(()=>{c(h)},IC.get());function g(){Ir().clearTimeout(d),o(i)}i.ping(g).then(g,()=>{c(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},VC=500,LC=600,UC="_blank",jC="http://localhost";class RE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function zC(r,e,t,i=VC,o=LC){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const g={...PC,width:i.toString(),height:o.toString(),top:c,left:h},p=cn().toLowerCase();t&&(d=GT(p)?UC:t),FT(p)&&(e=e||jC,g.scrollbars="yes");const v=Object.entries(g).reduce((T,[D,P])=>`${T}${D}=${P},`,"");if(aN(p)&&d!=="_self")return BC(e||"",d),new RE(null);const w=window.open(e||"",d,v);we(w,r,"popup-blocked");try{w.focus()}catch{}return new RE(w)}function BC(r,e){const t=document.createElement("a");t.href=r,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qC="__/auth/handler",FC="emulator/auth/handler",HC=encodeURIComponent("fac");async function IE(r,e,t,i,o,c){we(r.config.authDomain,r,"auth-domain-config-required"),we(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:i,v:Da,eventId:o};if(e instanceof Up){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",RR(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,w]of Object.entries({}))h[v]=w}if(e instanceof $c){const v=e.getScopes().filter(w=>w!=="");v.length>0&&(h.scopes=v.join(","))}r.tenantId&&(h.tid=r.tenantId);const d=h;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const g=await r._getAppCheckToken(),p=g?`#${HC}=${encodeURIComponent(g)}`:"";return`${GC(r)}?${Yc(d).slice(1)}${p}`}function GC({config:r}){return r.emulator?Mp(r,FC):`https://${r.authDomain}/${qC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tg="webStorageSupport";class YC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ow,this._completeRedirectFn=pC,this._overrideRedirectResult=dC}async _openPopup(e,t,i,o){var h;yi((h=this.eventManagers[e._key()])==null?void 0:h.manager,"_initialize() not called before _openPopup()");const c=await IE(e,t,i,Xg(),o);return zC(e,c,jp())}async _openRedirect(e,t,i,o){await this._originValidation(e);const c=await IE(e,t,i,Xg(),o);return $N(c),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:c}=this.eventManagers[t];return o?Promise.resolve(o):(yi(c,"If manager is not set, promise should be"),c)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await kC(e),i=new vC(e);return t.register("authEvent",o=>(we(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Tg,{type:Tg},o=>{var h;const c=(h=o==null?void 0:o[0])==null?void 0:h[Tg];c!==void 0&&t(!!c),Wn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=wC(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return XT()||HT()||Pp()}}const KC=YC;var NE="@firebase/auth",CE="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $C(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function XC(r){Ea(new ms("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:h,authDomain:d}=i.options;we(h&&!h.includes(":"),"invalid-api-key",{appName:i.name});const g={apiKey:h,authDomain:d,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:WT(r)},p=new fN(i,o,c,g);return TN(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Ea(new ms("auth-internal",e=>{const t=ws(e.getProvider("auth").getImmediate());return(i=>new QC(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Rr(NE,CE,$C(r)),Rr(NE,CE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC=5*60,ZC=NT("authIdTokenMaxAge")||WC;let DE=null;const JC=r=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>ZC)return;const o=t==null?void 0:t.token;DE!==o&&(DE=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function e2(r=Cp()){const e=Pf(r,"auth");if(e.isInitialized())return e.getImmediate();const t=bN(r,{popupRedirectResolver:KC,persistence:[iC,YN,ow]}),i=NT("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(i,location.origin);if(location.origin===c.origin){const h=JC(c.toString());BN(t,h,()=>h(t.currentUser)),zN(t,d=>h(d))}}const o=xT("auth");return o&&wN(t,`http://${o}`),t}function t2(){var r;return((r=document.getElementsByTagName("head"))==null?void 0:r[0])??document}dN({loadJS(r){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",r),i.onload=e,i.onerror=o=>{const c=ar("internal-error");c.customData=o,t(c)},i.type="text/javascript",i.charset="UTF-8",t2().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});XC("Browser");var OE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var hs,gw;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,x){function C(){}C.prototype=x.prototype,M.D=x.prototype,M.prototype=new C,M.prototype.constructor=M,M.C=function(k,V,z){for(var N=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)N[Me-2]=arguments[Me];return x.prototype[V].apply(k,N)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(M,x,C){C||(C=0);var k=Array(16);if(typeof x=="string")for(var V=0;16>V;++V)k[V]=x.charCodeAt(C++)|x.charCodeAt(C++)<<8|x.charCodeAt(C++)<<16|x.charCodeAt(C++)<<24;else for(V=0;16>V;++V)k[V]=x[C++]|x[C++]<<8|x[C++]<<16|x[C++]<<24;x=M.g[0],C=M.g[1],V=M.g[2];var z=M.g[3],N=x+(z^C&(V^z))+k[0]+3614090360&4294967295;x=C+(N<<7&4294967295|N>>>25),N=z+(V^x&(C^V))+k[1]+3905402710&4294967295,z=x+(N<<12&4294967295|N>>>20),N=V+(C^z&(x^C))+k[2]+606105819&4294967295,V=z+(N<<17&4294967295|N>>>15),N=C+(x^V&(z^x))+k[3]+3250441966&4294967295,C=V+(N<<22&4294967295|N>>>10),N=x+(z^C&(V^z))+k[4]+4118548399&4294967295,x=C+(N<<7&4294967295|N>>>25),N=z+(V^x&(C^V))+k[5]+1200080426&4294967295,z=x+(N<<12&4294967295|N>>>20),N=V+(C^z&(x^C))+k[6]+2821735955&4294967295,V=z+(N<<17&4294967295|N>>>15),N=C+(x^V&(z^x))+k[7]+4249261313&4294967295,C=V+(N<<22&4294967295|N>>>10),N=x+(z^C&(V^z))+k[8]+1770035416&4294967295,x=C+(N<<7&4294967295|N>>>25),N=z+(V^x&(C^V))+k[9]+2336552879&4294967295,z=x+(N<<12&4294967295|N>>>20),N=V+(C^z&(x^C))+k[10]+4294925233&4294967295,V=z+(N<<17&4294967295|N>>>15),N=C+(x^V&(z^x))+k[11]+2304563134&4294967295,C=V+(N<<22&4294967295|N>>>10),N=x+(z^C&(V^z))+k[12]+1804603682&4294967295,x=C+(N<<7&4294967295|N>>>25),N=z+(V^x&(C^V))+k[13]+4254626195&4294967295,z=x+(N<<12&4294967295|N>>>20),N=V+(C^z&(x^C))+k[14]+2792965006&4294967295,V=z+(N<<17&4294967295|N>>>15),N=C+(x^V&(z^x))+k[15]+1236535329&4294967295,C=V+(N<<22&4294967295|N>>>10),N=x+(V^z&(C^V))+k[1]+4129170786&4294967295,x=C+(N<<5&4294967295|N>>>27),N=z+(C^V&(x^C))+k[6]+3225465664&4294967295,z=x+(N<<9&4294967295|N>>>23),N=V+(x^C&(z^x))+k[11]+643717713&4294967295,V=z+(N<<14&4294967295|N>>>18),N=C+(z^x&(V^z))+k[0]+3921069994&4294967295,C=V+(N<<20&4294967295|N>>>12),N=x+(V^z&(C^V))+k[5]+3593408605&4294967295,x=C+(N<<5&4294967295|N>>>27),N=z+(C^V&(x^C))+k[10]+38016083&4294967295,z=x+(N<<9&4294967295|N>>>23),N=V+(x^C&(z^x))+k[15]+3634488961&4294967295,V=z+(N<<14&4294967295|N>>>18),N=C+(z^x&(V^z))+k[4]+3889429448&4294967295,C=V+(N<<20&4294967295|N>>>12),N=x+(V^z&(C^V))+k[9]+568446438&4294967295,x=C+(N<<5&4294967295|N>>>27),N=z+(C^V&(x^C))+k[14]+3275163606&4294967295,z=x+(N<<9&4294967295|N>>>23),N=V+(x^C&(z^x))+k[3]+4107603335&4294967295,V=z+(N<<14&4294967295|N>>>18),N=C+(z^x&(V^z))+k[8]+1163531501&4294967295,C=V+(N<<20&4294967295|N>>>12),N=x+(V^z&(C^V))+k[13]+2850285829&4294967295,x=C+(N<<5&4294967295|N>>>27),N=z+(C^V&(x^C))+k[2]+4243563512&4294967295,z=x+(N<<9&4294967295|N>>>23),N=V+(x^C&(z^x))+k[7]+1735328473&4294967295,V=z+(N<<14&4294967295|N>>>18),N=C+(z^x&(V^z))+k[12]+2368359562&4294967295,C=V+(N<<20&4294967295|N>>>12),N=x+(C^V^z)+k[5]+4294588738&4294967295,x=C+(N<<4&4294967295|N>>>28),N=z+(x^C^V)+k[8]+2272392833&4294967295,z=x+(N<<11&4294967295|N>>>21),N=V+(z^x^C)+k[11]+1839030562&4294967295,V=z+(N<<16&4294967295|N>>>16),N=C+(V^z^x)+k[14]+4259657740&4294967295,C=V+(N<<23&4294967295|N>>>9),N=x+(C^V^z)+k[1]+2763975236&4294967295,x=C+(N<<4&4294967295|N>>>28),N=z+(x^C^V)+k[4]+1272893353&4294967295,z=x+(N<<11&4294967295|N>>>21),N=V+(z^x^C)+k[7]+4139469664&4294967295,V=z+(N<<16&4294967295|N>>>16),N=C+(V^z^x)+k[10]+3200236656&4294967295,C=V+(N<<23&4294967295|N>>>9),N=x+(C^V^z)+k[13]+681279174&4294967295,x=C+(N<<4&4294967295|N>>>28),N=z+(x^C^V)+k[0]+3936430074&4294967295,z=x+(N<<11&4294967295|N>>>21),N=V+(z^x^C)+k[3]+3572445317&4294967295,V=z+(N<<16&4294967295|N>>>16),N=C+(V^z^x)+k[6]+76029189&4294967295,C=V+(N<<23&4294967295|N>>>9),N=x+(C^V^z)+k[9]+3654602809&4294967295,x=C+(N<<4&4294967295|N>>>28),N=z+(x^C^V)+k[12]+3873151461&4294967295,z=x+(N<<11&4294967295|N>>>21),N=V+(z^x^C)+k[15]+530742520&4294967295,V=z+(N<<16&4294967295|N>>>16),N=C+(V^z^x)+k[2]+3299628645&4294967295,C=V+(N<<23&4294967295|N>>>9),N=x+(V^(C|~z))+k[0]+4096336452&4294967295,x=C+(N<<6&4294967295|N>>>26),N=z+(C^(x|~V))+k[7]+1126891415&4294967295,z=x+(N<<10&4294967295|N>>>22),N=V+(x^(z|~C))+k[14]+2878612391&4294967295,V=z+(N<<15&4294967295|N>>>17),N=C+(z^(V|~x))+k[5]+4237533241&4294967295,C=V+(N<<21&4294967295|N>>>11),N=x+(V^(C|~z))+k[12]+1700485571&4294967295,x=C+(N<<6&4294967295|N>>>26),N=z+(C^(x|~V))+k[3]+2399980690&4294967295,z=x+(N<<10&4294967295|N>>>22),N=V+(x^(z|~C))+k[10]+4293915773&4294967295,V=z+(N<<15&4294967295|N>>>17),N=C+(z^(V|~x))+k[1]+2240044497&4294967295,C=V+(N<<21&4294967295|N>>>11),N=x+(V^(C|~z))+k[8]+1873313359&4294967295,x=C+(N<<6&4294967295|N>>>26),N=z+(C^(x|~V))+k[15]+4264355552&4294967295,z=x+(N<<10&4294967295|N>>>22),N=V+(x^(z|~C))+k[6]+2734768916&4294967295,V=z+(N<<15&4294967295|N>>>17),N=C+(z^(V|~x))+k[13]+1309151649&4294967295,C=V+(N<<21&4294967295|N>>>11),N=x+(V^(C|~z))+k[4]+4149444226&4294967295,x=C+(N<<6&4294967295|N>>>26),N=z+(C^(x|~V))+k[11]+3174756917&4294967295,z=x+(N<<10&4294967295|N>>>22),N=V+(x^(z|~C))+k[2]+718787259&4294967295,V=z+(N<<15&4294967295|N>>>17),N=C+(z^(V|~x))+k[9]+3951481745&4294967295,M.g[0]=M.g[0]+x&4294967295,M.g[1]=M.g[1]+(V+(N<<21&4294967295|N>>>11))&4294967295,M.g[2]=M.g[2]+V&4294967295,M.g[3]=M.g[3]+z&4294967295}i.prototype.u=function(M,x){x===void 0&&(x=M.length);for(var C=x-this.blockSize,k=this.B,V=this.h,z=0;z<x;){if(V==0)for(;z<=C;)o(this,M,z),z+=this.blockSize;if(typeof M=="string"){for(;z<x;)if(k[V++]=M.charCodeAt(z++),V==this.blockSize){o(this,k),V=0;break}}else for(;z<x;)if(k[V++]=M[z++],V==this.blockSize){o(this,k),V=0;break}}this.h=V,this.o+=x},i.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var x=1;x<M.length-8;++x)M[x]=0;var C=8*this.o;for(x=M.length-8;x<M.length;++x)M[x]=C&255,C/=256;for(this.u(M),M=Array(16),x=C=0;4>x;++x)for(var k=0;32>k;k+=8)M[C++]=this.g[x]>>>k&255;return M};function c(M,x){var C=d;return Object.prototype.hasOwnProperty.call(C,M)?C[M]:C[M]=x(M)}function h(M,x){this.h=x;for(var C=[],k=!0,V=M.length-1;0<=V;V--){var z=M[V]|0;k&&z==x||(C[V]=z,k=!1)}this.g=C}var d={};function g(M){return-128<=M&&128>M?c(M,function(x){return new h([x|0],0>x?-1:0)}):new h([M|0],0>M?-1:0)}function p(M){if(isNaN(M)||!isFinite(M))return w;if(0>M)return I(p(-M));for(var x=[],C=1,k=0;M>=C;k++)x[k]=M/C|0,C*=4294967296;return new h(x,0)}function v(M,x){if(M.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(M.charAt(0)=="-")return I(v(M.substring(1),x));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=p(Math.pow(x,8)),k=w,V=0;V<M.length;V+=8){var z=Math.min(8,M.length-V),N=parseInt(M.substring(V,V+z),x);8>z?(z=p(Math.pow(x,z)),k=k.j(z).add(p(N))):(k=k.j(C),k=k.add(p(N)))}return k}var w=g(0),T=g(1),D=g(16777216);r=h.prototype,r.m=function(){if(R(this))return-I(this).m();for(var M=0,x=1,C=0;C<this.g.length;C++){var k=this.i(C);M+=(0<=k?k:4294967296+k)*x,x*=4294967296}return M},r.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(P(this))return"0";if(R(this))return"-"+I(this).toString(M);for(var x=p(Math.pow(M,6)),C=this,k="";;){var V=re(C,x).g;C=G(C,V.j(x));var z=((0<C.g.length?C.g[0]:C.h)>>>0).toString(M);if(C=V,P(C))return z+k;for(;6>z.length;)z="0"+z;k=z+k}},r.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function P(M){if(M.h!=0)return!1;for(var x=0;x<M.g.length;x++)if(M.g[x]!=0)return!1;return!0}function R(M){return M.h==-1}r.l=function(M){return M=G(this,M),R(M)?-1:P(M)?0:1};function I(M){for(var x=M.g.length,C=[],k=0;k<x;k++)C[k]=~M.g[k];return new h(C,~M.h).add(T)}r.abs=function(){return R(this)?I(this):this},r.add=function(M){for(var x=Math.max(this.g.length,M.g.length),C=[],k=0,V=0;V<=x;V++){var z=k+(this.i(V)&65535)+(M.i(V)&65535),N=(z>>>16)+(this.i(V)>>>16)+(M.i(V)>>>16);k=N>>>16,z&=65535,N&=65535,C[V]=N<<16|z}return new h(C,C[C.length-1]&-2147483648?-1:0)};function G(M,x){return M.add(I(x))}r.j=function(M){if(P(this)||P(M))return w;if(R(this))return R(M)?I(this).j(I(M)):I(I(this).j(M));if(R(M))return I(this.j(I(M)));if(0>this.l(D)&&0>M.l(D))return p(this.m()*M.m());for(var x=this.g.length+M.g.length,C=[],k=0;k<2*x;k++)C[k]=0;for(k=0;k<this.g.length;k++)for(var V=0;V<M.g.length;V++){var z=this.i(k)>>>16,N=this.i(k)&65535,Me=M.i(V)>>>16,Ye=M.i(V)&65535;C[2*k+2*V]+=N*Ye,ee(C,2*k+2*V),C[2*k+2*V+1]+=z*Ye,ee(C,2*k+2*V+1),C[2*k+2*V+1]+=N*Me,ee(C,2*k+2*V+1),C[2*k+2*V+2]+=z*Me,ee(C,2*k+2*V+2)}for(k=0;k<x;k++)C[k]=C[2*k+1]<<16|C[2*k];for(k=x;k<2*x;k++)C[k]=0;return new h(C,0)};function ee(M,x){for(;(M[x]&65535)!=M[x];)M[x+1]+=M[x]>>>16,M[x]&=65535,x++}function X(M,x){this.g=M,this.h=x}function re(M,x){if(P(x))throw Error("division by zero");if(P(M))return new X(w,w);if(R(M))return x=re(I(M),x),new X(I(x.g),I(x.h));if(R(x))return x=re(M,I(x)),new X(I(x.g),x.h);if(30<M.g.length){if(R(M)||R(x))throw Error("slowDivide_ only works with positive integers.");for(var C=T,k=x;0>=k.l(M);)C=oe(C),k=oe(k);var V=fe(C,1),z=fe(k,1);for(k=fe(k,2),C=fe(C,2);!P(k);){var N=z.add(k);0>=N.l(M)&&(V=V.add(C),z=N),k=fe(k,1),C=fe(C,1)}return x=G(M,V.j(x)),new X(V,x)}for(V=w;0<=M.l(x);){for(C=Math.max(1,Math.floor(M.m()/x.m())),k=Math.ceil(Math.log(C)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),z=p(C),N=z.j(x);R(N)||0<N.l(M);)C-=k,z=p(C),N=z.j(x);P(z)&&(z=T),V=V.add(z),M=G(M,N)}return new X(V,M)}r.A=function(M){return re(this,M).h},r.and=function(M){for(var x=Math.max(this.g.length,M.g.length),C=[],k=0;k<x;k++)C[k]=this.i(k)&M.i(k);return new h(C,this.h&M.h)},r.or=function(M){for(var x=Math.max(this.g.length,M.g.length),C=[],k=0;k<x;k++)C[k]=this.i(k)|M.i(k);return new h(C,this.h|M.h)},r.xor=function(M){for(var x=Math.max(this.g.length,M.g.length),C=[],k=0;k<x;k++)C[k]=this.i(k)^M.i(k);return new h(C,this.h^M.h)};function oe(M){for(var x=M.g.length+1,C=[],k=0;k<x;k++)C[k]=M.i(k)<<1|M.i(k-1)>>>31;return new h(C,M.h)}function fe(M,x){var C=x>>5;x%=32;for(var k=M.g.length-C,V=[],z=0;z<k;z++)V[z]=0<x?M.i(z+C)>>>x|M.i(z+C+1)<<32-x:M.i(z+C);return new h(V,M.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,gw=i,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=p,h.fromString=v,hs=h}).apply(typeof OE<"u"?OE:typeof self<"u"?self:typeof window<"u"?window:{});var Oh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var pw,bc,yw,Xh,ep,vw,_w,Ew;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,y,_){return u==Array.prototype||u==Object.prototype||(u[y]=_.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Oh=="object"&&Oh];for(var y=0;y<u.length;++y){var _=u[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var i=t(this);function o(u,y){if(y)e:{var _=i;u=u.split(".");for(var A=0;A<u.length-1;A++){var q=u[A];if(!(q in _))break e;_=_[q]}u=u[u.length-1],A=_[u],y=y(A),y!=A&&y!=null&&e(_,u,{configurable:!0,writable:!0,value:y})}}function c(u,y){u instanceof String&&(u+="");var _=0,A=!1,q={next:function(){if(!A&&_<u.length){var $=_++;return{value:y($,u[$]),done:!1}}return A=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}o("Array.prototype.values",function(u){return u||function(){return c(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function g(u){var y=typeof u;return y=y!="object"?y:u?Array.isArray(u)?"array":y:"null",y=="array"||y=="object"&&typeof u.length=="number"}function p(u){var y=typeof u;return y=="object"&&u!=null||y=="function"}function v(u,y,_){return u.call.apply(u.bind,arguments)}function w(u,y,_){if(!u)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,A),u.apply(y,q)}}return function(){return u.apply(y,arguments)}}function T(u,y,_){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:w,T.apply(null,arguments)}function D(u,y){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function P(u,y){function _(){}_.prototype=y.prototype,u.aa=y.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(A,q,$){for(var ce=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)ce[Be-2]=arguments[Be];return y.prototype[q].apply(A,ce)}}function R(u){const y=u.length;if(0<y){const _=Array(y);for(let A=0;A<y;A++)_[A]=u[A];return _}return[]}function I(u,y){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(g(A)){const q=u.length||0,$=A.length||0;u.length=q+$;for(let ce=0;ce<$;ce++)u[q+ce]=A[ce]}else u.push(A)}}class G{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function ee(u){return/^[\s\xa0]*$/.test(u)}function X(){var u=d.navigator;return u&&(u=u.userAgent)?u:""}function re(u){return re[" "](u),u}re[" "]=function(){};var oe=X().indexOf("Gecko")!=-1&&!(X().toLowerCase().indexOf("webkit")!=-1&&X().indexOf("Edge")==-1)&&!(X().indexOf("Trident")!=-1||X().indexOf("MSIE")!=-1)&&X().indexOf("Edge")==-1;function fe(u,y,_){for(const A in u)y.call(_,u[A],A,u)}function M(u,y){for(const _ in u)y.call(void 0,u[_],_,u)}function x(u){const y={};for(const _ in u)y[_]=u[_];return y}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(u,y){let _,A;for(let q=1;q<arguments.length;q++){A=arguments[q];for(_ in A)u[_]=A[_];for(let $=0;$<C.length;$++)_=C[$],Object.prototype.hasOwnProperty.call(A,_)&&(u[_]=A[_])}}function V(u){var y=1;u=u.split(":");const _=[];for(;0<y&&u.length;)_.push(u.shift()),y--;return u.length&&_.push(u.join(":")),_}function z(u){d.setTimeout(()=>{throw u},0)}function N(){var u=ze;let y=null;return u.g&&(y=u.g,u.g=u.g.next,u.g||(u.h=null),y.next=null),y}class Me{constructor(){this.h=this.g=null}add(y,_){const A=Ye.get();A.set(y,_),this.h?this.h.next=A:this.g=A,this.h=A}}var Ye=new G(()=>new Q,u=>u.reset());class Q{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let le,ae=!1,ze=new Me,U=()=>{const u=d.Promise.resolve(void 0);le=()=>{u.then(ie)}};var ie=()=>{for(var u;u=N();){try{u.h.call(u.g)}catch(_){z(_)}var y=Ye;y.j(u),100>y.h&&(y.h++,u.next=y.g,y.g=u)}ae=!1};function ue(){this.s=this.s,this.C=this.C}ue.prototype.s=!1,ue.prototype.ma=function(){this.s||(this.s=!0,this.N())},ue.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function se(u,y){this.type=u,this.g=this.target=y,this.defaultPrevented=!1}se.prototype.h=function(){this.defaultPrevented=!0};var me=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,y=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};d.addEventListener("test",_,y),d.removeEventListener("test",_,y)}catch{}return u}();function Ie(u,y){if(se.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=y,y=u.relatedTarget){if(oe){e:{try{re(y.nodeName);var q=!0;break e}catch{}q=!1}q||(y=null)}}else _=="mouseover"?y=u.fromElement:_=="mouseout"&&(y=u.toElement);this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Te[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Ie.aa.h.call(this)}}P(Ie,se);var Te={2:"touch",3:"pen",4:"mouse"};Ie.prototype.h=function(){Ie.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ke="closure_listenable_"+(1e6*Math.random()|0),We=0;function un(u,y,_,A,q){this.listener=u,this.proxy=null,this.src=y,this.type=_,this.capture=!!A,this.ha=q,this.key=++We,this.da=this.fa=!1}function Tn(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function wn(u){this.src=u,this.g={},this.h=0}wn.prototype.add=function(u,y,_,A,q){var $=u.toString();u=this.g[$],u||(u=this.g[$]=[],this.h++);var ce=Is(u,y,A,q);return-1<ce?(y=u[ce],_||(y.fa=!1)):(y=new un(y,this.src,$,!!A,q),y.fa=_,u.push(y)),y};function Pn(u,y){var _=y.type;if(_ in u.g){var A=u.g[_],q=Array.prototype.indexOf.call(A,y,void 0),$;($=0<=q)&&Array.prototype.splice.call(A,q,1),$&&(Tn(y),u.g[_].length==0&&(delete u.g[_],u.h--))}}function Is(u,y,_,A){for(var q=0;q<u.length;++q){var $=u[q];if(!$.da&&$.listener==y&&$.capture==!!_&&$.ha==A)return q}return-1}var Ns="closure_lm_"+(1e6*Math.random()|0),sl={};function ou(u,y,_,A,q){if(Array.isArray(y)){for(var $=0;$<y.length;$++)ou(u,y[$],_,A,q);return null}return _=lu(_),u&&u[ke]?u.K(y,_,p(A)?!!A.capture:!1,q):Vn(u,y,_,!1,A,q)}function Vn(u,y,_,A,q,$){if(!y)throw Error("Invalid event type");var ce=p(q)?!!q.capture:!!q,Be=Pa(u);if(Be||(u[Ns]=Be=new wn(u)),_=Be.add(y,_,A,ce,$),_.proxy)return _;if(A=ud(),_.proxy=A,A.src=u,A.listener=_,u.addEventListener)me||(q=ce),q===void 0&&(q=!1),u.addEventListener(y.toString(),A,q);else if(u.attachEvent)u.attachEvent(Cs(y.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function ud(){function u(_){return y.call(u.src,u.listener,_)}const y=hd;return u}function al(u,y,_,A,q){if(Array.isArray(y))for(var $=0;$<y.length;$++)al(u,y[$],_,A,q);else A=p(A)?!!A.capture:!!A,_=lu(_),u&&u[ke]?(u=u.i,y=String(y).toString(),y in u.g&&($=u.g[y],_=Is($,_,A,q),-1<_&&(Tn($[_]),Array.prototype.splice.call($,_,1),$.length==0&&(delete u.g[y],u.h--)))):u&&(u=Pa(u))&&(y=u.g[y.toString()],u=-1,y&&(u=Is(y,_,A,q)),(_=-1<u?y[u]:null)&&ka(_))}function ka(u){if(typeof u!="number"&&u&&!u.da){var y=u.src;if(y&&y[ke])Pn(y.i,u);else{var _=u.type,A=u.proxy;y.removeEventListener?y.removeEventListener(_,A,u.capture):y.detachEvent?y.detachEvent(Cs(_),A):y.addListener&&y.removeListener&&y.removeListener(A),(_=Pa(y))?(Pn(_,u),_.h==0&&(_.src=null,y[Ns]=null)):Tn(u)}}}function Cs(u){return u in sl?sl[u]:sl[u]="on"+u}function hd(u,y){if(u.da)u=!0;else{y=new Ie(y,this);var _=u.listener,A=u.ha||u.src;u.fa&&ka(u),u=_.call(A,y)}return u}function Pa(u){return u=u[Ns],u instanceof wn?u:null}var ol="__closure_events_fn_"+(1e9*Math.random()>>>0);function lu(u){return typeof u=="function"?u:(u[ol]||(u[ol]=function(y){return u.handleEvent(y)}),u[ol])}function mt(){ue.call(this),this.i=new wn(this),this.M=this,this.F=null}P(mt,ue),mt.prototype[ke]=!0,mt.prototype.removeEventListener=function(u,y,_,A){al(this,u,y,_,A)};function Ze(u,y){var _,A=u.F;if(A)for(_=[];A;A=A.F)_.push(A);if(u=u.M,A=y.type||y,typeof y=="string")y=new se(y,u);else if(y instanceof se)y.target=y.target||u;else{var q=y;y=new se(A,u),k(y,q)}if(q=!0,_)for(var $=_.length-1;0<=$;$--){var ce=y.g=_[$];q=Sn(ce,A,!0,y)&&q}if(ce=y.g=u,q=Sn(ce,A,!0,y)&&q,q=Sn(ce,A,!1,y)&&q,_)for($=0;$<_.length;$++)ce=y.g=_[$],q=Sn(ce,A,!1,y)&&q}mt.prototype.N=function(){if(mt.aa.N.call(this),this.i){var u=this.i,y;for(y in u.g){for(var _=u.g[y],A=0;A<_.length;A++)Tn(_[A]);delete u.g[y],u.h--}}this.F=null},mt.prototype.K=function(u,y,_,A){return this.i.add(String(u),y,!1,_,A)},mt.prototype.L=function(u,y,_,A){return this.i.add(String(u),y,!0,_,A)};function Sn(u,y,_,A){if(y=u.i.g[String(y)],!y)return!0;y=y.concat();for(var q=!0,$=0;$<y.length;++$){var ce=y[$];if(ce&&!ce.da&&ce.capture==_){var Be=ce.listener,kt=ce.ha||ce.src;ce.fa&&Pn(u.i,ce),q=Be.call(kt,A)!==!1&&q}}return q&&!A.defaultPrevented}function nn(u,y,_){if(typeof u=="function")_&&(u=T(u,_));else if(u&&typeof u.handleEvent=="function")u=T(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(u,y||0)}function cu(u){u.g=nn(()=>{u.g=null,u.i&&(u.i=!1,cu(u))},u.l);const y=u.h;u.h=null,u.m.apply(null,y)}class fd extends ue{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:cu(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ds(u){ue.call(this),this.h=u,this.g={}}P(Ds,ue);var Os=[];function Ms(u){fe(u.g,function(y,_){this.g.hasOwnProperty(_)&&ka(y)},u),u.g={}}Ds.prototype.N=function(){Ds.aa.N.call(this),Ms(this)},Ds.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Zn=d.JSON.stringify,Va=d.JSON.parse,ks=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function ll(){}ll.prototype.h=null;function cl(u){return u.h||(u.h=u.i())}function ul(){}var Ur={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function jr(){se.call(this,"d")}P(jr,se);function hl(){se.call(this,"c")}P(hl,se);var cr={},fl=null;function wi(){return fl=fl||new mt}cr.La="serverreachability";function La(u){se.call(this,cr.La,u)}P(La,se);function Si(u){const y=wi();Ze(y,new La(y))}cr.STAT_EVENT="statevent";function uu(u,y){se.call(this,cr.STAT_EVENT,u),this.stat=y}P(uu,se);function ut(u){const y=wi();Ze(y,new uu(y,u))}cr.Ma="timingevent";function Mt(u,y){se.call(this,cr.Ma,u),this.size=y}P(Mt,se);function St(u,y){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},y)}function Ln(){this.g=!0}Ln.prototype.xa=function(){this.g=!1};function dl(u,y,_,A,q,$){u.info(function(){if(u.g)if($)for(var ce="",Be=$.split("&"),kt=0;kt<Be.length;kt++){var qe=Be[kt].split("=");if(1<qe.length){var Bt=qe[0];qe=qe[1];var Pt=Bt.split("_");ce=2<=Pt.length&&Pt[1]=="type"?ce+(Bt+"="+qe+"&"):ce+(Bt+"=redacted&")}}else ce=null;else ce=$;return"XMLHTTP REQ ("+A+") [attempt "+q+"]: "+y+`
`+_+`
`+ce})}function dd(u,y,_,A,q,$,ce){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+q+"]: "+y+`
`+_+`
`+$+" "+ce})}function Ai(u,y,_,A){u.info(function(){return"XMLHTTP TEXT ("+y+"): "+Ps(u,_)+(A?" "+A:"")})}function hu(u,y){u.info(function(){return"TIMEOUT: "+y})}Ln.prototype.info=function(){};function Ps(u,y){if(!u.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var A=_[u];if(!(2>A.length)){var q=A[1];if(Array.isArray(q)&&!(1>q.length)){var $=q[0];if($!="noop"&&$!="stop"&&$!="close")for(var ce=1;ce<q.length;ce++)q[ce]=""}}}}return Zn(_)}catch{return y}}var xi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},zr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ur;function hr(){}P(hr,ll),hr.prototype.g=function(){return new XMLHttpRequest},hr.prototype.i=function(){return{}},ur=new hr;function hn(u,y,_,A){this.j=u,this.i=y,this.l=_,this.R=A||1,this.U=new Ds(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new _t}function _t(){this.i=null,this.g="",this.h=!1}var ml={},Ua={};function Jn(u,y,_){u.L=1,u.v=zs(An(y)),u.m=_,u.P=!0,Br(u,null)}function Br(u,y){u.F=Date.now(),Vs(u),u.A=An(u.v);var _=u.A,A=u.R;Array.isArray(A)||(A=[String(A)]),El(_.i,"t",A),u.C=0,_=u.j.J,u.h=new _t,u.g=Ru(u.j,_?y:null,!u.m),0<u.O&&(u.M=new fd(T(u.Y,u,u.g),u.O)),y=u.U,_=u.g,A=u.ca;var q="readystatechange";Array.isArray(q)||(q&&(Os[0]=q.toString()),q=Os);for(var $=0;$<q.length;$++){var ce=ou(_,q[$],A||y.handleEvent,!1,y.h||y);if(!ce)break;y.g[ce.key]=ce}y=u.H?x(u.H):{},u.m?(u.u||(u.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,y)):(u.u="GET",u.g.ea(u.A,u.u,null,y)),Si(),dl(u.i,u.u,u.A,u.l,u.R,u.m)}hn.prototype.ca=function(u){u=u.target;const y=this.M;y&&Bn(u)==3?y.j():this.Y(u)},hn.prototype.Y=function(u){try{if(u==this.g)e:{const Pt=Bn(this.g);var y=this.g.Ba();const $r=this.g.Z();if(!(3>Pt)&&(Pt!=3||this.g&&(this.h.h||this.g.oa()||_u(this.g)))){this.J||Pt!=4||y==7||(y==8||0>=$r?Si(3):Si(2)),Ri(this);var _=this.g.Z();this.X=_;t:if(fu(this)){var A=_u(this.g);u="";var q=A.length,$=Bn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Kt(this),fr(this);var ce="";break t}this.h.i=new d.TextDecoder}for(y=0;y<q;y++)this.h.h=!0,u+=this.h.i.decode(A[y],{stream:!($&&y==q-1)});A.length=0,this.h.g+=u,this.C=0,ce=this.h.g}else ce=this.g.oa();if(this.o=_==200,dd(this.i,this.u,this.A,this.l,this.R,Pt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Be,kt=this.g;if((Be=kt.g?kt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ee(Be)){var qe=Be;break t}}qe=null}if(_=qe)Ai(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ls(this,_);else{this.o=!1,this.s=3,ut(12),Kt(this),fr(this);break e}}if(this.P){_=!0;let Qt;for(;!this.J&&this.C<ce.length;)if(Qt=du(this,ce),Qt==Ua){Pt==4&&(this.s=4,ut(14),_=!1),Ai(this.i,this.l,null,"[Incomplete Response]");break}else if(Qt==ml){this.s=4,ut(15),Ai(this.i,this.l,ce,"[Invalid Chunk]"),_=!1;break}else Ai(this.i,this.l,Qt,null),Ls(this,Qt);if(fu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Pt!=4||ce.length!=0||this.h.h||(this.s=1,ut(16),_=!1),this.o=this.o&&_,!_)Ai(this.i,this.l,ce,"[Invalid Chunked Response]"),Kt(this),fr(this);else if(0<ce.length&&!this.W){this.W=!0;var Bt=this.j;Bt.g==this&&Bt.ba&&!Bt.M&&(Bt.j.info("Great, no buffering proxy detected. Bytes received: "+ce.length),Qs(Bt),Bt.M=!0,ut(11))}}else Ai(this.i,this.l,ce,null),Ls(this,ce);Pt==4&&Kt(this),this.o&&!this.J&&(Pt==4?Su(this.j,this):(this.o=!1,Vs(this)))}else vd(this.g),_==400&&0<ce.indexOf("Unknown SID")?(this.s=3,ut(12)):(this.s=0,ut(13)),Kt(this),fr(this)}}}catch{}finally{}};function fu(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function du(u,y){var _=u.C,A=y.indexOf(`
`,_);return A==-1?Ua:(_=Number(y.substring(_,A)),isNaN(_)?ml:(A+=1,A+_>y.length?Ua:(y=y.slice(A,A+_),u.C=A+_,y)))}hn.prototype.cancel=function(){this.J=!0,Kt(this)};function Vs(u){u.S=Date.now()+u.I,mu(u,u.I)}function mu(u,y){if(u.B!=null)throw Error("WatchDog timer not null");u.B=St(T(u.ba,u),y)}function Ri(u){u.B&&(d.clearTimeout(u.B),u.B=null)}hn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(hu(this.i,this.A),this.L!=2&&(Si(),ut(17)),Kt(this),this.s=2,fr(this)):mu(this,this.S-u)};function fr(u){u.j.G==0||u.J||Su(u.j,u)}function Kt(u){Ri(u);var y=u.M;y&&typeof y.ma=="function"&&y.ma(),u.M=null,Ms(u.U),u.g&&(y=u.g,u.g=null,y.abort(),y.ma())}function Ls(u,y){try{var _=u.j;if(_.G!=0&&(_.g==u||gl(_.h,u))){if(!u.K&&gl(_.h,u)&&_.G==3){try{var A=_.Da.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var q=A;if(q[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)Xa(_),Qa(_);else break e;Al(_),ut(18)}}else _.za=q[1],0<_.za-_.T&&37500>q[2]&&_.F&&_.v==0&&!_.C&&(_.C=St(T(_.Za,_),6e3));if(1>=za(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Qr(_,11)}else if((u.K||_.g==u)&&Xa(_),!ee(y))for(q=_.Da.g.parse(y),y=0;y<q.length;y++){let qe=q[y];if(_.T=qe[0],qe=qe[1],_.G==2)if(qe[0]=="c"){_.K=qe[1],_.ia=qe[2];const Bt=qe[3];Bt!=null&&(_.la=Bt,_.j.info("VER="+_.la));const Pt=qe[4];Pt!=null&&(_.Aa=Pt,_.j.info("SVER="+_.Aa));const $r=qe[5];$r!=null&&typeof $r=="number"&&0<$r&&(A=1.5*$r,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const Qt=u.g;if(Qt){const _r=Qt.g?Qt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_r){var $=A.h;$.g||_r.indexOf("spdy")==-1&&_r.indexOf("quic")==-1&&_r.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(Ba($,$.h),$.h=null))}if(A.D){const Rl=Qt.g?Qt.g.getResponseHeader("X-HTTP-Session-Id"):null;Rl&&(A.ya=Rl,nt(A.I,A.D,Rl))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var ce=u;if(A.qa=xu(A,A.J?A.ia:null,A.W),ce.K){fn(A.h,ce);var Be=ce,kt=A.L;kt&&(Be.I=kt),Be.B&&(Ri(Be),Vs(Be)),A.g=ce}else Tu(A);0<_.i.length&&$a(_)}else qe[0]!="stop"&&qe[0]!="close"||Qr(_,7);else _.G==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?Qr(_,7):wl(_):qe[0]!="noop"&&_.l&&_.l.ta(qe),_.v=0)}}Si(4)}catch{}}var gu=class{constructor(u,y){this.g=u,this.map=y}};function qr(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ja(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function za(u){return u.h?1:u.g?u.g.size:0}function gl(u,y){return u.h?u.h==y:u.g?u.g.has(y):!1}function Ba(u,y){u.g?u.g.add(y):u.h=y}function fn(u,y){u.h&&u.h==y?u.h=null:u.g&&u.g.has(y)&&u.g.delete(y)}qr.prototype.cancel=function(){if(this.i=pl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function pl(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let y=u.i;for(const _ of u.g.values())y=y.concat(_.D);return y}return R(u.i)}function md(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(g(u)){for(var y=[],_=u.length,A=0;A<_;A++)y.push(u[A]);return y}y=[],_=0;for(A in u)y[_++]=u[A];return y}function qa(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(g(u)||typeof u=="string"){var y=[];u=u.length;for(var _=0;_<u;_++)y.push(_);return y}y=[],_=0;for(const A in u)y[_++]=A;return y}}}function yl(u,y){if(u.forEach&&typeof u.forEach=="function")u.forEach(y,void 0);else if(g(u)||typeof u=="string")Array.prototype.forEach.call(u,y,void 0);else for(var _=qa(u),A=md(u),q=A.length,$=0;$<q;$++)y.call(void 0,A[$],_&&_[$],u)}var Us=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gd(u,y){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var A=u[_].indexOf("="),q=null;if(0<=A){var $=u[_].substring(0,A);q=u[_].substring(A+1)}else $=u[_];y($,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function At(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof At){this.h=u.h,js(this,u.j),this.o=u.o,this.g=u.g,Ii(this,u.s),this.l=u.l;var y=u.i,_=new Hr;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),Fr(this,_),this.m=u.m}else u&&(y=String(u).match(Us))?(this.h=!1,js(this,y[1]||"",!0),this.o=Un(y[2]||""),this.g=Un(y[3]||"",!0),Ii(this,y[4]),this.l=Un(y[5]||"",!0),Fr(this,y[6]||"",!0),this.m=Un(y[7]||"")):(this.h=!1,this.i=new Hr(null,this.h))}At.prototype.toString=function(){var u=[],y=this.j;y&&u.push(Bs(y,vl,!0),":");var _=this.g;return(_||y=="file")&&(u.push("//"),(y=this.o)&&u.push(Bs(y,vl,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(Bs(_,_.charAt(0)=="/"?pd:_l,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",Bs(_,Fa)),u.join("")};function An(u){return new At(u)}function js(u,y,_){u.j=_?Un(y,!0):y,u.j&&(u.j=u.j.replace(/:$/,""))}function Ii(u,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);u.s=y}else u.s=null}function Fr(u,y,_){y instanceof Hr?(u.i=y,yu(u.i,u.h)):(_||(y=Bs(y,yd)),u.i=new Hr(y,u.h))}function nt(u,y,_){u.i.set(y,_)}function zs(u){return nt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Un(u,y){return u?y?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Bs(u,y,_){return typeof u=="string"?(u=encodeURI(u).replace(y,pu),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function pu(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var vl=/[#\/\?@]/g,_l=/[#\?:]/g,pd=/[#\?]/g,yd=/[#\?@]/g,Fa=/#/g;function Hr(u,y){this.h=this.g=null,this.i=u||null,this.j=!!y}function jn(u){u.g||(u.g=new Map,u.h=0,u.i&&gd(u.i,function(y,_){u.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}r=Hr.prototype,r.add=function(u,y){jn(this),this.i=null,u=dr(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(y),this.h+=1,this};function Gr(u,y){jn(u),y=dr(u,y),u.g.has(y)&&(u.i=null,u.h-=u.g.get(y).length,u.g.delete(y))}function Yr(u,y){return jn(u),y=dr(u,y),u.g.has(y)}r.forEach=function(u,y){jn(this),this.g.forEach(function(_,A){_.forEach(function(q){u.call(y,q,A,this)},this)},this)},r.na=function(){jn(this);const u=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let A=0;A<y.length;A++){const q=u[A];for(let $=0;$<q.length;$++)_.push(y[A])}return _},r.V=function(u){jn(this);let y=[];if(typeof u=="string")Yr(this,u)&&(y=y.concat(this.g.get(dr(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)y=y.concat(u[_])}return y},r.set=function(u,y){return jn(this),this.i=null,u=dr(this,u),Yr(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[y]),this.h+=1,this},r.get=function(u,y){return u?(u=this.V(u),0<u.length?String(u[0]):y):y};function El(u,y,_){Gr(u,y),0<_.length&&(u.i=null,u.g.set(dr(u,y),R(_)),u.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var A=y[_];const $=encodeURIComponent(String(A)),ce=this.V(A);for(A=0;A<ce.length;A++){var q=$;ce[A]!==""&&(q+="="+encodeURIComponent(String(ce[A]))),u.push(q)}}return this.i=u.join("&")};function dr(u,y){return y=String(y),u.j&&(y=y.toLowerCase()),y}function yu(u,y){y&&!u.j&&(jn(u),u.i=null,u.g.forEach(function(_,A){var q=A.toLowerCase();A!=q&&(Gr(this,A),El(this,q,_))},u)),u.j=y}function qs(u,y){const _=new Ln;if(d.Image){const A=new Image;A.onload=D(zn,_,"TestLoadImage: loaded",!0,y,A),A.onerror=D(zn,_,"TestLoadImage: error",!1,y,A),A.onabort=D(zn,_,"TestLoadImage: abort",!1,y,A),A.ontimeout=D(zn,_,"TestLoadImage: timeout",!1,y,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else y(!1)}function er(u,y){const _=new Ln,A=new AbortController,q=setTimeout(()=>{A.abort(),zn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(u,{signal:A.signal}).then($=>{clearTimeout(q),$.ok?zn(_,"TestPingServer: ok",!0,y):zn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(q),zn(_,"TestPingServer: error",!1,y)})}function zn(u,y,_,A,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),A(_)}catch{}}function Fs(){this.g=new ks}function mr(u,y,_){const A=_||"";try{yl(u,function(q,$){let ce=q;p(q)&&(ce=Zn(q)),y.push(A+$+"="+encodeURIComponent(ce))})}catch(q){throw y.push(A+"type="+encodeURIComponent("_badmap")),q}}function Ni(u){this.l=u.Ub||null,this.j=u.eb||!1}P(Ni,ll),Ni.prototype.g=function(){return new Kr(this.l,this.j)},Ni.prototype.i=function(u){return function(){return u}}({});function Kr(u,y){mt.call(this),this.D=u,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P(Kr,mt),r=Kr.prototype,r.open=function(u,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=y,this.readyState=1,pr(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(y.body=u),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,gr(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,pr(this)),this.g&&(this.readyState=3,pr(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;bl(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function bl(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var y=u.value?u.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!u.done}))&&(this.response=this.responseText+=y)}u.done?gr(this):pr(this),this.readyState==3&&bl(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,gr(this))},r.Qa=function(u){this.g&&(this.response=u,gr(this))},r.ga=function(){this.g&&gr(this)};function gr(u){u.readyState=4,u.l=null,u.j=null,u.v=null,pr(u)}r.setRequestHeader=function(u,y){this.u.append(u,y)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=y.next();return u.join(`\r
`)};function pr(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Kr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Tl(u){let y="";return fe(u,function(_,A){y+=A,y+=":",y+=_,y+=`\r
`}),y}function zt(u,y,_){e:{for(A in _){var A=!1;break e}A=!0}A||(_=Tl(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):nt(u,y,_))}function $e(u){mt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P($e,mt);var Ha=/^https?$/i,Hs=["POST","PUT"];r=$e.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,y,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);y=y?y.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ur.g(),this.v=this.o?cl(this.o):cl(ur),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(y,String(u),!0),this.B=!1}catch($){vu(this,$);return}if(u=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var q in A)_.set(q,A[q]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const $ of A.keys())_.set($,A.get($));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find($=>$.toLowerCase()=="content-type"),q=d.FormData&&u instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Hs,y,void 0))||A||q||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,ce]of _)this.g.setRequestHeader($,ce);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Gs(this),this.u=!0,this.g.send(u),this.u=!1}catch($){vu(this,$)}};function vu(u,y){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=y,u.m=5,Ga(u),yr(u)}function Ga(u){u.A||(u.A=!0,Ze(u,"complete"),Ze(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ze(this,"complete"),Ze(this,"abort"),yr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),yr(this,!0)),$e.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Ya(this):this.bb())},r.bb=function(){Ya(this)};function Ya(u){if(u.h&&typeof h<"u"&&(!u.v[1]||Bn(u)!=4||u.Z()!=2)){if(u.u&&Bn(u)==4)nn(u.Ea,0,u);else if(Ze(u,"readystatechange"),Bn(u)==4){u.h=!1;try{const ce=u.Z();e:switch(ce){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var A;if(A=ce===0){var q=String(u.D).match(Us)[1]||null;!q&&d.self&&d.self.location&&(q=d.self.location.protocol.slice(0,-1)),A=!Ha.test(q?q.toLowerCase():"")}_=A}if(_)Ze(u,"complete"),Ze(u,"success");else{u.m=6;try{var $=2<Bn(u)?u.g.statusText:""}catch{$=""}u.l=$+" ["+u.Z()+"]",Ga(u)}}finally{yr(u)}}}}function yr(u,y){if(u.g){Gs(u);const _=u.g,A=u.v[0]?()=>{}:null;u.g=null,u.v=null,y||Ze(u,"ready");try{_.onreadystatechange=A}catch{}}}function Gs(u){u.I&&(d.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function Bn(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<Bn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var y=this.g.responseText;return u&&y.indexOf(u)==0&&(y=y.substring(u.length)),Va(y)}};function _u(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function vd(u){const y={};u=(u.g&&2<=Bn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(ee(u[A]))continue;var _=V(u[A]);const q=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const $=y[q]||[];y[q]=$,$.push(_)}M(y,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ys(u,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||y}function Ka(u){this.Aa=0,this.i=[],this.j=new Ln,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ys("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ys("baseRetryDelayMs",5e3,u),this.cb=Ys("retryDelaySeedMs",1e4,u),this.Wa=Ys("forwardChannelMaxRetries",2,u),this.wa=Ys("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new qr(u&&u.concurrentRequestLimit),this.Da=new Fs,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Ka.prototype,r.la=8,r.G=1,r.connect=function(u,y,_,A){ut(0),this.W=u,this.H=y||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=xu(this,null,this.W),$a(this)};function wl(u){if(Eu(u),u.G==3){var y=u.U++,_=An(u.I);if(nt(_,"SID",u.K),nt(_,"RID",y),nt(_,"TYPE","terminate"),Ks(u,_),y=new hn(u,u.j,y),y.L=2,y.v=zs(An(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&d.Image&&(new Image().src=y.v,_=!0),_||(y.g=Ru(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Vs(y)}Au(u)}function Qa(u){u.g&&(Qs(u),u.g.cancel(),u.g=null)}function Eu(u){Qa(u),u.u&&(d.clearTimeout(u.u),u.u=null),Xa(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&d.clearTimeout(u.s),u.s=null)}function $a(u){if(!ja(u.h)&&!u.s){u.s=!0;var y=u.Ga;le||U(),ae||(le(),ae=!0),ze.add(y,u),u.B=0}}function _d(u,y){return za(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=y.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=St(T(u.Ga,u,y),xl(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const q=new hn(this,this.j,u);let $=this.o;if(this.S&&($?($=x($),k($,this.S)):$=this.S),this.m!==null||this.O||(q.H=$,$=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=bu(this,q,y),_=An(this.I),nt(_,"RID",u),nt(_,"CVER",22),this.D&&nt(_,"X-HTTP-Session-Id",this.D),Ks(this,_),$&&(this.O?y="headers="+encodeURIComponent(String(Tl($)))+"&"+y:this.m&&zt(_,this.m,$)),Ba(this.h,q),this.Ua&&nt(_,"TYPE","init"),this.P?(nt(_,"$req",y),nt(_,"SID","null"),q.T=!0,Jn(q,_,null)):Jn(q,_,y),this.G=2}}else this.G==3&&(u?Sl(this,u):this.i.length==0||ja(this.h)||Sl(this))};function Sl(u,y){var _;y?_=y.l:_=u.U++;const A=An(u.I);nt(A,"SID",u.K),nt(A,"RID",_),nt(A,"AID",u.T),Ks(u,A),u.m&&u.o&&zt(A,u.m,u.o),_=new hn(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),y&&(u.i=y.D.concat(u.i)),y=bu(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Ba(u.h,_),Jn(_,A,y)}function Ks(u,y){u.H&&fe(u.H,function(_,A){nt(y,A,_)}),u.l&&yl({},function(_,A){nt(y,A,_)})}function bu(u,y,_){_=Math.min(u.i.length,_);var A=u.l?T(u.l.Na,u.l,u):null;e:{var q=u.i;let $=-1;for(;;){const ce=["count="+_];$==-1?0<_?($=q[0].g,ce.push("ofs="+$)):$=0:ce.push("ofs="+$);let Be=!0;for(let kt=0;kt<_;kt++){let qe=q[kt].g;const Bt=q[kt].map;if(qe-=$,0>qe)$=Math.max(0,q[kt].g-100),Be=!1;else try{mr(Bt,ce,"req"+qe+"_")}catch{A&&A(Bt)}}if(Be){A=ce.join("&");break e}}}return u=u.i.splice(0,_),y.D=u,A}function Tu(u){if(!u.g&&!u.u){u.Y=1;var y=u.Fa;le||U(),ae||(le(),ae=!0),ze.add(y,u),u.v=0}}function Al(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=St(T(u.Fa,u),xl(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,wu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=St(T(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ut(10),Qa(this),wu(this))};function Qs(u){u.A!=null&&(d.clearTimeout(u.A),u.A=null)}function wu(u){u.g=new hn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var y=An(u.qa);nt(y,"RID","rpc"),nt(y,"SID",u.K),nt(y,"AID",u.T),nt(y,"CI",u.F?"0":"1"),!u.F&&u.ja&&nt(y,"TO",u.ja),nt(y,"TYPE","xmlhttp"),Ks(u,y),u.m&&u.o&&zt(y,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=zs(An(y)),_.m=null,_.P=!0,Br(_,u)}r.Za=function(){this.C!=null&&(this.C=null,Qa(this),Al(this),ut(19))};function Xa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Su(u,y){var _=null;if(u.g==y){Xa(u),Qs(u),u.g=null;var A=2}else if(gl(u.h,y))_=y.D,fn(u.h,y),A=1;else return;if(u.G!=0){if(y.o)if(A==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var q=u.B;A=wi(),Ze(A,new Mt(A,_)),$a(u)}else Tu(u);else if(q=y.s,q==3||q==0&&0<y.X||!(A==1&&_d(u,y)||A==2&&Al(u)))switch(_&&0<_.length&&(y=u.h,y.i=y.i.concat(_)),q){case 1:Qr(u,5);break;case 4:Qr(u,10);break;case 3:Qr(u,6);break;default:Qr(u,2)}}}function xl(u,y){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*y}function Qr(u,y){if(u.j.info("Error code "+y),y==2){var _=T(u.fb,u),A=u.Xa;const q=!A;A=new At(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||js(A,"https"),zs(A),q?qs(A.toString(),_):er(A.toString(),_)}else ut(2);u.G=0,u.l&&u.l.sa(y),Au(u),Eu(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ut(2)):(this.j.info("Failed to ping google.com"),ut(1))};function Au(u){if(u.G=0,u.ka=[],u.l){const y=pl(u.h);(y.length!=0||u.i.length!=0)&&(I(u.ka,y),I(u.ka,u.i),u.h.i.length=0,R(u.i),u.i.length=0),u.l.ra()}}function xu(u,y,_){var A=_ instanceof At?An(_):new At(_);if(A.g!="")y&&(A.g=y+"."+A.g),Ii(A,A.s);else{var q=d.location;A=q.protocol,y=y?y+"."+q.hostname:q.hostname,q=+q.port;var $=new At(null);A&&js($,A),y&&($.g=y),q&&Ii($,q),_&&($.l=_),A=$}return _=u.D,y=u.ya,_&&y&&nt(A,_,y),nt(A,"VER",u.la),Ks(u,A),A}function Ru(u,y,_){if(y&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=u.Ca&&!u.pa?new $e(new Ni({eb:_})):new $e(u.pa),y.Ha(u.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Iu(){}r=Iu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Wa(){}Wa.prototype.g=function(u,y){return new dn(u,y)};function dn(u,y){mt.call(this),this.g=new Ka(y),this.l=u,this.h=y&&y.messageUrlParams||null,u=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(u?u["X-WebChannel-Content-Type"]=y.messageContentType:u={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(u?u["X-WebChannel-Client-Profile"]=y.va:u={"X-WebChannel-Client-Profile":y.va}),this.g.S=u,(u=y&&y.Sb)&&!ee(u)&&(this.g.m=u),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!ee(y)&&(this.g.D=y,u=this.h,u!==null&&y in u&&(u=this.h,y in u&&delete u[y])),this.j=new vr(this)}P(dn,mt),dn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},dn.prototype.close=function(){wl(this.g)},dn.prototype.o=function(u){var y=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=Zn(u),u=_);y.i.push(new gu(y.Ya++,u)),y.G==3&&$a(y)},dn.prototype.N=function(){this.g.l=null,delete this.j,wl(this.g),delete this.g,dn.aa.N.call(this)};function Nu(u){jr.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var y=u.__sm__;if(y){e:{for(const _ in y){u=_;break e}u=void 0}(this.i=u)&&(u=this.i,y=y!==null&&u in y?y[u]:void 0),this.data=y}else this.data=u}P(Nu,jr);function Cu(){hl.call(this),this.status=1}P(Cu,hl);function vr(u){this.g=u}P(vr,Iu),vr.prototype.ua=function(){Ze(this.g,"a")},vr.prototype.ta=function(u){Ze(this.g,new Nu(u))},vr.prototype.sa=function(u){Ze(this.g,new Cu)},vr.prototype.ra=function(){Ze(this.g,"b")},Wa.prototype.createWebChannel=Wa.prototype.g,dn.prototype.send=dn.prototype.o,dn.prototype.open=dn.prototype.m,dn.prototype.close=dn.prototype.close,Ew=function(){return new Wa},_w=function(){return wi()},vw=cr,ep={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},xi.NO_ERROR=0,xi.TIMEOUT=8,xi.HTTP_ERROR=6,Xh=xi,zr.COMPLETE="complete",yw=zr,ul.EventType=Ur,Ur.OPEN="a",Ur.CLOSE="b",Ur.ERROR="c",Ur.MESSAGE="d",mt.prototype.listen=mt.prototype.K,bc=ul,$e.prototype.listenOnce=$e.prototype.L,$e.prototype.getLastError=$e.prototype.Ka,$e.prototype.getLastErrorCode=$e.prototype.Ba,$e.prototype.getStatus=$e.prototype.Z,$e.prototype.getResponseJson=$e.prototype.Oa,$e.prototype.getResponseText=$e.prototype.oa,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Ha,pw=$e}).apply(typeof Oh<"u"?Oh:typeof self<"u"?self:typeof window<"u"?window:{});const ME="@firebase/firestore",kE="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let on=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};on.UNAUTHENTICATED=new on(null),on.GOOGLE_CREDENTIALS=new on("google-credentials-uid"),on.FIRST_PARTY=new on("first-party-uid"),on.MOCK_USER=new on("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zo="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wa=new Ip("@firebase/firestore");function Oo(){return wa.logLevel}function de(r,...e){if(wa.logLevel<=Le.DEBUG){const t=e.map(Bp);wa.debug(`Firestore (${Zo}): ${r}`,...t)}}function vi(r,...e){if(wa.logLevel<=Le.ERROR){const t=e.map(Bp);wa.error(`Firestore (${Zo}): ${r}`,...t)}}function Go(r,...e){if(wa.logLevel<=Le.WARN){const t=e.map(Bp);wa.warn(`Firestore (${Zo}): ${r}`,...t)}}function Bp(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(r,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,bw(r,i,t)}function bw(r,e,t){let i=`FIRESTORE (${Zo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw vi(i),new Error(i)}function Xe(r,e,t,i){let o="Unexpected state";typeof t=="string"?o=t:i=t,r||bw(e,o,i)}function Re(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends Vr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class n2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(on.UNAUTHENTICATED))}shutdown(){}}class r2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class i2{constructor(e){this.t=e,this.currentUser=on.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Xe(this.o===void 0,42304);let i=this.i;const o=g=>this.i!==i?(i=this.i,t(g)):Promise.resolve();let c=new mi;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new mi,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const g=c;e.enqueueRetryable(async()=>{await g.promise,await o(this.currentUser)})},d=g=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(g=>d(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?d(g):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new mi)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Xe(typeof i.accessToken=="string",31837,{l:i}),new Tw(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xe(e===null||typeof e=="string",2055,{h:e}),new on(e)}}class s2{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=on.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class a2{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new s2(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(on.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class PE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class o2{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,_n(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Xe(this.o===void 0,3512);const i=c=>{c.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const h=c.token!==this.m;return this.m=c.token,de("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>i(c))};const o=c=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(c=>o(c)),setTimeout(()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new PE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Xe(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new PE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l2(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<r;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=l2(40);for(let c=0;c<o.length;++c)i.length<20&&o[c]<t&&(i+=e.charAt(o[c]%62))}return i}}function Ue(r,e){return r<e?-1:r>e?1:0}function tp(r,e){const t=Math.min(r.length,e.length);for(let i=0;i<t;i++){const o=r.charAt(i),c=e.charAt(i);if(o!==c)return wg(o)===wg(c)?Ue(o,c):wg(o)?1:-1}return Ue(r.length,e.length)}const c2=55296,u2=57343;function wg(r){const e=r.charCodeAt(0);return e>=c2&&e<=u2}function Yo(r,e,t){return r.length===e.length&&r.every((i,o)=>t(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE="__name__";class Ar{constructor(e,t,i){t===void 0?t=0:t>e.length&&Se(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&Se(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Ar.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ar?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const c=Ar.compareSegments(e.get(o),t.get(o));if(c!==0)return c}return Ue(e.length,t.length)}static compareSegments(e,t){const i=Ar.isNumericId(e),o=Ar.isNumericId(t);return i&&!o?-1:!i&&o?1:i&&o?Ar.extractNumericId(e).compare(Ar.extractNumericId(t)):tp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return hs.fromString(e.substring(4,e.length-2))}}class ct extends Ar{construct(e,t,i){return new ct(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new he(J.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(o=>o.length>0))}return new ct(t)}static emptyPath(){return new ct([])}}const h2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jt extends Ar{construct(e,t,i){return new Jt(e,t,i)}static isValidIdentifier(e){return h2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===VE}static keyField(){return new Jt([VE])}static fromServerFormat(e){const t=[];let i="",o=0;const c=()=>{if(i.length===0)throw new he(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let h=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new he(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new he(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=g,o+=2}else d==="`"?(h=!h,o++):d!=="."||h?(i+=d,o++):(c(),o++)}if(c(),h)throw new he(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Jt(t)}static emptyPath(){return new Jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(ct.fromString(e))}static fromName(e){return new _e(ct.fromString(e).popFirst(5))}static empty(){return new _e(ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ct.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new ct(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ww(r,e,t){if(!t)throw new he(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function f2(r,e,t,i){if(e===!0&&i===!0)throw new he(J.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function LE(r){if(!_e.isDocumentKey(r))throw new he(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function UE(r){if(_e.isDocumentKey(r))throw new he(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Sw(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function jf(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Se(12329,{type:typeof r})}function bn(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new he(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=jf(r);throw new he(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(r,e){const t={typeString:r};return e&&(t.value=e),t}function Wc(r,e){if(!Sw(r))throw new he(J.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const o=e[i].typeString,c="value"in e[i]?{value:e[i].value}:void 0;if(!(i in r)){t=`JSON missing required field: '${i}'`;break}const h=r[i];if(o&&typeof h!==o){t=`JSON field '${i}' must be a ${o}.`;break}if(c!==void 0&&h!==c.value){t=`Expected '${i}' field to equal '${c.value}'`;break}}if(t)throw new he(J.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE=-62135596800,zE=1e6;class Qe{static now(){return Qe.fromMillis(Date.now())}static fromDate(e){return Qe.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*zE);return new Qe(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new he(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new he(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<jE)throw new he(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/zE}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Qe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Wc(e,Qe._jsonSchema))return new Qe(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-jE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Qe._jsonSchemaVersion="firestore/timestamp/1.0",Qe._jsonSchema={type:Dt("string",Qe._jsonSchemaVersion),seconds:Dt("number"),nanoseconds:Dt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{static fromTimestamp(e){return new xe(e)}static min(){return new xe(new Qe(0,0))}static max(){return new xe(new Qe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pc=-1;function d2(r,e){const t=r.toTimestamp().seconds,i=r.toTimestamp().nanoseconds+1,o=xe.fromTimestamp(i===1e9?new Qe(t+1,0):new Qe(t,i));return new gs(o,_e.empty(),e)}function m2(r){return new gs(r.readTime,r.key,Pc)}class gs{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new gs(xe.min(),_e.empty(),Pc)}static max(){return new gs(xe.max(),_e.empty(),Pc)}}function g2(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=_e.comparator(r.documentKey,e.documentKey),t!==0?t:Ue(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class y2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jo(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==p2)throw r;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ne((i,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(i,o)},this.catchCallback=c=>{this.wrapFailure(t,c).next(i,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ne?t:ne.resolve(t)}catch(t){return ne.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ne.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ne.reject(t)}static resolve(e){return new ne((t,i)=>{t(e)})}static reject(e){return new ne((t,i)=>{i(e)})}static waitFor(e){return new ne((t,i)=>{let o=0,c=0,h=!1;e.forEach(d=>{++o,d.next(()=>{++c,h&&c===o&&t()},g=>i(g))}),h=!0,c===o&&t()})}static or(e){let t=ne.resolve(!1);for(const i of e)t=t.next(o=>o?ne.resolve(o):i());return t}static forEach(e,t){const i=[];return e.forEach((o,c)=>{i.push(t.call(this,o,c))}),this.waitFor(i)}static mapArray(e,t){return new ne((i,o)=>{const c=e.length,h=new Array(c);let d=0;for(let g=0;g<c;g++){const p=g;t(e[p]).next(v=>{h[p]=v,++d,d===c&&i(h)},v=>o(v))}})}static doWhile(e,t){return new ne((i,o)=>{const c=()=>{e()===!0?t().next(()=>{c()},o):i()};c()})}}function v2(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function el(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>t.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}zf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fp=-1;function Bf(r){return r==null}function gf(r){return r===0&&1/r==-1/0}function _2(r){return typeof r=="number"&&Number.isInteger(r)&&!gf(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw="";function E2(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=BE(e)),e=b2(r.get(t),e);return BE(e)}function b2(r,e){let t=e;const i=r.length;for(let o=0;o<i;o++){const c=r.charAt(o);switch(c){case"\0":t+="";break;case Aw:t+="";break;default:t+=c}}return t}function BE(r){return r+Aw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qE(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Ss(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function xw(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e,t){this.comparator=e,this.root=t||Zt.EMPTY}insert(e,t){return new dt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Zt.BLACK,null,null))}remove(e){return new dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Mh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Mh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Mh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Mh(this.root,e,this.comparator,!0)}}class Mh{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?i(e.key,t):1,t&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zt{constructor(e,t,i,o,c){this.key=e,this.value=t,this.color=i??Zt.RED,this.left=o??Zt.EMPTY,this.right=c??Zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,c){return new Zt(e??this.key,t??this.value,i??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const c=i(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,t,i),null):c===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Zt.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}Zt.EMPTY=null,Zt.RED=!0,Zt.BLACK=!1;Zt.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,t,i,o,c){return this}insert(e,t,i){return new Zt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.comparator=e,this.data=new dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new FE(this.data.getIterator())}getIteratorFrom(e){return new FE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof jt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,c=i.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new jt(this.comparator);return t.data=e,t}}class FE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.fields=e,e.sort(Jt.comparator)}static empty(){return new Mn([])}unionWith(e){let t=new jt(Jt.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Mn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Yo(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Rw("Invalid base64 string: "+c):c}}(e);return new tn(t)}static fromUint8Array(e){const t=function(o){let c="";for(let h=0;h<o.length;++h)c+=String.fromCharCode(o[h]);return c}(e);return new tn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const T2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ps(r){if(Xe(!!r,39018),typeof r=="string"){let e=0;const t=T2.exec(r);if(Xe(!!t,46558,{timestamp:r}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(r);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Tt(r.seconds),nanos:Tt(r.nanos)}}function Tt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ys(r){return typeof r=="string"?tn.fromBase64String(r):tn.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iw="server_timestamp",Nw="__type__",Cw="__previous_value__",Dw="__local_write_time__";function Hp(r){var t,i;return((i=(((t=r==null?void 0:r.mapValue)==null?void 0:t.fields)||{})[Nw])==null?void 0:i.stringValue)===Iw}function qf(r){const e=r.mapValue.fields[Cw];return Hp(e)?qf(e):e}function Vc(r){const e=ps(r.mapValue.fields[Dw].timestampValue);return new Qe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(e,t,i,o,c,h,d,g,p,v){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=c,this.forceLongPolling=h,this.autoDetectLongPolling=d,this.longPollingOptions=g,this.useFetchStreams=p,this.isUsingEmulator=v}}const pf="(default)";class Lc{constructor(e,t){this.projectId=e,this.database=t||pf}static empty(){return new Lc("","")}get isDefaultDatabase(){return this.database===pf}isEqual(e){return e instanceof Lc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ow="__type__",S2="__max__",kh={mapValue:{}},Mw="__vector__",yf="value";function vs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Hp(r)?4:x2(r)?9007199254740991:A2(r)?10:11:Se(28295,{value:r})}function Mr(r,e){if(r===e)return!0;const t=vs(r);if(t!==vs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Vc(r).isEqual(Vc(e));case 3:return function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const h=ps(o.timestampValue),d=ps(c.timestampValue);return h.seconds===d.seconds&&h.nanos===d.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,c){return ys(o.bytesValue).isEqual(ys(c.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,c){return Tt(o.geoPointValue.latitude)===Tt(c.geoPointValue.latitude)&&Tt(o.geoPointValue.longitude)===Tt(c.geoPointValue.longitude)}(r,e);case 2:return function(o,c){if("integerValue"in o&&"integerValue"in c)return Tt(o.integerValue)===Tt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const h=Tt(o.doubleValue),d=Tt(c.doubleValue);return h===d?gf(h)===gf(d):isNaN(h)&&isNaN(d)}return!1}(r,e);case 9:return Yo(r.arrayValue.values||[],e.arrayValue.values||[],Mr);case 10:case 11:return function(o,c){const h=o.mapValue.fields||{},d=c.mapValue.fields||{};if(qE(h)!==qE(d))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(d[g]===void 0||!Mr(h[g],d[g])))return!1;return!0}(r,e);default:return Se(52216,{left:r})}}function Uc(r,e){return(r.values||[]).find(t=>Mr(t,e))!==void 0}function Ko(r,e){if(r===e)return 0;const t=vs(r),i=vs(e);if(t!==i)return Ue(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ue(r.booleanValue,e.booleanValue);case 2:return function(c,h){const d=Tt(c.integerValue||c.doubleValue),g=Tt(h.integerValue||h.doubleValue);return d<g?-1:d>g?1:d===g?0:isNaN(d)?isNaN(g)?0:-1:1}(r,e);case 3:return HE(r.timestampValue,e.timestampValue);case 4:return HE(Vc(r),Vc(e));case 5:return tp(r.stringValue,e.stringValue);case 6:return function(c,h){const d=ys(c),g=ys(h);return d.compareTo(g)}(r.bytesValue,e.bytesValue);case 7:return function(c,h){const d=c.split("/"),g=h.split("/");for(let p=0;p<d.length&&p<g.length;p++){const v=Ue(d[p],g[p]);if(v!==0)return v}return Ue(d.length,g.length)}(r.referenceValue,e.referenceValue);case 8:return function(c,h){const d=Ue(Tt(c.latitude),Tt(h.latitude));return d!==0?d:Ue(Tt(c.longitude),Tt(h.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return GE(r.arrayValue,e.arrayValue);case 10:return function(c,h){var T,D,P,R;const d=c.fields||{},g=h.fields||{},p=(T=d[yf])==null?void 0:T.arrayValue,v=(D=g[yf])==null?void 0:D.arrayValue,w=Ue(((P=p==null?void 0:p.values)==null?void 0:P.length)||0,((R=v==null?void 0:v.values)==null?void 0:R.length)||0);return w!==0?w:GE(p,v)}(r.mapValue,e.mapValue);case 11:return function(c,h){if(c===kh.mapValue&&h===kh.mapValue)return 0;if(c===kh.mapValue)return 1;if(h===kh.mapValue)return-1;const d=c.fields||{},g=Object.keys(d),p=h.fields||{},v=Object.keys(p);g.sort(),v.sort();for(let w=0;w<g.length&&w<v.length;++w){const T=tp(g[w],v[w]);if(T!==0)return T;const D=Ko(d[g[w]],p[v[w]]);if(D!==0)return D}return Ue(g.length,v.length)}(r.mapValue,e.mapValue);default:throw Se(23264,{he:t})}}function HE(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ue(r,e);const t=ps(r),i=ps(e),o=Ue(t.seconds,i.seconds);return o!==0?o:Ue(t.nanos,i.nanos)}function GE(r,e){const t=r.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const c=Ko(t[o],i[o]);if(c)return c}return Ue(t.length,i.length)}function Qo(r){return np(r)}function np(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const i=ps(t);return`time(${i.seconds},${i.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return ys(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return _e.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let i="[",o=!0;for(const c of t.values||[])o?o=!1:i+=",",i+=np(c);return i+"]"}(r.arrayValue):"mapValue"in r?function(t){const i=Object.keys(t.fields||{}).sort();let o="{",c=!0;for(const h of i)c?c=!1:o+=",",o+=`${h}:${np(t.fields[h])}`;return o+"}"}(r.mapValue):Se(61005,{value:r})}function Wh(r){switch(vs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=qf(r);return e?16+Wh(e):16;case 5:return 2*r.stringValue.length;case 6:return ys(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((o,c)=>o+Wh(c),0)}(r.arrayValue);case 10:case 11:return function(i){let o=0;return Ss(i.fields,(c,h)=>{o+=c.length+Wh(h)}),o}(r.mapValue);default:throw Se(13486,{value:r})}}function YE(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function rp(r){return!!r&&"integerValue"in r}function Gp(r){return!!r&&"arrayValue"in r}function KE(r){return!!r&&"nullValue"in r}function QE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Zh(r){return!!r&&"mapValue"in r}function A2(r){var t,i;return((i=(((t=r==null?void 0:r.mapValue)==null?void 0:t.fields)||{})[Ow])==null?void 0:i.stringValue)===Mw}function Rc(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Ss(r.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Rc(i)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Rc(r.arrayValue.values[t]);return e}return{...r}}function x2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===S2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.value=e}static empty(){return new En({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Zh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Rc(t)}setAll(e){let t=Jt.emptyPath(),i={},o=[];e.forEach((h,d)=>{if(!t.isImmediateParentOf(d)){const g=this.getFieldsMap(t);this.applyChanges(g,i,o),i={},o=[],t=d.popLast()}h?i[d.lastSegment()]=Rc(h):o.push(d.lastSegment())});const c=this.getFieldsMap(t);this.applyChanges(c,i,o)}delete(e){const t=this.field(e.popLast());Zh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Mr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];Zh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){Ss(t,(o,c)=>e[o]=c);for(const o of i)delete e[o]}clone(){return new En(Rc(this.value))}}function kw(r){const e=[];return Ss(r.fields,(t,i)=>{const o=new Jt([t]);if(Zh(i)){const c=kw(i.mapValue).fields;if(c.length===0)e.push(o);else for(const h of c)e.push(o.child(h))}else e.push(o)}),new Mn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e,t,i,o,c,h,d){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=c,this.data=h,this.documentState=d}static newInvalidDocument(e){return new ln(e,0,xe.min(),xe.min(),xe.min(),En.empty(),0)}static newFoundDocument(e,t,i,o){return new ln(e,1,t,xe.min(),i,o,0)}static newNoDocument(e,t){return new ln(e,2,t,xe.min(),xe.min(),En.empty(),0)}static newUnknownDocument(e,t){return new ln(e,3,t,xe.min(),xe.min(),En.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=En.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=En.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ln&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(e,t){this.position=e,this.inclusive=t}}function $E(r,e,t){let i=0;for(let o=0;o<r.position.length;o++){const c=e[o],h=r.position[o];if(c.field.isKeyField()?i=_e.comparator(_e.fromName(h.referenceValue),t.key):i=Ko(h,t.data.field(c.field)),c.dir==="desc"&&(i*=-1),i!==0)break}return i}function XE(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Mr(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(e,t="asc"){this.field=e,this.dir=t}}function R2(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{}class Ct extends Pw{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new N2(e,t,i):t==="array-contains"?new O2(e,i):t==="in"?new M2(e,i):t==="not-in"?new k2(e,i):t==="array-contains-any"?new P2(e,i):new Ct(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new C2(e,i):new D2(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Ko(t,this.value)):t!==null&&vs(this.value)===vs(t)&&this.matchesComparison(Ko(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class or extends Pw{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new or(e,t)}matches(e){return Vw(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Vw(r){return r.op==="and"}function Lw(r){return I2(r)&&Vw(r)}function I2(r){for(const e of r.filters)if(e instanceof or)return!1;return!0}function ip(r){if(r instanceof Ct)return r.field.canonicalString()+r.op.toString()+Qo(r.value);if(Lw(r))return r.filters.map(e=>ip(e)).join(",");{const e=r.filters.map(t=>ip(t)).join(",");return`${r.op}(${e})`}}function Uw(r,e){return r instanceof Ct?function(i,o){return o instanceof Ct&&i.op===o.op&&i.field.isEqual(o.field)&&Mr(i.value,o.value)}(r,e):r instanceof or?function(i,o){return o instanceof or&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((c,h,d)=>c&&Uw(h,o.filters[d]),!0):!1}(r,e):void Se(19439)}function jw(r){return r instanceof Ct?function(t){return`${t.field.canonicalString()} ${t.op} ${Qo(t.value)}`}(r):r instanceof or?function(t){return t.op.toString()+" {"+t.getFilters().map(jw).join(" ,")+"}"}(r):"Filter"}class N2 extends Ct{constructor(e,t,i){super(e,t,i),this.key=_e.fromName(i.referenceValue)}matches(e){const t=_e.comparator(e.key,this.key);return this.matchesComparison(t)}}class C2 extends Ct{constructor(e,t){super(e,"in",t),this.keys=zw("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class D2 extends Ct{constructor(e,t){super(e,"not-in",t),this.keys=zw("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function zw(r,e){var t;return(((t=e.arrayValue)==null?void 0:t.values)||[]).map(i=>_e.fromName(i.referenceValue))}class O2 extends Ct{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Gp(t)&&Uc(t.arrayValue,this.value)}}class M2 extends Ct{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Uc(this.value.arrayValue,t)}}class k2 extends Ct{constructor(e,t){super(e,"not-in",t)}matches(e){if(Uc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Uc(this.value.arrayValue,t)}}class P2 extends Ct{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Gp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Uc(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(e,t=null,i=[],o=[],c=null,h=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=c,this.startAt=h,this.endAt=d,this.Te=null}}function WE(r,e=null,t=[],i=[],o=null,c=null,h=null){return new V2(r,e,t,i,o,c,h)}function Yp(r){const e=Re(r);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>ip(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(c){return c.field.canonicalString()+c.dir}(i)).join(","),Bf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Qo(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Qo(i)).join(",")),e.Te=t}return e.Te}function Kp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!R2(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!Uw(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!XE(r.startAt,e.startAt)&&XE(r.endAt,e.endAt)}function sp(r){return _e.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e,t=null,i=[],o=[],c=null,h="F",d=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=c,this.limitType=h,this.startAt=d,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function L2(r,e,t,i,o,c,h,d){return new tl(r,e,t,i,o,c,h,d)}function Ff(r){return new tl(r)}function ZE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Bw(r){return r.collectionGroup!==null}function Ic(r){const e=Re(r);if(e.Ie===null){e.Ie=[];const t=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),t.add(c.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let d=new jt(Jt.comparator);return h.filters.forEach(g=>{g.getFlattenedFilters().forEach(p=>{p.isInequality()&&(d=d.add(p.field))})}),d})(e).forEach(c=>{t.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new jc(c,i))}),t.has(Jt.keyField().canonicalString())||e.Ie.push(new jc(Jt.keyField(),i))}return e.Ie}function Nr(r){const e=Re(r);return e.Ee||(e.Ee=U2(e,Ic(r))),e.Ee}function U2(r,e){if(r.limitType==="F")return WE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const c=o.dir==="desc"?"asc":"desc";return new jc(o.field,c)});const t=r.endAt?new vf(r.endAt.position,r.endAt.inclusive):null,i=r.startAt?new vf(r.startAt.position,r.startAt.inclusive):null;return WE(r.path,r.collectionGroup,e,r.filters,r.limit,t,i)}}function ap(r,e){const t=r.filters.concat([e]);return new tl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function op(r,e,t){return new tl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Hf(r,e){return Kp(Nr(r),Nr(e))&&r.limitType===e.limitType}function qw(r){return`${Yp(Nr(r))}|lt:${r.limitType}`}function Mo(r){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(o=>jw(o)).join(", ")}]`),Bf(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(o=>Qo(o)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(o=>Qo(o)).join(",")),`Target(${i})`}(Nr(r))}; limitType=${r.limitType})`}function Gf(r,e){return e.isFoundDocument()&&function(i,o){const c=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(c):_e.isDocumentKey(i.path)?i.path.isEqual(c):i.path.isImmediateParentOf(c)}(r,e)&&function(i,o){for(const c of Ic(i))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0}(r,e)&&function(i,o){for(const c of i.filters)if(!c.matches(o))return!1;return!0}(r,e)&&function(i,o){return!(i.startAt&&!function(h,d,g){const p=$E(h,d,g);return h.inclusive?p<=0:p<0}(i.startAt,Ic(i),o)||i.endAt&&!function(h,d,g){const p=$E(h,d,g);return h.inclusive?p>=0:p>0}(i.endAt,Ic(i),o))}(r,e)}function j2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Fw(r){return(e,t)=>{let i=!1;for(const o of Ic(r)){const c=z2(o,e,t);if(c!==0)return c;i=i||o.field.isKeyField()}return 0}}function z2(r,e,t){const i=r.field.isKeyField()?_e.comparator(e.key,t.key):function(c,h,d){const g=h.data.field(c),p=d.data.field(c);return g!==null&&p!==null?Ko(g,p):Se(42886)}(r.field,e,t);switch(r.dir){case"asc":return i;case"desc":return-1*i;default:return Se(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,c]of i)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ss(this.inner,(t,i)=>{for(const[o,c]of i)e(o,c)})}isEmpty(){return xw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B2=new dt(_e.comparator);function _i(){return B2}const Hw=new dt(_e.comparator);function Tc(...r){let e=Hw;for(const t of r)e=e.insert(t.key,t);return e}function Gw(r){let e=Hw;return r.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function ga(){return Nc()}function Yw(){return Nc()}function Nc(){return new Oa(r=>r.toString(),(r,e)=>r.isEqual(e))}const q2=new dt(_e.comparator),F2=new jt(_e.comparator);function je(...r){let e=F2;for(const t of r)e=e.add(t);return e}const H2=new jt(Ue);function G2(){return H2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gf(e)?"-0":e}}function Kw(r){return{integerValue:""+r}}function Y2(r,e){return _2(e)?Kw(e):Qp(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf{constructor(){this._=void 0}}function K2(r,e,t){return r instanceof _f?function(o,c){const h={fields:{[Nw]:{stringValue:Iw},[Dw]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Hp(c)&&(c=qf(c)),c&&(h.fields[Cw]=c),{mapValue:h}}(t,e):r instanceof zc?$w(r,e):r instanceof Bc?Xw(r,e):function(o,c){const h=Qw(o,c),d=JE(h)+JE(o.Ae);return rp(h)&&rp(o.Ae)?Kw(d):Qp(o.serializer,d)}(r,e)}function Q2(r,e,t){return r instanceof zc?$w(r,e):r instanceof Bc?Xw(r,e):t}function Qw(r,e){return r instanceof Ef?function(i){return rp(i)||function(c){return!!c&&"doubleValue"in c}(i)}(e)?e:{integerValue:0}:null}class _f extends Yf{}class zc extends Yf{constructor(e){super(),this.elements=e}}function $w(r,e){const t=Ww(e);for(const i of r.elements)t.some(o=>Mr(o,i))||t.push(i);return{arrayValue:{values:t}}}class Bc extends Yf{constructor(e){super(),this.elements=e}}function Xw(r,e){let t=Ww(e);for(const i of r.elements)t=t.filter(o=>!Mr(o,i));return{arrayValue:{values:t}}}class Ef extends Yf{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function JE(r){return Tt(r.integerValue||r.doubleValue)}function Ww(r){return Gp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function $2(r,e){return r.field.isEqual(e.field)&&function(i,o){return i instanceof zc&&o instanceof zc||i instanceof Bc&&o instanceof Bc?Yo(i.elements,o.elements,Mr):i instanceof Ef&&o instanceof Ef?Mr(i.Ae,o.Ae):i instanceof _f&&o instanceof _f}(r.transform,e.transform)}class X2{constructor(e,t){this.version=e,this.transformResults=t}}class Xn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Xn}static exists(e){return new Xn(void 0,e)}static updateTime(e){return new Xn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Jh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Kf{}function Zw(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new $p(r.key,Xn.none()):new Zc(r.key,r.data,Xn.none());{const t=r.data,i=En.empty();let o=new jt(Jt.comparator);for(let c of e.fields)if(!o.has(c)){let h=t.field(c);h===null&&c.length>1&&(c=c.popLast(),h=t.field(c)),h===null?i.delete(c):i.set(c,h),o=o.add(c)}return new As(r.key,i,new Mn(o.toArray()),Xn.none())}}function W2(r,e,t){r instanceof Zc?function(o,c,h){const d=o.value.clone(),g=tb(o.fieldTransforms,c,h.transformResults);d.setAll(g),c.convertToFoundDocument(h.version,d).setHasCommittedMutations()}(r,e,t):r instanceof As?function(o,c,h){if(!Jh(o.precondition,c))return void c.convertToUnknownDocument(h.version);const d=tb(o.fieldTransforms,c,h.transformResults),g=c.data;g.setAll(Jw(o)),g.setAll(d),c.convertToFoundDocument(h.version,g).setHasCommittedMutations()}(r,e,t):function(o,c,h){c.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function Cc(r,e,t,i){return r instanceof Zc?function(c,h,d,g){if(!Jh(c.precondition,h))return d;const p=c.value.clone(),v=nb(c.fieldTransforms,g,h);return p.setAll(v),h.convertToFoundDocument(h.version,p).setHasLocalMutations(),null}(r,e,t,i):r instanceof As?function(c,h,d,g){if(!Jh(c.precondition,h))return d;const p=nb(c.fieldTransforms,g,h),v=h.data;return v.setAll(Jw(c)),v.setAll(p),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),d===null?null:d.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(w=>w.field))}(r,e,t,i):function(c,h,d){return Jh(c.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):d}(r,e,t)}function Z2(r,e){let t=null;for(const i of r.fieldTransforms){const o=e.data.field(i.field),c=Qw(i.transform,o||null);c!=null&&(t===null&&(t=En.empty()),t.set(i.field,c))}return t||null}function eb(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&Yo(i,o,(c,h)=>$2(c,h))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Zc extends Kf{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class As extends Kf{constructor(e,t,i,o,c=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function Jw(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=r.data.field(t);e.set(t,i)}}),e}function tb(r,e,t){const i=new Map;Xe(r.length===t.length,32656,{Re:t.length,Ve:r.length});for(let o=0;o<t.length;o++){const c=r[o],h=c.transform,d=e.data.field(c.field);i.set(c.field,Q2(h,d,t[o]))}return i}function nb(r,e,t){const i=new Map;for(const o of r){const c=o.transform,h=t.data.field(o.field);i.set(o.field,K2(c,h,e))}return i}class $p extends Kf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class J2 extends Kf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&W2(c,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Cc(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Cc(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=Yw();return this.mutations.forEach(o=>{const c=e.get(o.key),h=c.overlayedDocument;let d=this.applyToLocalView(h,c.mutatedFields);d=t.has(o.key)?null:d;const g=Zw(h,d);g!==null&&i.set(o.key,g),h.isValidDocument()||h.convertToNoDocument(xe.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),je())}isEqual(e){return this.batchId===e.batchId&&Yo(this.mutations,e.mutations,(t,i)=>eb(t,i))&&Yo(this.baseMutations,e.baseMutations,(t,i)=>eb(t,i))}}class Xp{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){Xe(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let o=function(){return q2}();const c=e.mutations;for(let h=0;h<c.length;h++)o=o.insert(c[h].key,i[h].version);return new Xp(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tD=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var It,He;function rD(r){switch(r){case J.OK:return Se(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Se(15467,{code:r})}}function e1(r){if(r===void 0)return vi("GRPC error has no .code"),J.UNKNOWN;switch(r){case It.OK:return J.OK;case It.CANCELLED:return J.CANCELLED;case It.UNKNOWN:return J.UNKNOWN;case It.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case It.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case It.INTERNAL:return J.INTERNAL;case It.UNAVAILABLE:return J.UNAVAILABLE;case It.UNAUTHENTICATED:return J.UNAUTHENTICATED;case It.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case It.NOT_FOUND:return J.NOT_FOUND;case It.ALREADY_EXISTS:return J.ALREADY_EXISTS;case It.PERMISSION_DENIED:return J.PERMISSION_DENIED;case It.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case It.ABORTED:return J.ABORTED;case It.OUT_OF_RANGE:return J.OUT_OF_RANGE;case It.UNIMPLEMENTED:return J.UNIMPLEMENTED;case It.DATA_LOSS:return J.DATA_LOSS;default:return Se(39323,{code:r})}}(He=It||(It={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD=new hs([4294967295,4294967295],0);function rb(r){const e=iD().encode(r),t=new gw;return t.update(e),new Uint8Array(t.digest())}function ib(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new hs([t,i],0),new hs([o,c],0)]}class Wp{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new wc(`Invalid padding: ${t}`);if(i<0)throw new wc(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new wc(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new wc(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=hs.fromNumber(this.ge)}ye(e,t,i){let o=e.add(t.multiply(hs.fromNumber(i)));return o.compare(sD)===1&&(o=new hs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=rb(e),[i,o]=ib(t);for(let c=0;c<this.hashCount;c++){const h=this.ye(i,o,c);if(!this.we(h))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),h=new Wp(c,o,t);return i.forEach(d=>h.insert(d)),h}insert(e){if(this.ge===0)return;const t=rb(e),[i,o]=ib(t);for(let c=0;c<this.hashCount;c++){const h=this.ye(i,o,c);this.Se(h)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class wc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(e,t,i,o,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,Jc.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Qf(xe.min(),o,new dt(Ue),_i(),je())}}class Jc{constructor(e,t,i,o,c){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Jc(i,t,je(),je(),je())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e,t,i,o){this.be=e,this.removedTargetIds=t,this.key=i,this.De=o}}class t1{constructor(e,t){this.targetId=e,this.Ce=t}}class n1{constructor(e,t,i=tn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class sb{constructor(){this.ve=0,this.Fe=ab(),this.Me=tn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=je(),t=je(),i=je();return this.Fe.forEach((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:Se(38017,{changeType:c})}}),new Jc(this.Me,this.xe,e,t,i)}qe(){this.Oe=!1,this.Fe=ab()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Xe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class aD{constructor(e){this.Ge=e,this.ze=new Map,this.je=_i(),this.Je=Ph(),this.He=Ph(),this.Ye=new dt(Ue)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const i=this.nt(t);switch(e.state){case 0:this.rt(t)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),i.Le(e.resumeToken));break;default:Se(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((i,o)=>{this.rt(o)&&t(o)})}st(e){const t=e.targetId,i=e.Ce.count,o=this.ot(t);if(o){const c=o.target;if(sp(c))if(i===0){const h=new _e(c.path);this.et(t,h,ln.newNoDocument(h,xe.min()))}else Xe(i===1,20013,{expectedCount:i});else{const h=this._t(t);if(h!==i){const d=this.ut(e),g=d?this.ct(d,e,h):1;if(g!==0){this.it(t);const p=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,p)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:c=0}=t;let h,d;try{h=ys(i).toUint8Array()}catch(g){if(g instanceof Rw)return Go("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{d=new Wp(h,o,c)}catch(g){return Go(g instanceof wc?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return d.ge===0?null:d}ct(e,t,i){return t.Ce.count===i-this.Pt(e,t.targetId)?0:2}Pt(e,t){const i=this.Ge.getRemoteKeysForTarget(t);let o=0;return i.forEach(c=>{const h=this.Ge.ht(),d=`projects/${h.projectId}/databases/${h.database}/documents/${c.path.canonicalString()}`;e.mightContain(d)||(this.et(t,c,null),o++)}),o}Tt(e){const t=new Map;this.ze.forEach((c,h)=>{const d=this.ot(h);if(d){if(c.current&&sp(d.target)){const g=new _e(d.target.path);this.It(g).has(h)||this.Et(h,g)||this.et(h,g,ln.newNoDocument(g,e))}c.Be&&(t.set(h,c.ke()),c.qe())}});let i=je();this.He.forEach((c,h)=>{let d=!0;h.forEachWhile(g=>{const p=this.ot(g);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(i=i.add(c))}),this.je.forEach((c,h)=>h.setReadTime(e));const o=new Qf(e,t,this.Ye,this.je,i);return this.je=_i(),this.Je=Ph(),this.He=Ph(),this.Ye=new dt(Ue),o}Xe(e,t){if(!this.rt(e))return;const i=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,i),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,i){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),i&&(this.je=this.je.insert(t,i))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new sb,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new jt(Ue),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new jt(Ue),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||de("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new sb),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Ph(){return new dt(_e.comparator)}function ab(){return new dt(_e.comparator)}const oD={asc:"ASCENDING",desc:"DESCENDING"},lD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},cD={and:"AND",or:"OR"};class uD{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function lp(r,e){return r.useProto3Json||Bf(e)?e:{value:e}}function bf(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function r1(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function hD(r,e){return bf(r,e.toTimestamp())}function Cr(r){return Xe(!!r,49232),xe.fromTimestamp(function(t){const i=ps(t);return new Qe(i.seconds,i.nanos)}(r))}function Zp(r,e){return cp(r,e).canonicalString()}function cp(r,e){const t=function(o){return new ct(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?t:t.child(e)}function i1(r){const e=ct.fromString(r);return Xe(c1(e),10190,{key:e.toString()}),e}function up(r,e){return Zp(r.databaseId,e.path)}function Sg(r,e){const t=i1(e);if(t.get(1)!==r.databaseId.projectId)throw new he(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new he(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new _e(a1(t))}function s1(r,e){return Zp(r.databaseId,e)}function fD(r){const e=i1(r);return e.length===4?ct.emptyPath():a1(e)}function hp(r){return new ct(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function a1(r){return Xe(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function ob(r,e,t){return{name:up(r,e),fields:t.value.mapValue.fields}}function dD(r,e){let t;if("targetChange"in e){e.targetChange;const i=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Se(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=function(p,v){return p.useProto3Json?(Xe(v===void 0||typeof v=="string",58123),tn.fromBase64String(v||"")):(Xe(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),tn.fromUint8Array(v||new Uint8Array))}(r,e.targetChange.resumeToken),h=e.targetChange.cause,d=h&&function(p){const v=p.code===void 0?J.UNKNOWN:e1(p.code);return new he(v,p.message||"")}(h);t=new n1(i,o,c,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=Sg(r,i.document.name),c=Cr(i.document.updateTime),h=i.document.createTime?Cr(i.document.createTime):xe.min(),d=new En({mapValue:{fields:i.document.fields}}),g=ln.newFoundDocument(o,c,h,d),p=i.targetIds||[],v=i.removedTargetIds||[];t=new ef(p,v,g.key,g)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=Sg(r,i.document),c=i.readTime?Cr(i.readTime):xe.min(),h=ln.newNoDocument(o,c),d=i.removedTargetIds||[];t=new ef([],d,h.key,h)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=Sg(r,i.document),c=i.removedTargetIds||[];t=new ef([],c,o,null)}else{if(!("filter"in e))return Se(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:c}=i,h=new nD(o,c),d=i.targetId;t=new t1(d,h)}}return t}function mD(r,e){let t;if(e instanceof Zc)t={update:ob(r,e.key,e.value)};else if(e instanceof $p)t={delete:up(r,e.key)};else if(e instanceof As)t={update:ob(r,e.key,e.data),updateMask:wD(e.fieldMask)};else{if(!(e instanceof J2))return Se(16599,{Vt:e.type});t={verify:up(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(c,h){const d=h.transform;if(d instanceof _f)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof zc)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Bc)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Ef)return{fieldPath:h.field.canonicalString(),increment:d.Ae};throw Se(20930,{transform:h.transform})}(0,i))),e.precondition.isNone||(t.currentDocument=function(o,c){return c.updateTime!==void 0?{updateTime:hD(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Se(27497)}(r,e.precondition)),t}function gD(r,e){return r&&r.length>0?(Xe(e!==void 0,14353),r.map(t=>function(o,c){let h=o.updateTime?Cr(o.updateTime):Cr(c);return h.isEqual(xe.min())&&(h=Cr(c)),new X2(h,o.transformResults||[])}(t,e))):[]}function pD(r,e){return{documents:[s1(r,e.path)]}}function yD(r,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=s1(r,o);const c=function(p){if(p.length!==0)return l1(or.create(p,"and"))}(e.filters);c&&(t.structuredQuery.where=c);const h=function(p){if(p.length!==0)return p.map(v=>function(T){return{field:ko(T.field),direction:ED(T.dir)}}(v))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const d=lp(r,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ft:t,parent:o}}function vD(r){let e=fD(r.parent);const t=r.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){Xe(i===1,65062);const v=t.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let c=[];t.where&&(c=function(w){const T=o1(w);return T instanceof or&&Lw(T)?T.getFilters():[T]}(t.where));let h=[];t.orderBy&&(h=function(w){return w.map(T=>function(P){return new jc(Po(P.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction))}(T))}(t.orderBy));let d=null;t.limit&&(d=function(w){let T;return T=typeof w=="object"?w.value:w,Bf(T)?null:T}(t.limit));let g=null;t.startAt&&(g=function(w){const T=!!w.before,D=w.values||[];return new vf(D,T)}(t.startAt));let p=null;return t.endAt&&(p=function(w){const T=!w.before,D=w.values||[];return new vf(D,T)}(t.endAt)),L2(e,o,h,c,d,"F",g,p)}function _D(r,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:o})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function o1(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Po(t.unaryFilter.field);return Ct.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=Po(t.unaryFilter.field);return Ct.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Po(t.unaryFilter.field);return Ct.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Po(t.unaryFilter.field);return Ct.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}}(r):r.fieldFilter!==void 0?function(t){return Ct.create(Po(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return or.create(t.compositeFilter.filters.map(i=>o1(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Se(1026)}}(t.compositeFilter.op))}(r):Se(30097,{filter:r})}function ED(r){return oD[r]}function bD(r){return lD[r]}function TD(r){return cD[r]}function ko(r){return{fieldPath:r.canonicalString()}}function Po(r){return Jt.fromServerFormat(r.fieldPath)}function l1(r){return r instanceof Ct?function(t){if(t.op==="=="){if(QE(t.value))return{unaryFilter:{field:ko(t.field),op:"IS_NAN"}};if(KE(t.value))return{unaryFilter:{field:ko(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(QE(t.value))return{unaryFilter:{field:ko(t.field),op:"IS_NOT_NAN"}};if(KE(t.value))return{unaryFilter:{field:ko(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ko(t.field),op:bD(t.op),value:t.value}}}(r):r instanceof or?function(t){const i=t.getFilters().map(o=>l1(o));return i.length===1?i[0]:{compositeFilter:{op:TD(t.op),filters:i}}}(r):Se(54877,{filter:r})}function wD(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function c1(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(e,t,i,o,c=xe.min(),h=xe.min(),d=tn.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=d,this.expectedCount=g}withSequenceNumber(e){return new ss(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ss(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(e){this.yt=e}}function AD(r){const e=vD({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?op(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(){this.Cn=new RD}addToCollectionParentIndex(e,t){return this.Cn.add(t),ne.resolve()}getCollectionParents(e,t){return ne.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ne.resolve()}deleteFieldIndex(e,t){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,t){return ne.resolve()}getDocumentsMatchingTarget(e,t){return ne.resolve(null)}getIndexType(e,t){return ne.resolve(0)}getFieldIndexes(e,t){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,t){return ne.resolve(gs.min())}getMinOffsetFromCollectionGroup(e,t){return ne.resolve(gs.min())}updateCollectionGroup(e,t,i){return ne.resolve()}updateIndexEntries(e,t){return ne.resolve()}}class RD{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new jt(ct.comparator),c=!o.has(i);return this.index[t]=o.add(i),c}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new jt(ct.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},u1=41943040;class vn{static withCacheSize(e){return new vn(e,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vn.DEFAULT_COLLECTION_PERCENTILE=10,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vn.DEFAULT=new vn(u1,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vn.DISABLED=new vn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new $o(0)}static cr(){return new $o(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cb="LruGarbageCollector",ID=1048576;function ub([r,e],[t,i]){const o=Ue(r,t);return o===0?Ue(e,i):o}class ND{constructor(e){this.Ir=e,this.buffer=new jt(ub),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();ub(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class CD{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){de(cb,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){el(t)?de(cb,"Ignoring IndexedDB error during garbage collection: ",t):await Jo(t)}await this.Vr(3e5)})}}class DD{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return ne.resolve(zf.ce);const i=new ND(t);return this.mr.forEachTarget(e,o=>i.Ar(o.sequenceNumber)).next(()=>this.mr.pr(e,o=>i.Ar(o))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.mr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(lb)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),lb):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let i,o,c,h,d,g,p;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,h=Date.now(),this.nthSequenceNumber(e,o))).next(w=>(i=w,d=Date.now(),this.removeTargets(e,i,t))).next(w=>(c=w,g=Date.now(),this.removeOrphanedDocuments(e,i))).next(w=>(p=Date.now(),Oo()<=Le.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-v}ms
	Determined least recently used ${o} in `+(d-h)+`ms
	Removed ${c} targets in `+(g-d)+`ms
	Removed ${w} documents in `+(p-g)+`ms
Total Duration: ${p-v}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:w})))}}function OD(r,e){return new DD(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(){this.changes=new Oa(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ln.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?ne.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(i!==null&&Cc(i.mutation,o,Mn.empty(),Qe.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,je()).next(()=>i))}getLocalViewOfDocuments(e,t,i=je()){const o=ga();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,i).next(c=>{let h=Tc();return c.forEach((d,g)=>{h=h.insert(d,g.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const i=ga();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,je()))}populateOverlays(e,t,i){const o=[];return i.forEach(c=>{t.has(c)||o.push(c)}),this.documentOverlayCache.getOverlays(e,o).next(c=>{c.forEach((h,d)=>{t.set(h,d)})})}computeViews(e,t,i,o){let c=_i();const h=Nc(),d=function(){return Nc()}();return t.forEach((g,p)=>{const v=i.get(p.key);o.has(p.key)&&(v===void 0||v.mutation instanceof As)?c=c.insert(p.key,p):v!==void 0?(h.set(p.key,v.mutation.getFieldMask()),Cc(v.mutation,p,v.mutation.getFieldMask(),Qe.now())):h.set(p.key,Mn.empty())}),this.recalculateAndSaveOverlays(e,c).next(g=>(g.forEach((p,v)=>h.set(p,v)),t.forEach((p,v)=>d.set(p,new kD(v,h.get(p)??null))),d))}recalculateAndSaveOverlays(e,t){const i=Nc();let o=new dt((h,d)=>h-d),c=je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const d of h)d.keys().forEach(g=>{const p=t.get(g);if(p===null)return;let v=i.get(g)||Mn.empty();v=d.applyToLocalView(p,v),i.set(g,v);const w=(o.get(d.batchId)||je()).add(g);o=o.insert(d.batchId,w)})}).next(()=>{const h=[],d=o.getReverseIterator();for(;d.hasNext();){const g=d.getNext(),p=g.key,v=g.value,w=Yw();v.forEach(T=>{if(!c.has(T)){const D=Zw(t.get(T),i.get(T));D!==null&&w.set(T,D),c=c.add(T)}}),h.push(this.documentOverlayCache.saveOverlays(e,p,w))}return ne.waitFor(h)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,o){return function(h){return _e.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Bw(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next(c=>{const h=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-c.size):ne.resolve(ga());let d=Pc,g=c;return h.next(p=>ne.forEach(p,(v,w)=>(d<w.largestBatchId&&(d=w.largestBatchId),c.get(v)?ne.resolve():this.remoteDocumentCache.getEntry(e,v).next(T=>{g=g.insert(v,T)}))).next(()=>this.populateOverlays(e,p,c)).next(()=>this.computeViews(e,g,p,je())).next(v=>({batchId:d,changes:Gw(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new _e(t)).next(i=>{let o=Tc();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const c=t.collectionGroup;let h=Tc();return this.indexManager.getCollectionParents(e,c).next(d=>ne.forEach(d,g=>{const p=function(w,T){return new tl(T,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(t,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,p,i,o).next(v=>{v.forEach((w,T)=>{h=h.insert(w,T)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,i,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(h=>(c=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,c,o))).next(h=>{c.forEach((g,p)=>{const v=p.getKey();h.get(v)===null&&(h=h.insert(v,ln.newInvalidDocument(v)))});let d=Tc();return h.forEach((g,p)=>{const v=c.get(g);v!==void 0&&Cc(v.mutation,p,Mn.empty(),Qe.now()),Gf(t,p)&&(d=d.insert(g,p))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return ne.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Cr(o.createTime)}}(t)),ne.resolve()}getNamedQuery(e,t){return ne.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(o){return{name:o.name,query:AD(o.bundledQuery),readTime:Cr(o.readTime)}}(t)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(){this.overlays=new dt(_e.comparator),this.qr=new Map}getOverlay(e,t){return ne.resolve(this.overlays.get(t))}getOverlays(e,t){const i=ga();return ne.forEach(t,o=>this.getOverlay(e,o).next(c=>{c!==null&&i.set(o,c)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((o,c)=>{this.St(e,t,c)}),ne.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.qr.get(i);return o!==void 0&&(o.forEach(c=>this.overlays=this.overlays.remove(c)),this.qr.delete(i)),ne.resolve()}getOverlaysForCollection(e,t,i){const o=ga(),c=t.length+1,h=new _e(t.child("")),d=this.overlays.getIteratorFrom(h);for(;d.hasNext();){const g=d.getNext().value,p=g.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===c&&g.largestBatchId>i&&o.set(g.getKey(),g)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let c=new dt((p,v)=>p-v);const h=this.overlays.getIterator();for(;h.hasNext();){const p=h.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>i){let v=c.get(p.largestBatchId);v===null&&(v=ga(),c=c.insert(p.largestBatchId,v)),v.set(p.getKey(),p)}}const d=ga(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((p,v)=>d.set(p,v)),!(d.size()>=o)););return ne.resolve(d)}St(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(i.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(i.key,new tD(t,i));let c=this.qr.get(t);c===void 0&&(c=je(),this.qr.set(t,c)),this.qr.set(t,c.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(){this.sessionToken=tn.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(){this.Qr=new jt(Gt.$r),this.Ur=new jt(Gt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const i=new Gt(e,t);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.Gr(new Gt(e,t))}zr(e,t){e.forEach(i=>this.removeReference(i,t))}jr(e){const t=new _e(new ct([])),i=new Gt(t,e),o=new Gt(t,e+1),c=[];return this.Ur.forEachInRange([i,o],h=>{this.Gr(h),c.push(h.key)}),c}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new _e(new ct([])),i=new Gt(t,e),o=new Gt(t,e+1);let c=je();return this.Ur.forEachInRange([i,o],h=>{c=c.add(h.key)}),c}containsKey(e){const t=new Gt(e,0),i=this.Qr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Gt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return _e.comparator(e.key,t.key)||Ue(e.Yr,t.Yr)}static Kr(e,t){return Ue(e.Yr,t.Yr)||_e.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new jt(Gt.$r)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new eD(c,t,i,o);this.mutationQueue.push(h);for(const d of o)this.Zr=this.Zr.add(new Gt(d.key,c)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ne.resolve(h)}lookupMutationBatch(e,t){return ne.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.ei(i),c=o<0?0:o;return ne.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?Fp:this.tr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Gt(t,0),o=new Gt(t,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([i,o],h=>{const d=this.Xr(h.Yr);c.push(d)}),ne.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new jt(Ue);return t.forEach(o=>{const c=new Gt(o,0),h=new Gt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,h],d=>{i=i.add(d.Yr)})}),ne.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let c=i;_e.isDocumentKey(c)||(c=c.child(""));const h=new Gt(new _e(c),0);let d=new jt(Ue);return this.Zr.forEachWhile(g=>{const p=g.key.path;return!!i.isPrefixOf(p)&&(p.length===o&&(d=d.add(g.Yr)),!0)},h),ne.resolve(this.ti(d))}ti(e){const t=[];return e.forEach(i=>{const o=this.Xr(i);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){Xe(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return ne.forEach(t.mutations,o=>{const c=new Gt(o.key,t.batchId);return i=i.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Zr=i})}ir(e){}containsKey(e,t){const i=new Gt(t,0),o=this.Zr.firstAfterOrEqual(i);return ne.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(e){this.ri=e,this.docs=function(){return new dt(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),c=o?o.size:0,h=this.ri(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:h}),this.size+=h-c,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return ne.resolve(i?i.document.mutableCopy():ln.newInvalidDocument(t))}getEntries(e,t){let i=_i();return t.forEach(o=>{const c=this.docs.get(o);i=i.insert(o,c?c.document.mutableCopy():ln.newInvalidDocument(o))}),ne.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let c=_i();const h=t.path,d=new _e(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(d);for(;g.hasNext();){const{key:p,value:{document:v}}=g.getNext();if(!h.isPrefixOf(p.path))break;p.path.length>h.length+1||g2(m2(v),i)<=0||(o.has(v.key)||Gf(t,v))&&(c=c.insert(v.key,v.mutableCopy()))}return ne.resolve(c)}getAllFromCollectionGroup(e,t,i,o){Se(9500)}ii(e,t){return ne.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new BD(this)}getSize(e){return ne.resolve(this.size)}}class BD extends MD{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(i)}),ne.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(e){this.persistence=e,this.si=new Oa(t=>Yp(t),Kp),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this.oi=0,this._i=new Jp,this.targetCount=0,this.ai=$o.ur()}forEachTarget(e,t){return this.si.forEach((i,o)=>t(o)),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.oi&&(this.oi=t),ne.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new $o(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,ne.resolve()}updateTargetData(e,t){return this.Pr(t),ne.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,t,i){let o=0;const c=[];return this.si.forEach((h,d)=>{d.sequenceNumber<=t&&i.get(d.targetId)===null&&(this.si.delete(h),c.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),ne.waitFor(c).next(()=>o)}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,t){const i=this.si.get(t)||null;return ne.resolve(i)}addMatchingKeys(e,t,i){return this._i.Wr(t,i),ne.resolve()}removeMatchingKeys(e,t,i){this._i.zr(t,i);const o=this.persistence.referenceDelegate,c=[];return o&&t.forEach(h=>{c.push(o.markPotentiallyOrphaned(e,h))}),ne.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),ne.resolve()}getMatchingKeysForTargetId(e,t){const i=this._i.Hr(t);return ne.resolve(i)}containsKey(e,t){return ne.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(e,t){this.ui={},this.overlays={},this.ci=new zf(0),this.li=!1,this.li=!0,this.hi=new UD,this.referenceDelegate=e(this),this.Pi=new qD(this),this.indexManager=new xD,this.remoteDocumentCache=function(o){return new zD(o)}(i=>this.referenceDelegate.Ti(i)),this.serializer=new SD(t),this.Ii=new VD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new LD,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ui[e.toKey()];return i||(i=new jD(t,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,i){de("MemoryPersistence","Starting transaction:",e);const o=new FD(this.ci.next());return this.referenceDelegate.Ei(),i(o).next(c=>this.referenceDelegate.di(o).next(()=>c)).toPromise().then(c=>(o.raiseOnCommittedEvent(),c))}Ai(e,t){return ne.or(Object.values(this.ui).map(i=>()=>i.containsKey(e,t)))}}class FD extends y2{constructor(e){super(),this.currentSequenceNumber=e}}class ey{constructor(e){this.persistence=e,this.Ri=new Jp,this.Vi=null}static mi(e){return new ey(e)}get fi(){if(this.Vi)return this.Vi;throw Se(60996)}addReference(e,t,i){return this.Ri.addReference(i,t),this.fi.delete(i.toString()),ne.resolve()}removeReference(e,t,i){return this.Ri.removeReference(i,t),this.fi.add(i.toString()),ne.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),ne.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(o=>this.fi.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(c=>this.fi.add(c.toString()))}).next(()=>i.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.fi,i=>{const o=_e.fromPath(i);return this.gi(e,o).next(c=>{c||t.removeEntry(o,xe.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(i=>{i?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return ne.or([()=>ne.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Tf{constructor(e,t){this.persistence=e,this.pi=new Oa(i=>E2(i.path),(i,o)=>i.isEqual(o)),this.garbageCollector=OD(this,t)}static mi(e,t){return new Tf(e,t)}Ei(){}di(e){return ne.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(o=>i+o))}wr(e){let t=0;return this.pr(e,i=>{t++}).next(()=>t)}pr(e,t){return ne.forEach(this.pi,(i,o)=>this.br(e,i,o).next(c=>c?ne.resolve():t(o)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,h=>this.br(e,h,t).next(d=>{d||(i++,c.removeEntry(h,xe.min()))})).next(()=>c.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),ne.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),ne.resolve()}removeReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),ne.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Wh(e.data.value)),t}br(e,t,i){return ne.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return ne.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.Es=i,this.ds=o}static As(e,t){let i=je(),o=je();for(const c of t.docChanges)switch(c.type){case 0:i=i.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new ty(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return bR()?8:v2(cn())>0?6:4}()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,i,o){const c={result:null};return this.ys(e,t).next(h=>{c.result=h}).next(()=>{if(!c.result)return this.ws(e,t,o,i).next(h=>{c.result=h})}).next(()=>{if(c.result)return;const h=new HD;return this.Ss(e,t,h).next(d=>{if(c.result=d,this.Vs)return this.bs(e,t,h,d.size)})}).next(()=>c.result)}bs(e,t,i,o){return i.documentReadCount<this.fs?(Oo()<=Le.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",Mo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ne.resolve()):(Oo()<=Le.DEBUG&&de("QueryEngine","Query:",Mo(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.gs*o?(Oo()<=Le.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",Mo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Nr(t))):ne.resolve())}ys(e,t){if(ZE(t))return ne.resolve(null);let i=Nr(t);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=op(t,null,"F"),i=Nr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(c=>{const h=je(...c);return this.ps.getDocuments(e,h).next(d=>this.indexManager.getMinOffset(e,i).next(g=>{const p=this.Ds(t,d);return this.Cs(t,p,h,g.readTime)?this.ys(e,op(t,null,"F")):this.vs(e,p,t,g)}))})))}ws(e,t,i,o){return ZE(t)||o.isEqual(xe.min())?ne.resolve(null):this.ps.getDocuments(e,i).next(c=>{const h=this.Ds(t,c);return this.Cs(t,h,i,o)?ne.resolve(null):(Oo()<=Le.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Mo(t)),this.vs(e,h,t,d2(o,Pc)).next(d=>d))})}Ds(e,t){let i=new jt(Fw(e));return t.forEach((o,c)=>{Gf(e,c)&&(i=i.add(c))}),i}Cs(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const c=e.limitType==="F"?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,t,i){return Oo()<=Le.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",Mo(t)),this.ps.getDocumentsMatchingQuery(e,t,gs.min(),i)}vs(e,t,i,o){return this.ps.getDocumentsMatchingQuery(e,i,o).next(c=>(t.forEach(h=>{c=c.insert(h.key,h)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ny="LocalStore",YD=3e8;class KD{constructor(e,t,i,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new dt(Ue),this.xs=new Oa(c=>Yp(c),Kp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new PD(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function QD(r,e,t,i){return new KD(r,e,t,i)}async function f1(r,e){const t=Re(r);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next(c=>(o=c,t.Bs(e),t.mutationQueue.getAllMutationBatches(i))).next(c=>{const h=[],d=[];let g=je();for(const p of o){h.push(p.batchId);for(const v of p.mutations)g=g.add(v.key)}for(const p of c){d.push(p.batchId);for(const v of p.mutations)g=g.add(v.key)}return t.localDocuments.getDocuments(i,g).next(p=>({Ls:p,removedBatchIds:h,addedBatchIds:d}))})})}function $D(r,e){const t=Re(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=e.batch.keys(),c=t.Ns.newChangeBuffer({trackRemovals:!0});return function(d,g,p,v){const w=p.batch,T=w.keys();let D=ne.resolve();return T.forEach(P=>{D=D.next(()=>v.getEntry(g,P)).next(R=>{const I=p.docVersions.get(P);Xe(I!==null,48541),R.version.compareTo(I)<0&&(w.applyToRemoteDocument(R,p),R.isValidDocument()&&(R.setReadTime(p.commitVersion),v.addEntry(R)))})}),D.next(()=>d.mutationQueue.removeMutationBatch(g,w))}(t,i,e,c).next(()=>c.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(d){let g=je();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(g=g.add(d.batch.mutations[p].key));return g}(e))).next(()=>t.localDocuments.getDocuments(i,o))})}function d1(r){const e=Re(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Pi.getLastRemoteSnapshotVersion(t))}function XD(r,e){const t=Re(r),i=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const h=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const d=[];e.targetChanges.forEach((v,w)=>{const T=o.get(w);if(!T)return;d.push(t.Pi.removeMatchingKeys(c,v.removedDocuments,w).next(()=>t.Pi.addMatchingKeys(c,v.addedDocuments,w)));let D=T.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(w)!==null?D=D.withResumeToken(tn.EMPTY_BYTE_STRING,xe.min()).withLastLimboFreeSnapshotVersion(xe.min()):v.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(v.resumeToken,i)),o=o.insert(w,D),function(R,I,G){return R.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=YD?!0:G.addedDocuments.size+G.modifiedDocuments.size+G.removedDocuments.size>0}(T,D,v)&&d.push(t.Pi.updateTargetData(c,D))});let g=_i(),p=je();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(c,v))}),d.push(WD(c,h,e.documentUpdates).next(v=>{g=v.ks,p=v.qs})),!i.isEqual(xe.min())){const v=t.Pi.getLastRemoteSnapshotVersion(c).next(w=>t.Pi.setTargetsMetadata(c,c.currentSequenceNumber,i));d.push(v)}return ne.waitFor(d).next(()=>h.apply(c)).next(()=>t.localDocuments.getLocalViewOfDocuments(c,g,p)).next(()=>g)}).then(c=>(t.Ms=o,c))}function WD(r,e,t){let i=je(),o=je();return t.forEach(c=>i=i.add(c)),e.getEntries(r,i).next(c=>{let h=_i();return t.forEach((d,g)=>{const p=c.get(d);g.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(d)),g.isNoDocument()&&g.version.isEqual(xe.min())?(e.removeEntry(d,g.readTime),h=h.insert(d,g)):!p.isValidDocument()||g.version.compareTo(p.version)>0||g.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(g),h=h.insert(d,g)):de(ny,"Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",g.version)}),{ks:h,qs:o}})}function ZD(r,e){const t=Re(r);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=Fp),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function JD(r,e){const t=Re(r);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return t.Pi.getTargetData(i,e).next(c=>c?(o=c,ne.resolve(o)):t.Pi.allocateTargetId(i).next(h=>(o=new ss(e,h,"TargetPurposeListen",i.currentSequenceNumber),t.Pi.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=t.Ms.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(i.targetId,i),t.xs.set(e,i.targetId)),i})}async function fp(r,e,t){const i=Re(r),o=i.Ms.get(e),c=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",c,h=>i.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!el(h))throw h;de(ny,`Failed to update sequence numbers for target ${e}: ${h}`)}i.Ms=i.Ms.remove(e),i.xs.delete(o.target)}function hb(r,e,t){const i=Re(r);let o=xe.min(),c=je();return i.persistence.runTransaction("Execute query","readwrite",h=>function(g,p,v){const w=Re(g),T=w.xs.get(v);return T!==void 0?ne.resolve(w.Ms.get(T)):w.Pi.getTargetData(p,v)}(i,h,Nr(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(h,d.targetId).next(g=>{c=g})}).next(()=>i.Fs.getDocumentsMatchingQuery(h,e,t?o:xe.min(),t?c:je())).next(d=>(eO(i,j2(e),d),{documents:d,Qs:c})))}function eO(r,e,t){let i=r.Os.get(e)||xe.min();t.forEach((o,c)=>{c.readTime.compareTo(i)>0&&(i=c.readTime)}),r.Os.set(e,i)}class fb{constructor(){this.activeTargetIds=G2()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class tO{constructor(){this.Mo=new fb,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,i){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new fb,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db="ConnectivityMonitor";class mb{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){de(db,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){de(db,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vh=null;function dp(){return Vh===null?Vh=function(){return 268435456+Math.round(2147483648*Math.random())}():Vh++,"0x"+Vh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ag="RestConnection",rO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class iO{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${i}/databases/${o}`,this.Wo=this.databaseId.database===pf?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Go(e,t,i,o,c){const h=dp(),d=this.zo(e,t.toUriEncodedString());de(Ag,`Sending RPC '${e}' ${h}:`,d,i);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,c);const{host:p}=new URL(d),v=Ca(p);return this.Jo(e,d,g,i,v).then(w=>(de(Ag,`Received RPC '${e}' ${h}: `,w),w),w=>{throw Go(Ag,`RPC '${e}' ${h} failed with error: `,w,"url: ",d,"request:",i),w})}Ho(e,t,i,o,c,h){return this.Go(e,t,i,o,c)}jo(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Zo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,c)=>e[c]=o),i&&i.headers.forEach((o,c)=>e[c]=o)}zo(e,t){const i=rO[e];return`${this.Uo}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const an="WebChannelConnection";class aO extends iO{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,i,o,c){const h=dp();return new Promise((d,g)=>{const p=new pw;p.setWithCredentials(!0),p.listenOnce(yw.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Xh.NO_ERROR:const w=p.getResponseJson();de(an,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(w)),d(w);break;case Xh.TIMEOUT:de(an,`RPC '${e}' ${h} timed out`),g(new he(J.DEADLINE_EXCEEDED,"Request time out"));break;case Xh.HTTP_ERROR:const T=p.getStatus();if(de(an,`RPC '${e}' ${h} failed with status:`,T,"response text:",p.getResponseText()),T>0){let D=p.getResponseJson();Array.isArray(D)&&(D=D[0]);const P=D==null?void 0:D.error;if(P&&P.status&&P.message){const R=function(G){const ee=G.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(ee)>=0?ee:J.UNKNOWN}(P.status);g(new he(R,P.message))}else g(new he(J.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new he(J.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{l_:e,streamId:h,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{de(an,`RPC '${e}' ${h} completed.`)}});const v=JSON.stringify(o);de(an,`RPC '${e}' ${h} sending request:`,o),p.send(t,"POST",v,i,15)})}T_(e,t,i){const o=dp(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=Ew(),d=_w(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(g.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,t,i),g.encodeInitMessageHeaders=!0;const v=c.join("");de(an,`Creating RPC '${e}' stream ${o}: ${v}`,g);const w=h.createWebChannel(v,g);this.I_(w);let T=!1,D=!1;const P=new sO({Yo:I=>{D?de(an,`Not sending because RPC '${e}' stream ${o} is closed:`,I):(T||(de(an,`Opening RPC '${e}' stream ${o} transport.`),w.open(),T=!0),de(an,`RPC '${e}' stream ${o} sending:`,I),w.send(I))},Zo:()=>w.close()}),R=(I,G,ee)=>{I.listen(G,X=>{try{ee(X)}catch(re){setTimeout(()=>{throw re},0)}})};return R(w,bc.EventType.OPEN,()=>{D||(de(an,`RPC '${e}' stream ${o} transport opened.`),P.o_())}),R(w,bc.EventType.CLOSE,()=>{D||(D=!0,de(an,`RPC '${e}' stream ${o} transport closed`),P.a_(),this.E_(w))}),R(w,bc.EventType.ERROR,I=>{D||(D=!0,Go(an,`RPC '${e}' stream ${o} transport errored. Name:`,I.name,"Message:",I.message),P.a_(new he(J.UNAVAILABLE,"The operation could not be completed")))}),R(w,bc.EventType.MESSAGE,I=>{var G;if(!D){const ee=I.data[0];Xe(!!ee,16349);const X=ee,re=(X==null?void 0:X.error)||((G=X[0])==null?void 0:G.error);if(re){de(an,`RPC '${e}' stream ${o} received error:`,re);const oe=re.status;let fe=function(C){const k=It[C];if(k!==void 0)return e1(k)}(oe),M=re.message;fe===void 0&&(fe=J.INTERNAL,M="Unknown error status: "+oe+" with message "+re.message),D=!0,P.a_(new he(fe,M)),w.close()}else de(an,`RPC '${e}' stream ${o} received:`,ee),P.u_(ee)}}),R(d,vw.STAT_EVENT,I=>{I.stat===ep.PROXY?de(an,`RPC '${e}' stream ${o} detected buffering proxy`):I.stat===ep.NOPROXY&&de(an,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{P.__()},0),P}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function xg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $f(r){return new uD(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(e,t,i=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=t,this.d_=i,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-i);o>0&&de("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gb="PersistentStream";class g1{constructor(e,t,i,o,c,h,d,g){this.Mi=e,this.S_=i,this.b_=o,this.connection=c,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=d,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new m1(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===J.RESOURCE_EXHAUSTED?(vi(t.toString()),vi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.D_===t&&this.G_(i,o)},i=>{e(()=>{const o=new he(J.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(o)})})}G_(e,t){const i=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{i(()=>this.listener.Xo())}),this.stream.t_(()=>{i(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{i(()=>this.z_(o))}),this.stream.onMessage(o=>{i(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return de(gb,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(de(gb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class oO extends g1{constructor(e,t,i,o,c,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,h),this.serializer=c}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=dD(this.serializer,e),i=function(c){if(!("targetChange"in c))return xe.min();const h=c.targetChange;return h.targetIds&&h.targetIds.length?xe.min():h.readTime?Cr(h.readTime):xe.min()}(e);return this.listener.H_(t,i)}Y_(e){const t={};t.database=hp(this.serializer),t.addTarget=function(c,h){let d;const g=h.target;if(d=sp(g)?{documents:pD(c,g)}:{query:yD(c,g).ft},d.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){d.resumeToken=r1(c,h.resumeToken);const p=lp(c,h.expectedCount);p!==null&&(d.expectedCount=p)}else if(h.snapshotVersion.compareTo(xe.min())>0){d.readTime=bf(c,h.snapshotVersion.toTimestamp());const p=lp(c,h.expectedCount);p!==null&&(d.expectedCount=p)}return d}(this.serializer,e);const i=_D(this.serializer,e);i&&(t.labels=i),this.q_(t)}Z_(e){const t={};t.database=hp(this.serializer),t.removeTarget=e,this.q_(t)}}class lO extends g1{constructor(e,t,i,o,c,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,h),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Xe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Xe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Xe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=gD(e.writeResults,e.commitTime),i=Cr(e.commitTime);return this.listener.na(i,t)}ra(){const e={};e.database=hp(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>mD(this.serializer,i))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{}class uO extends cO{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new he(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,h])=>this.connection.Go(e,cp(t,i),o,c,h)).catch(c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new he(J.UNKNOWN,c.toString())})}Ho(e,t,i,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.Ho(e,cp(t,i),o,h,d,c)).catch(h=>{throw h.name==="FirebaseError"?(h.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new he(J.UNKNOWN,h.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class hO{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(vi(t),this.aa=!1):de("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sa="RemoteStore";class fO{constructor(e,t,i,o,c){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo(h=>{i.enqueueAndForget(async()=>{Ma(this)&&(de(Sa,"Restarting streams for network reachability change."),await async function(g){const p=Re(g);p.Ea.add(4),await eu(p),p.Ra.set("Unknown"),p.Ea.delete(4),await Xf(p)}(this))})}),this.Ra=new hO(i,o)}}async function Xf(r){if(Ma(r))for(const e of r.da)await e(!0)}async function eu(r){for(const e of r.da)await e(!1)}function p1(r,e){const t=Re(r);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),ay(t)?sy(t):nl(t).O_()&&iy(t,e))}function ry(r,e){const t=Re(r),i=nl(t);t.Ia.delete(e),i.O_()&&y1(t,e),t.Ia.size===0&&(i.O_()?i.L_():Ma(t)&&t.Ra.set("Unknown"))}function iy(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xe.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}nl(r).Y_(e)}function y1(r,e){r.Va.Ue(e),nl(r).Z_(e)}function sy(r){r.Va=new aD({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),nl(r).start(),r.Ra.ua()}function ay(r){return Ma(r)&&!nl(r).x_()&&r.Ia.size>0}function Ma(r){return Re(r).Ea.size===0}function v1(r){r.Va=void 0}async function dO(r){r.Ra.set("Online")}async function mO(r){r.Ia.forEach((e,t)=>{iy(r,e)})}async function gO(r,e){v1(r),ay(r)?(r.Ra.ha(e),sy(r)):r.Ra.set("Unknown")}async function pO(r,e,t){if(r.Ra.set("Online"),e instanceof n1&&e.state===2&&e.cause)try{await async function(o,c){const h=c.cause;for(const d of c.targetIds)o.Ia.has(d)&&(await o.remoteSyncer.rejectListen(d,h),o.Ia.delete(d),o.Va.removeTarget(d))}(r,e)}catch(i){de(Sa,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await wf(r,i)}else if(e instanceof ef?r.Va.Ze(e):e instanceof t1?r.Va.st(e):r.Va.tt(e),!t.isEqual(xe.min()))try{const i=await d1(r.localStore);t.compareTo(i)>=0&&await function(c,h){const d=c.Va.Tt(h);return d.targetChanges.forEach((g,p)=>{if(g.resumeToken.approximateByteSize()>0){const v=c.Ia.get(p);v&&c.Ia.set(p,v.withResumeToken(g.resumeToken,h))}}),d.targetMismatches.forEach((g,p)=>{const v=c.Ia.get(g);if(!v)return;c.Ia.set(g,v.withResumeToken(tn.EMPTY_BYTE_STRING,v.snapshotVersion)),y1(c,g);const w=new ss(v.target,g,p,v.sequenceNumber);iy(c,w)}),c.remoteSyncer.applyRemoteEvent(d)}(r,t)}catch(i){de(Sa,"Failed to raise snapshot:",i),await wf(r,i)}}async function wf(r,e,t){if(!el(e))throw e;r.Ea.add(1),await eu(r),r.Ra.set("Offline"),t||(t=()=>d1(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{de(Sa,"Retrying IndexedDB access"),await t(),r.Ea.delete(1),await Xf(r)})}function _1(r,e){return e().catch(t=>wf(r,t,e))}async function Wf(r){const e=Re(r),t=_s(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Fp;for(;yO(e);)try{const o=await ZD(e.localStore,i);if(o===null){e.Ta.length===0&&t.L_();break}i=o.batchId,vO(e,o)}catch(o){await wf(e,o)}E1(e)&&b1(e)}function yO(r){return Ma(r)&&r.Ta.length<10}function vO(r,e){r.Ta.push(e);const t=_s(r);t.O_()&&t.X_&&t.ea(e.mutations)}function E1(r){return Ma(r)&&!_s(r).x_()&&r.Ta.length>0}function b1(r){_s(r).start()}async function _O(r){_s(r).ra()}async function EO(r){const e=_s(r);for(const t of r.Ta)e.ea(t.mutations)}async function bO(r,e,t){const i=r.Ta.shift(),o=Xp.from(i,e,t);await _1(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Wf(r)}async function TO(r,e){e&&_s(r).X_&&await async function(i,o){if(function(h){return rD(h)&&h!==J.ABORTED}(o.code)){const c=i.Ta.shift();_s(i).B_(),await _1(i,()=>i.remoteSyncer.rejectFailedWrite(c.batchId,o)),await Wf(i)}}(r,e),E1(r)&&b1(r)}async function pb(r,e){const t=Re(r);t.asyncQueue.verifyOperationInProgress(),de(Sa,"RemoteStore received new credentials");const i=Ma(t);t.Ea.add(3),await eu(t),i&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Xf(t)}async function wO(r,e){const t=Re(r);e?(t.Ea.delete(2),await Xf(t)):e||(t.Ea.add(2),await eu(t),t.Ra.set("Unknown"))}function nl(r){return r.ma||(r.ma=function(t,i,o){const c=Re(t);return c.sa(),new oO(i,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(r.datastore,r.asyncQueue,{Xo:dO.bind(null,r),t_:mO.bind(null,r),r_:gO.bind(null,r),H_:pO.bind(null,r)}),r.da.push(async e=>{e?(r.ma.B_(),ay(r)?sy(r):r.Ra.set("Unknown")):(await r.ma.stop(),v1(r))})),r.ma}function _s(r){return r.fa||(r.fa=function(t,i,o){const c=Re(t);return c.sa(),new lO(i,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:_O.bind(null,r),r_:TO.bind(null,r),ta:EO.bind(null,r),na:bO.bind(null,r)}),r.da.push(async e=>{e?(r.fa.B_(),await Wf(r)):(await r.fa.stop(),r.Ta.length>0&&(de(Sa,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))})),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(e,t,i,o,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=c,this.deferred=new mi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,c){const h=Date.now()+i,d=new oy(e,t,h,o,c);return d.start(i),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ly(r,e){if(vi("AsyncQueue",`${e}: ${r}`),el(r))return new he(J.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{static emptySet(e){return new Bo(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||_e.comparator(t.key,i.key):(t,i)=>_e.comparator(t.key,i.key),this.keyedMap=Tc(),this.sortedSet=new dt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Bo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,c=i.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Bo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{constructor(){this.ga=new dt(_e.comparator)}track(e){const t=e.doc.key,i=this.ga.get(t);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(t,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(t):e.type===1&&i.type===2?this.ga=this.ga.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Se(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,i)=>{e.push(i)}),e}}class Xo{constructor(e,t,i,o,c,h,d,g,p){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=c,this.fromCache=h,this.syncStateChanged=d,this.excludesMetadataChanges=g,this.hasCachedResults=p}static fromInitialDocuments(e,t,i,o,c){const h=[];return t.forEach(d=>{h.push({type:0,doc:d})}),new Xo(e,t,Bo.emptySet(t),h,i,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class AO{constructor(){this.queries=vb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const o=Re(t),c=o.queries;o.queries=vb(),c.forEach((h,d)=>{for(const g of d.Sa)g.onError(i)})})(this,new he(J.ABORTED,"Firestore shutting down"))}}function vb(){return new Oa(r=>qw(r),Hf)}async function cy(r,e){const t=Re(r);let i=3;const o=e.query;let c=t.queries.get(o);c?!c.ba()&&e.Da()&&(i=2):(c=new SO,i=e.Da()?0:1);try{switch(i){case 0:c.wa=await t.onListen(o,!0);break;case 1:c.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const d=ly(h,`Initialization of query '${Mo(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,c),c.Sa.push(e),e.va(t.onlineState),c.wa&&e.Fa(c.wa)&&hy(t)}async function uy(r,e){const t=Re(r),i=e.query;let o=3;const c=t.queries.get(i);if(c){const h=c.Sa.indexOf(e);h>=0&&(c.Sa.splice(h,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function xO(r,e){const t=Re(r);let i=!1;for(const o of e){const c=o.query,h=t.queries.get(c);if(h){for(const d of h.Sa)d.Fa(o)&&(i=!0);h.wa=o}}i&&hy(t)}function RO(r,e,t){const i=Re(r),o=i.queries.get(e);if(o)for(const c of o.Sa)c.onError(t);i.queries.delete(e)}function hy(r){r.Ca.forEach(e=>{e.next()})}var mp,_b;(_b=mp||(mp={})).Ma="default",_b.Cache="cache";class fy{constructor(e,t,i){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new Xo(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const i=t!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Xo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==mp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(e){this.key=e}}class w1{constructor(e){this.key=e}}class IO{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=je(),this.mutatedKeys=je(),this.eu=Fw(e),this.tu=new Bo(this.eu)}get nu(){return this.Ya}ru(e,t){const i=t?t.iu:new yb,o=t?t.tu:this.tu;let c=t?t.mutatedKeys:this.mutatedKeys,h=o,d=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((v,w)=>{const T=o.get(v),D=Gf(this.query,w)?w:null,P=!!T&&this.mutatedKeys.has(T.key),R=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let I=!1;T&&D?T.data.isEqual(D.data)?P!==R&&(i.track({type:3,doc:D}),I=!0):this.su(T,D)||(i.track({type:2,doc:D}),I=!0,(g&&this.eu(D,g)>0||p&&this.eu(D,p)<0)&&(d=!0)):!T&&D?(i.track({type:0,doc:D}),I=!0):T&&!D&&(i.track({type:1,doc:T}),I=!0,(g||p)&&(d=!0)),I&&(D?(h=h.add(D),c=R?c.add(v):c.delete(v)):(h=h.delete(v),c=c.delete(v)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const v=this.query.limitType==="F"?h.last():h.first();h=h.delete(v.key),c=c.delete(v.key),i.track({type:1,doc:v})}return{tu:h,iu:i,Cs:d,mutatedKeys:c}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort((v,w)=>function(D,P){const R=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Rt:I})}};return R(D)-R(P)}(v.type,w.type)||this.eu(v.doc,w.doc)),this.ou(i),o=o??!1;const d=t&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,p=g!==this.Za;return this.Za=g,h.length!==0||p?{snapshot:new Xo(this.query,e.tu,c,h,e.mutatedKeys,g===0,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new yb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(t=>this.Ya=this.Ya.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ya=this.Ya.delete(t)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=je(),this.tu.forEach(i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))});const t=[];return e.forEach(i=>{this.Xa.has(i)||t.push(new w1(i))}),this.Xa.forEach(i=>{e.has(i)||t.push(new T1(i))}),t}cu(e){this.Ya=e.Qs,this.Xa=je();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Xo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const dy="SyncEngine";class NO{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class CO{constructor(e){this.key=e,this.hu=!1}}class DO{constructor(e,t,i,o,c,h){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new Oa(d=>qw(d),Hf),this.Iu=new Map,this.Eu=new Set,this.du=new dt(_e.comparator),this.Au=new Map,this.Ru=new Jp,this.Vu={},this.mu=new Map,this.fu=$o.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function OO(r,e,t=!0){const i=N1(r);let o;const c=i.Tu.get(e);return c?(i.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await S1(i,e,t,!0),o}async function MO(r,e){const t=N1(r);await S1(t,e,!0,!1)}async function S1(r,e,t,i){const o=await JD(r.localStore,Nr(e)),c=o.targetId,h=r.sharedClientState.addLocalQueryTarget(c,t);let d;return i&&(d=await kO(r,e,c,h==="current",o.resumeToken)),r.isPrimaryClient&&t&&p1(r.remoteStore,o),d}async function kO(r,e,t,i,o){r.pu=(w,T,D)=>async function(R,I,G,ee){let X=I.view.ru(G);X.Cs&&(X=await hb(R.localStore,I.query,!1).then(({documents:M})=>I.view.ru(M,X)));const re=ee&&ee.targetChanges.get(I.targetId),oe=ee&&ee.targetMismatches.get(I.targetId)!=null,fe=I.view.applyChanges(X,R.isPrimaryClient,re,oe);return bb(R,I.targetId,fe.au),fe.snapshot}(r,w,T,D);const c=await hb(r.localStore,e,!0),h=new IO(e,c.Qs),d=h.ru(c.documents),g=Jc.createSynthesizedTargetChangeForCurrentChange(t,i&&r.onlineState!=="Offline",o),p=h.applyChanges(d,r.isPrimaryClient,g);bb(r,t,p.au);const v=new NO(e,t,h);return r.Tu.set(e,v),r.Iu.has(t)?r.Iu.get(t).push(e):r.Iu.set(t,[e]),p.snapshot}async function PO(r,e,t){const i=Re(r),o=i.Tu.get(e),c=i.Iu.get(o.targetId);if(c.length>1)return i.Iu.set(o.targetId,c.filter(h=>!Hf(h,e))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await fp(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),t&&ry(i.remoteStore,o.targetId),gp(i,o.targetId)}).catch(Jo)):(gp(i,o.targetId),await fp(i.localStore,o.targetId,!0))}async function VO(r,e){const t=Re(r),i=t.Tu.get(e),o=t.Iu.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),ry(t.remoteStore,i.targetId))}async function LO(r,e,t){const i=HO(r);try{const o=await function(h,d){const g=Re(h),p=Qe.now(),v=d.reduce((D,P)=>D.add(P.key),je());let w,T;return g.persistence.runTransaction("Locally write mutations","readwrite",D=>{let P=_i(),R=je();return g.Ns.getEntries(D,v).next(I=>{P=I,P.forEach((G,ee)=>{ee.isValidDocument()||(R=R.add(G))})}).next(()=>g.localDocuments.getOverlayedDocuments(D,P)).next(I=>{w=I;const G=[];for(const ee of d){const X=Z2(ee,w.get(ee.key).overlayedDocument);X!=null&&G.push(new As(ee.key,X,kw(X.value.mapValue),Xn.exists(!0)))}return g.mutationQueue.addMutationBatch(D,p,G,d)}).next(I=>{T=I;const G=I.applyToLocalDocumentSet(w,R);return g.documentOverlayCache.saveOverlays(D,I.batchId,G)})}).then(()=>({batchId:T.batchId,changes:Gw(w)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),function(h,d,g){let p=h.Vu[h.currentUser.toKey()];p||(p=new dt(Ue)),p=p.insert(d,g),h.Vu[h.currentUser.toKey()]=p}(i,o.batchId,t),await tu(i,o.changes),await Wf(i.remoteStore)}catch(o){const c=ly(o,"Failed to persist write");t.reject(c)}}async function A1(r,e){const t=Re(r);try{const i=await XD(t.localStore,e);e.targetChanges.forEach((o,c)=>{const h=t.Au.get(c);h&&(Xe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?Xe(h.hu,14607):o.removedDocuments.size>0&&(Xe(h.hu,42227),h.hu=!1))}),await tu(t,i,e)}catch(i){await Jo(i)}}function Eb(r,e,t){const i=Re(r);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.Tu.forEach((c,h)=>{const d=h.view.va(e);d.snapshot&&o.push(d.snapshot)}),function(h,d){const g=Re(h);g.onlineState=d;let p=!1;g.queries.forEach((v,w)=>{for(const T of w.Sa)T.va(d)&&(p=!0)}),p&&hy(g)}(i.eventManager,e),o.length&&i.Pu.H_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function UO(r,e,t){const i=Re(r);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Au.get(e),c=o&&o.key;if(c){let h=new dt(_e.comparator);h=h.insert(c,ln.newNoDocument(c,xe.min()));const d=je().add(c),g=new Qf(xe.min(),new Map,new dt(Ue),h,d);await A1(i,g),i.du=i.du.remove(c),i.Au.delete(e),my(i)}else await fp(i.localStore,e,!1).then(()=>gp(i,e,t)).catch(Jo)}async function jO(r,e){const t=Re(r),i=e.batch.batchId;try{const o=await $D(t.localStore,e);R1(t,i,null),x1(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await tu(t,o)}catch(o){await Jo(o)}}async function zO(r,e,t){const i=Re(r);try{const o=await function(h,d){const g=Re(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let v;return g.mutationQueue.lookupMutationBatch(p,d).next(w=>(Xe(w!==null,37113),v=w.keys(),g.mutationQueue.removeMutationBatch(p,w))).next(()=>g.mutationQueue.performConsistencyCheck(p)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(p,v,d)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,v)).next(()=>g.localDocuments.getDocuments(p,v))})}(i.localStore,e);R1(i,e,t),x1(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await tu(i,o)}catch(o){await Jo(o)}}function x1(r,e){(r.mu.get(e)||[]).forEach(t=>{t.resolve()}),r.mu.delete(e)}function R1(r,e,t){const i=Re(r);let o=i.Vu[i.currentUser.toKey()];if(o){const c=o.get(e);c&&(t?c.reject(t):c.resolve(),o=o.remove(e)),i.Vu[i.currentUser.toKey()]=o}}function gp(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const i of r.Iu.get(e))r.Tu.delete(i),t&&r.Pu.yu(i,t);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach(i=>{r.Ru.containsKey(i)||I1(r,i)})}function I1(r,e){r.Eu.delete(e.path.canonicalString());const t=r.du.get(e);t!==null&&(ry(r.remoteStore,t),r.du=r.du.remove(e),r.Au.delete(t),my(r))}function bb(r,e,t){for(const i of t)i instanceof T1?(r.Ru.addReference(i.key,e),BO(r,i)):i instanceof w1?(de(dy,"Document no longer in limbo: "+i.key),r.Ru.removeReference(i.key,e),r.Ru.containsKey(i.key)||I1(r,i.key)):Se(19791,{wu:i})}function BO(r,e){const t=e.key,i=t.path.canonicalString();r.du.get(t)||r.Eu.has(i)||(de(dy,"New document in limbo: "+t),r.Eu.add(i),my(r))}function my(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const t=new _e(ct.fromString(e)),i=r.fu.next();r.Au.set(i,new CO(t)),r.du=r.du.insert(t,i),p1(r.remoteStore,new ss(Nr(Ff(t.path)),i,"TargetPurposeLimboResolution",zf.ce))}}async function tu(r,e,t){const i=Re(r),o=[],c=[],h=[];i.Tu.isEmpty()||(i.Tu.forEach((d,g)=>{h.push(i.pu(g,e,t).then(p=>{var v;if((p||t)&&i.isPrimaryClient){const w=p?!p.fromCache:(v=t==null?void 0:t.targetChanges.get(g.targetId))==null?void 0:v.current;i.sharedClientState.updateQueryState(g.targetId,w?"current":"not-current")}if(p){o.push(p);const w=ty.As(g.targetId,p);c.push(w)}}))}),await Promise.all(h),i.Pu.H_(o),await async function(g,p){const v=Re(g);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>ne.forEach(p,T=>ne.forEach(T.Es,D=>v.persistence.referenceDelegate.addReference(w,T.targetId,D)).next(()=>ne.forEach(T.ds,D=>v.persistence.referenceDelegate.removeReference(w,T.targetId,D)))))}catch(w){if(!el(w))throw w;de(ny,"Failed to update sequence numbers: "+w)}for(const w of p){const T=w.targetId;if(!w.fromCache){const D=v.Ms.get(T),P=D.snapshotVersion,R=D.withLastLimboFreeSnapshotVersion(P);v.Ms=v.Ms.insert(T,R)}}}(i.localStore,c))}async function qO(r,e){const t=Re(r);if(!t.currentUser.isEqual(e)){de(dy,"User change. New user:",e.toKey());const i=await f1(t.localStore,e);t.currentUser=e,function(c,h){c.mu.forEach(d=>{d.forEach(g=>{g.reject(new he(J.CANCELLED,h))})}),c.mu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await tu(t,i.Ls)}}function FO(r,e){const t=Re(r),i=t.Au.get(e);if(i&&i.hu)return je().add(i.key);{let o=je();const c=t.Iu.get(e);if(!c)return o;for(const h of c){const d=t.Tu.get(h);o=o.unionWith(d.view.nu)}return o}}function N1(r){const e=Re(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=A1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=FO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=UO.bind(null,e),e.Pu.H_=xO.bind(null,e.eventManager),e.Pu.yu=RO.bind(null,e.eventManager),e}function HO(r){const e=Re(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=jO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=zO.bind(null,e),e}class Sf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=$f(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return QD(this.persistence,new GD,e.initialUser,this.serializer)}Cu(e){return new h1(ey.mi,this.serializer)}Du(e){return new tO}async terminate(){var e,t;(e=this.gcScheduler)==null||e.stop(),(t=this.indexBackfillerScheduler)==null||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Sf.provider={build:()=>new Sf};class GO extends Sf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Xe(this.persistence.referenceDelegate instanceof Tf,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new CD(i,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?vn.withCacheSize(this.cacheSizeBytes):vn.DEFAULT;return new h1(i=>Tf.mi(i,t),this.serializer)}}class pp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Eb(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=qO.bind(null,this.syncEngine),await wO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new AO}()}createDatastore(e){const t=$f(e.databaseInfo.databaseId),i=function(c){return new aO(c)}(e.databaseInfo);return function(c,h,d,g){return new uO(c,h,d,g)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,o,c,h,d){return new fO(i,o,c,h,d)}(this.localStore,this.datastore,e.asyncQueue,t=>Eb(this.syncEngine,t,0),function(){return mb.v()?new mb:new nO}())}createSyncEngine(e,t){return function(o,c,h,d,g,p,v){const w=new DO(o,c,h,d,g,p);return v&&(w.gu=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const c=Re(o);de(Sa,"RemoteStore shutting down."),c.Ea.add(5),await eu(c),c.Aa.shutdown(),c.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(t=this.eventManager)==null||t.terminate()}}pp.provider={build:()=>new pp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):vi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Es="FirestoreClient";class YO{constructor(e,t,i,o,c){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=on.UNAUTHENTICATED,this.clientId=qp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(i,async h=>{de(Es,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(i,h=>(de(Es,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new mi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=ly(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Rg(r,e){r.asyncQueue.verifyOperationInProgress(),de(Es,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let i=t.initialUser;r.setCredentialChangeListener(async o=>{i.isEqual(o)||(await f1(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function Tb(r,e){r.asyncQueue.verifyOperationInProgress();const t=await KO(r);de(Es,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(i=>pb(e.remoteStore,i)),r.setAppCheckTokenChangeListener((i,o)=>pb(e.remoteStore,o)),r._onlineComponents=e}async function KO(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){de(Es,"Using user provided OfflineComponentProvider");try{await Rg(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;Go("Error using user provided cache. Falling back to memory cache: "+t),await Rg(r,new Sf)}}else de(Es,"Using default OfflineComponentProvider"),await Rg(r,new GO(void 0));return r._offlineComponents}async function C1(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(de(Es,"Using user provided OnlineComponentProvider"),await Tb(r,r._uninitializedComponentsProvider._online)):(de(Es,"Using default OnlineComponentProvider"),await Tb(r,new pp))),r._onlineComponents}function QO(r){return C1(r).then(e=>e.syncEngine)}async function Af(r){const e=await C1(r),t=e.eventManager;return t.onListen=OO.bind(null,e.syncEngine),t.onUnlisten=PO.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=MO.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=VO.bind(null,e.syncEngine),t}function $O(r,e,t={}){const i=new mi;return r.asyncQueue.enqueueAndForget(async()=>function(c,h,d,g,p){const v=new gy({next:T=>{v.Nu(),h.enqueueAndForget(()=>uy(c,w));const D=T.docs.has(d);!D&&T.fromCache?p.reject(new he(J.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&T.fromCache&&g&&g.source==="server"?p.reject(new he(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(T)},error:T=>p.reject(T)}),w=new fy(Ff(d.path),v,{includeMetadataChanges:!0,qa:!0});return cy(c,w)}(await Af(r),r.asyncQueue,e,t,i)),i.promise}function XO(r,e,t={}){const i=new mi;return r.asyncQueue.enqueueAndForget(async()=>function(c,h,d,g,p){const v=new gy({next:T=>{v.Nu(),h.enqueueAndForget(()=>uy(c,w)),T.fromCache&&g.source==="server"?p.reject(new he(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(T)},error:T=>p.reject(T)}),w=new fy(d,v,{includeMetadataChanges:!0,qa:!0});return cy(c,w)}(await Af(r),r.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D1(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wb=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O1="firestore.googleapis.com",Sb=!0;class Ab{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new he(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=O1,this.ssl=Sb}else this.host=e.host,this.ssl=e.ssl??Sb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=u1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<ID)throw new he(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}f2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=D1(e.experimentalLongPollingOptions??{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new he(J.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new he(J.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new he(J.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Zf{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ab({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ab(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new n2;switch(i.type){case"firstParty":return new a2(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new he(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=wb.get(t);i&&(de("ComponentProvider","Removing Datastore"),wb.delete(t),i.terminate())}(this),Promise.resolve()}}function WO(r,e,t,i={}){var p;r=bn(r,Zf);const o=Ca(e),c=r._getSettings(),h={...c,emulatorOptions:r._getEmulatorOptions()},d=`${e}:${t}`;o&&(xp(`https://${d}`),Rp("Firestore",!0)),c.host!==O1&&c.host!==d&&Go("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...c,host:d,ssl:o,emulatorOptions:i};if(!_a(g,h)&&(r._setSettings(g),i.mockUserToken)){let v,w;if(typeof i.mockUserToken=="string")v=i.mockUserToken,w=on.MOCK_USER;else{v=CT(i.mockUserToken,(p=r._app)==null?void 0:p.options.projectId);const T=i.mockUserToken.sub||i.mockUserToken.user_id;if(!T)throw new he(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new on(T)}r._authCredentials=new r2(new Tw(v,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new xs(this.firestore,e,this._query)}}class yt{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yt(this.firestore,e,this._key)}toJSON(){return{type:yt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(Wc(t,yt._jsonSchema))return new yt(e,i||null,new _e(ct.fromString(t.referencePath)))}}yt._jsonSchemaVersion="firestore/documentReference/1.0",yt._jsonSchema={type:Dt("string",yt._jsonSchemaVersion),referencePath:Dt("string")};class fs extends xs{constructor(e,t,i){super(e,t,Ff(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yt(this.firestore,null,new _e(e))}withConverter(e){return new fs(this.firestore,e,this._path)}}function ds(r,e,...t){if(r=wt(r),ww("collection","path",e),r instanceof Zf){const i=ct.fromString(e,...t);return UE(i),new fs(r,null,i)}{if(!(r instanceof yt||r instanceof fs))throw new he(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(ct.fromString(e,...t));return UE(i),new fs(r.firestore,null,i)}}function qo(r,e,...t){if(r=wt(r),arguments.length===1&&(e=qp.newId()),ww("doc","path",e),r instanceof Zf){const i=ct.fromString(e,...t);return LE(i),new yt(r,null,new _e(i))}{if(!(r instanceof yt||r instanceof fs))throw new he(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(ct.fromString(e,...t));return LE(i),new yt(r.firestore,r instanceof fs?r.converter:null,new _e(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xb="AsyncQueue";class Rb{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new m1(this,"async_queue_retry"),this._c=()=>{const i=xg();i&&de(xb,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const t=xg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=xg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new mi;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!el(e))throw e;de(xb,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(i=>{throw this.nc=i,this.rc=!1,vi("INTERNAL UNHANDLED ERROR: ",Ib(i)),i}).then(i=>(this.rc=!1,i))));return this.ac=t,t}enqueueAfterDelay(e,t,i){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=oy.createAndSchedule(this,e,t,i,c=>this.hc(c));return this.tc.push(o),o}uc(){this.nc&&Se(47125,{Pc:Ib(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Ib(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nb(r){return function(t,i){if(typeof t!="object"||t===null)return!1;const o=t;for(const c of i)if(c in o&&typeof o[c]=="function")return!0;return!1}(r,["next","error","complete"])}class Ei extends Zf{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new Rb,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Rb(e),this._firestoreClient=void 0,await e}}}function ZO(r,e){const t=typeof r=="object"?r:Cp(),i=typeof r=="string"?r:pf,o=Pf(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const c=RT("firestore");c&&WO(o,...c)}return o}function Jf(r){if(r._terminated)throw new he(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||JO(r),r._firestoreClient}function JO(r){var i,o,c;const e=r._freezeSettings(),t=function(d,g,p,v){return new w2(d,g,p,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,D1(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)}(r._databaseId,((i=r._app)==null?void 0:i.options.appId)||"",r._persistenceKey,e);r._componentsProvider||(o=e.localCache)!=null&&o._offlineComponentProvider&&((c=e.localCache)!=null&&c._onlineComponentProvider)&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new YO(r._authCredentials,r._appCheckCredentials,r._queue,t,r._componentsProvider&&function(d){const g=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(g),_online:g}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $n(tn.fromBase64String(e))}catch(t){throw new he(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new $n(tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:$n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Wc(e,$n._jsonSchema))return $n.fromBase64String(e.bytes)}}$n._jsonSchemaVersion="firestore/bytes/1.0",$n._jsonSchema={type:Dt("string",$n._jsonSchemaVersion),bytes:Dt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new he(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new he(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new he(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Dr._jsonSchemaVersion}}static fromJSON(e){if(Wc(e,Dr._jsonSchema))return new Dr(e.latitude,e.longitude)}}Dr._jsonSchemaVersion="firestore/geoPoint/1.0",Dr._jsonSchema={type:Dt("string",Dr._jsonSchemaVersion),latitude:Dt("number"),longitude:Dt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let c=0;c<i.length;++c)if(i[c]!==o[c])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Or._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Wc(e,Or._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new Or(e.vectorValues);throw new he(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Or._jsonSchemaVersion="firestore/vectorValue/1.0",Or._jsonSchema={type:Dt("string",Or._jsonSchemaVersion),vectorValues:Dt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eM=/^__.*__$/;class tM{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new As(e,this.data,this.fieldMask,t,this.fieldTransforms):new Zc(e,this.data,t,this.fieldTransforms)}}class M1{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new As(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function k1(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{Ac:r})}}class yy{constructor(e,t,i,o,c,h){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new yy({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var o;const t=(o=this.path)==null?void 0:o.child(e),i=this.Vc({path:t,fc:!1});return i.gc(e),i}yc(e){var o;const t=(o=this.path)==null?void 0:o.child(e),i=this.Vc({path:t,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return xf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(k1(this.Ac)&&eM.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class nM{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||$f(e)}Cc(e,t,i,o=!1){return new yy({Ac:e,methodName:t,Dc:i,path:Jt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function td(r){const e=r._freezeSettings(),t=$f(r._databaseId);return new nM(r._databaseId,!!e.ignoreUndefinedProperties,t)}function P1(r,e,t,i,o,c={}){const h=r.Cc(c.merge||c.mergeFields?2:0,e,t,o);vy("Data must be an object, but it was:",h,i);const d=V1(i,h);let g,p;if(c.merge)g=new Mn(h.fieldMask),p=h.fieldTransforms;else if(c.mergeFields){const v=[];for(const w of c.mergeFields){const T=yp(e,w,t);if(!h.contains(T))throw new he(J.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);U1(v,T)||v.push(T)}g=new Mn(v),p=h.fieldTransforms.filter(w=>g.covers(w.field))}else g=null,p=h.fieldTransforms;return new tM(new En(d),g,p)}class nd extends py{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof nd}}function rM(r,e,t,i){const o=r.Cc(1,e,t);vy("Data must be an object, but it was:",o,i);const c=[],h=En.empty();Ss(i,(g,p)=>{const v=_y(e,g,t);p=wt(p);const w=o.yc(v);if(p instanceof nd)c.push(v);else{const T=nu(p,w);T!=null&&(c.push(v),h.set(v,T))}});const d=new Mn(c);return new M1(h,d,o.fieldTransforms)}function iM(r,e,t,i,o,c){const h=r.Cc(1,e,t),d=[yp(e,i,t)],g=[o];if(c.length%2!=0)throw new he(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<c.length;T+=2)d.push(yp(e,c[T])),g.push(c[T+1]);const p=[],v=En.empty();for(let T=d.length-1;T>=0;--T)if(!U1(p,d[T])){const D=d[T];let P=g[T];P=wt(P);const R=h.yc(D);if(P instanceof nd)p.push(D);else{const I=nu(P,R);I!=null&&(p.push(D),v.set(D,I))}}const w=new Mn(p);return new M1(v,w,h.fieldTransforms)}function sM(r,e,t,i=!1){return nu(t,r.Cc(i?4:3,e))}function nu(r,e){if(L1(r=wt(r)))return vy("Unsupported field value:",e,r),V1(r,e);if(r instanceof py)return function(i,o){if(!k1(o.Ac))throw o.Sc(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${i._methodName}() is not currently supported inside arrays`);const c=i._toFieldTransform(o);c&&o.fieldTransforms.push(c)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(i,o){const c=[];let h=0;for(const d of i){let g=nu(d,o.wc(h));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),h++}return{arrayValue:{values:c}}}(r,e)}return function(i,o){if((i=wt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return Y2(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const c=Qe.fromDate(i);return{timestampValue:bf(o.serializer,c)}}if(i instanceof Qe){const c=new Qe(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:bf(o.serializer,c)}}if(i instanceof Dr)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof $n)return{bytesValue:r1(o.serializer,i._byteString)};if(i instanceof yt){const c=o.databaseId,h=i.firestore._databaseId;if(!h.isEqual(c))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Zp(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof Or)return function(h,d){return{mapValue:{fields:{[Ow]:{stringValue:Mw},[yf]:{arrayValue:{values:h.toArray().map(p=>{if(typeof p!="number")throw d.Sc("VectorValues must only contain numeric values.");return Qp(d.serializer,p)})}}}}}}(i,o);throw o.Sc(`Unsupported field value: ${jf(i)}`)}(r,e)}function V1(r,e){const t={};return xw(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ss(r,(i,o)=>{const c=nu(o,e.mc(i));c!=null&&(t[i]=c)}),{mapValue:{fields:t}}}function L1(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Qe||r instanceof Dr||r instanceof $n||r instanceof yt||r instanceof py||r instanceof Or)}function vy(r,e,t){if(!L1(t)||!Sw(t)){const i=jf(t);throw i==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+i)}}function yp(r,e,t){if((e=wt(e))instanceof ed)return e._internalPath;if(typeof e=="string")return _y(r,e);throw xf("Field path arguments must be of type string or ",r,!1,void 0,t)}const aM=new RegExp("[~\\*/\\[\\]]");function _y(r,e,t){if(e.search(aM)>=0)throw xf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new ed(...e.split("."))._internalPath}catch{throw xf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function xf(r,e,t,i,o){const c=i&&!i.isEmpty(),h=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let g="";return(c||h)&&(g+=" (found",c&&(g+=` in field ${i}`),h&&(g+=` in document ${o}`),g+=")"),new he(J.INVALID_ARGUMENT,d+r+g)}function U1(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(e,t,i,o,c){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new yt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new oM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(rd("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class oM extends j1{data(){return super.data()}}function rd(r,e){return typeof e=="string"?_y(r,e):e instanceof ed?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z1(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new he(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ey{}class B1 extends Ey{}function qc(r,e,...t){let i=[];e instanceof Ey&&i.push(e),i=i.concat(t),function(c){const h=c.filter(g=>g instanceof by).length,d=c.filter(g=>g instanceof id).length;if(h>1||h>0&&d>0)throw new he(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const o of i)r=o._apply(r);return r}class id extends B1{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new id(e,t,i)}_apply(e){const t=this._parse(e);return q1(e._query,t),new xs(e.firestore,e.converter,ap(e._query,t))}_parse(e){const t=td(e.firestore);return function(c,h,d,g,p,v,w){let T;if(p.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new he(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){Db(w,v);const P=[];for(const R of w)P.push(Cb(g,c,R));T={arrayValue:{values:P}}}else T=Cb(g,c,w)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||Db(w,v),T=sM(d,h,w,v==="in"||v==="not-in");return Ct.create(p,v,T)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function as(r,e,t){const i=e,o=rd("where",r);return id._create(o,i,t)}class by extends Ey{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new by(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:or.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,c){let h=o;const d=c.getFlattenedFilters();for(const g of d)q1(h,g),h=ap(h,g)}(e._query,t),new xs(e.firestore,e.converter,ap(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ty extends B1{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Ty(e,t)}_apply(e){const t=function(o,c,h){if(o.startAt!==null)throw new he(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new he(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new jc(c,h)}(e._query,this._field,this._direction);return new xs(e.firestore,e.converter,function(o,c){const h=o.explicitOrderBy.concat([c]);return new tl(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function Dc(r,e="asc"){const t=e,i=rd("orderBy",r);return Ty._create(i,t)}function Cb(r,e,t){if(typeof(t=wt(t))=="string"){if(t==="")throw new he(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Bw(e)&&t.indexOf("/")!==-1)throw new he(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(ct.fromString(t));if(!_e.isDocumentKey(i))throw new he(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return YE(r,new _e(i))}if(t instanceof yt)return YE(r,t._key);throw new he(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${jf(t)}.`)}function Db(r,e){if(!Array.isArray(r)||r.length===0)throw new he(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function q1(r,e){const t=function(o,c){for(const h of o)for(const d of h.getFlattenedFilters())if(c.indexOf(d.op)>=0)return d.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new he(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class lM{convertValue(e,t="none"){switch(vs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ys(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Ss(e,(o,c)=>{i[o]=this.convertValue(c,t)}),i}convertVectorValue(e){var i,o,c;const t=(c=(o=(i=e.fields)==null?void 0:i[yf].arrayValue)==null?void 0:o.values)==null?void 0:c.map(h=>Tt(h.doubleValue));return new Or(t)}convertGeoPoint(e){return new Dr(Tt(e.latitude),Tt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=qf(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Vc(e));default:return null}}convertTimestamp(e){const t=ps(e);return new Qe(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=ct.fromString(e);Xe(c1(i),9688,{name:e});const o=new Lc(i.get(1),i.get(3)),c=new _e(i.popFirst(5));return o.isEqual(t)||vi(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F1(r,e,t){let i;return i=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,i}class Sc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class pa extends j1{constructor(e,t,i,o,c,h){super(e,t,i,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new tf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(rd("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=pa._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}pa._jsonSchemaVersion="firestore/documentSnapshot/1.0",pa._jsonSchema={type:Dt("string",pa._jsonSchemaVersion),bundleSource:Dt("string","DocumentSnapshot"),bundleName:Dt("string"),bundle:Dt("string")};class tf extends pa{data(e={}){return super.data(e)}}class ya{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Sc(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new tf(this._firestore,this._userDataWriter,i.key,i,new Sc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new he(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,c){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(d=>{const g=new tf(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Sc(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>c||d.type!==3).map(d=>{const g=new tf(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Sc(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,v=-1;return d.type!==0&&(p=h.indexOf(d.doc.key),h=h.delete(d.doc.key)),d.type!==1&&(h=h.add(d.doc),v=h.indexOf(d.doc.key)),{type:cM(d.type),doc:g,oldIndex:p,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ya._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=qp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],o=[];return this.docs.forEach(c=>{c._document!==null&&(t.push(c._document),i.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function cM(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ob(r){r=bn(r,yt);const e=bn(r.firestore,Ei);return $O(Jf(e),r._key).then(t=>H1(e,r,t))}ya._jsonSchemaVersion="firestore/querySnapshot/1.0",ya._jsonSchema={type:Dt("string",ya._jsonSchemaVersion),bundleSource:Dt("string","QuerySnapshot"),bundleName:Dt("string"),bundle:Dt("string")};class wy extends lM{constructor(e){super(),this.firestore=e}convertBytes(e){return new $n(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new yt(this.firestore,null,t)}}function uM(r){r=bn(r,xs);const e=bn(r.firestore,Ei),t=Jf(e),i=new wy(e);return z1(r._query),XO(t,r._query).then(o=>new ya(e,i,r,o))}function Mb(r,e,t){r=bn(r,yt);const i=bn(r.firestore,Ei),o=F1(r.converter,e,t);return sd(i,[P1(td(i),"setDoc",r._key,o,r.converter!==null,t).toMutation(r._key,Xn.none())])}function hM(r,e,t,...i){r=bn(r,yt);const o=bn(r.firestore,Ei),c=td(o);let h;return h=typeof(e=wt(e))=="string"||e instanceof ed?iM(c,"updateDoc",r._key,e,t,i):rM(c,"updateDoc",r._key,e),sd(o,[h.toMutation(r._key,Xn.exists(!0))])}function fM(r){return sd(bn(r.firestore,Ei),[new $p(r._key,Xn.none())])}function Sy(r,e){const t=bn(r.firestore,Ei),i=qo(r),o=F1(r.converter,e);return sd(t,[P1(td(r.firestore),"addDoc",i._key,o,r.converter!==null,{}).toMutation(i._key,Xn.exists(!1))]).then(()=>i)}function Rf(r,...e){var g,p,v;r=wt(r);let t={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||Nb(e[i])||(t=e[i++]);const o={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(Nb(e[i])){const w=e[i];e[i]=(g=w.next)==null?void 0:g.bind(w),e[i+1]=(p=w.error)==null?void 0:p.bind(w),e[i+2]=(v=w.complete)==null?void 0:v.bind(w)}let c,h,d;if(r instanceof yt)h=bn(r.firestore,Ei),d=Ff(r._key.path),c={next:w=>{e[i]&&e[i](H1(h,r,w))},error:e[i+1],complete:e[i+2]};else{const w=bn(r,xs);h=bn(w.firestore,Ei),d=w._query;const T=new wy(h);c={next:D=>{e[i]&&e[i](new ya(h,T,w,D))},error:e[i+1],complete:e[i+2]},z1(r._query)}return function(T,D,P,R){const I=new gy(R),G=new fy(D,I,P);return T.asyncQueue.enqueueAndForget(async()=>cy(await Af(T),G)),()=>{I.Nu(),T.asyncQueue.enqueueAndForget(async()=>uy(await Af(T),G))}}(Jf(h),d,o,c)}function sd(r,e){return function(i,o){const c=new mi;return i.asyncQueue.enqueueAndForget(async()=>LO(await QO(i),o,c)),c.promise}(Jf(r),e)}function H1(r,e,t){const i=t.docs.get(e._key),o=new wy(r);return new pa(r,o,e._key,i,new Sc(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){Zo=o})(Da),Ea(new ms("firestore",(i,{instanceIdentifier:o,options:c})=>{const h=i.getProvider("app").getImmediate(),d=new Ei(new i2(i.getProvider("auth-internal")),new o2(h,i.getProvider("app-check-internal")),function(p,v){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new he(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Lc(p.options.projectId,v)}(h,o),h);return c={useFetchStreams:t,...c},d._setSettings(c),d},"PUBLIC").setMultipleInstances(!0)),Rr(ME,kE,e),Rr(ME,kE,"esm2020")})();var dM="firebase",mM="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rr(dM,mM,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1="firebasestorage.googleapis.com",gM="storageBucket",pM=2*60*1e3,yM=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr extends Vr{constructor(e,t,i=0){super(Ig(e),`Firebase Storage: ${t} (${Ig(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Lr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Ig(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var kr;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(kr||(kr={}));function Ig(r){return"storage/"+r}function vM(){const r="An unknown error occurred, please check the error payload for server response.";return new Lr(kr.UNKNOWN,r)}function _M(){return new Lr(kr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function EM(){return new Lr(kr.CANCELED,"User canceled the upload/download.")}function bM(r){return new Lr(kr.INVALID_URL,"Invalid URL '"+r+"'.")}function TM(r){return new Lr(kr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function kb(r){return new Lr(kr.INVALID_ARGUMENT,r)}function Y1(){return new Lr(kr.APP_DELETED,"The Firebase app was deleted.")}function wM(r){return new Lr(kr.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=sr.makeFromUrl(e,t)}catch{return new sr(e,"")}if(i.path==="")return i;throw TM(e)}static makeFromUrl(e,t){let i=null;const o="([A-Za-z0-9.\\-_]+)";function c(re){re.path.charAt(re.path.length-1)==="/"&&(re.path_=re.path_.slice(0,-1))}const h="(/(.*))?$",d=new RegExp("^gs://"+o+h,"i"),g={bucket:1,path:3};function p(re){re.path_=decodeURIComponent(re.path)}const v="v[A-Za-z0-9_]+",w=t.replace(/[.]/g,"\\."),T="(/([^?#]*).*)?$",D=new RegExp(`^https?://${w}/${v}/b/${o}/o${T}`,"i"),P={bucket:1,path:3},R=t===G1?"(?:storage.googleapis.com|storage.cloud.google.com)":t,I="([^?#]*)",G=new RegExp(`^https?://${R}/${o}/${I}`,"i"),X=[{regex:d,indices:g,postModify:c},{regex:D,indices:P,postModify:p},{regex:G,indices:{bucket:1,path:2},postModify:p}];for(let re=0;re<X.length;re++){const oe=X[re],fe=oe.regex.exec(e);if(fe){const M=fe[oe.indices.bucket];let x=fe[oe.indices.path];x||(x=""),i=new sr(M,x),oe.postModify(i);break}}if(i==null)throw bM(e);return i}}class SM{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AM(r,e,t){let i=1,o=null,c=null,h=!1,d=0;function g(){return d===2}let p=!1;function v(...I){p||(p=!0,e.apply(null,I))}function w(I){o=setTimeout(()=>{o=null,r(D,g())},I)}function T(){c&&clearTimeout(c)}function D(I,...G){if(p){T();return}if(I){T(),v.call(null,I,...G);return}if(g()||h){T(),v.call(null,I,...G);return}i<64&&(i*=2);let X;d===1?(d=2,X=0):X=(i+Math.random())*1e3,w(X)}let P=!1;function R(I){P||(P=!0,T(),!p&&(o!==null?(I||(d=2),clearTimeout(o),w(0)):I||(d=1)))}return w(0),c=setTimeout(()=>{h=!0,R(!0)},t),R}function xM(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RM(r){return r!==void 0}function Pb(r,e,t,i){if(i<e)throw kb(`Invalid value for '${r}'. Expected ${e} or greater.`);if(i>t)throw kb(`Invalid value for '${r}'. Expected ${t} or less.`)}function IM(r){const e=encodeURIComponent;let t="?";for(const i in r)if(r.hasOwnProperty(i)){const o=e(i)+"="+e(r[i]);t=t+o+"&"}return t=t.slice(0,-1),t}var If;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(If||(If={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NM(r,e){const t=r>=500&&r<600,o=[408,429].indexOf(r)!==-1,c=e.indexOf(r)!==-1;return t||o||c}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(e,t,i,o,c,h,d,g,p,v,w,T=!0,D=!1){this.url_=e,this.method_=t,this.headers_=i,this.body_=o,this.successCodes_=c,this.additionalRetryCodes_=h,this.callback_=d,this.errorCallback_=g,this.timeout_=p,this.progressCallback_=v,this.connectionFactory_=w,this.retry=T,this.isUsingEmulator=D,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((P,R)=>{this.resolve_=P,this.reject_=R,this.start_()})}start_(){const e=(i,o)=>{if(o){i(!1,new Lh(!1,null,!0));return}const c=this.connectionFactory_();this.pendingConnection_=c;const h=d=>{const g=d.loaded,p=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(g,p)};this.progressCallback_!==null&&c.addUploadProgressListener(h),c.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&c.removeUploadProgressListener(h),this.pendingConnection_=null;const d=c.getErrorCode()===If.NO_ERROR,g=c.getStatus();if(!d||NM(g,this.additionalRetryCodes_)&&this.retry){const v=c.getErrorCode()===If.ABORT;i(!1,new Lh(!1,null,v));return}const p=this.successCodes_.indexOf(g)!==-1;i(!0,new Lh(p,c))})},t=(i,o)=>{const c=this.resolve_,h=this.reject_,d=o.connection;if(o.wasSuccessCode)try{const g=this.callback_(d,d.getResponse());RM(g)?c(g):c()}catch(g){h(g)}else if(d!==null){const g=vM();g.serverResponse=d.getErrorText(),this.errorCallback_?h(this.errorCallback_(d,g)):h(g)}else if(o.canceled){const g=this.appDelete_?Y1():EM();h(g)}else{const g=_M();h(g)}};this.canceled_?t(!1,new Lh(!1,null,!0)):this.backoffId_=AM(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&xM(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Lh{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function DM(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function OM(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function MM(r,e){e&&(r["X-Firebase-GMPID"]=e)}function kM(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function PM(r,e,t,i,o,c,h=!0,d=!1){const g=IM(r.urlParams),p=r.url+g,v=Object.assign({},r.headers);return MM(v,e),DM(v,t),OM(v,c),kM(v,i),new CM(p,r.method,v,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,o,h,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VM(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function LM(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(e,t){this._service=e,t instanceof sr?this._location=t:this._location=sr.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Nf(e,t)}get root(){const e=new sr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return LM(this._location.path)}get storage(){return this._service}get parent(){const e=VM(this._location.path);if(e===null)return null;const t=new sr(this._location.bucket,e);return new Nf(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw wM(e)}}function Vb(r,e){const t=e==null?void 0:e[gM];return t==null?null:sr.makeFromBucketSpec(t,r)}function UM(r,e,t,i={}){r.host=`${e}:${t}`;const o=Ca(e);o&&(xp(`https://${r.host}/b`),Rp("Storage",!0)),r._isUsingEmulator=!0,r._protocol=o?"https":"http";const{mockUserToken:c}=i;c&&(r._overrideAuthToken=typeof c=="string"?c:CT(c,r.app.options.projectId))}class jM{constructor(e,t,i,o,c,h=!1){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=o,this._firebaseVersion=c,this._isUsingEmulator=h,this._bucket=null,this._host=G1,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=pM,this._maxUploadRetryTime=yM,this._requests=new Set,o!=null?this._bucket=sr.makeFromBucketSpec(o,this._host):this._bucket=Vb(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=sr.makeFromBucketSpec(this._url,e):this._bucket=Vb(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Pb("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Pb("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(_n(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Nf(this,e)}_makeRequest(e,t,i,o,c=!0){if(this._deleted)return new SM(Y1());{const h=PM(e,this._appId,i,o,t,this._firebaseVersion,c,this._isUsingEmulator);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,t){const[i,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,i,o).getPromise()}}const Lb="@firebase/storage",Ub="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K1="storage";function zM(r=Cp(),e){r=wt(r);const i=Pf(r,K1).getImmediate({identifier:e}),o=RT("storage");return o&&BM(i,...o),i}function BM(r,e,t,i={}){UM(r,e,t,i)}function qM(r,{instanceIdentifier:e}){const t=r.getProvider("app").getImmediate(),i=r.getProvider("auth-internal"),o=r.getProvider("app-check-internal");return new jM(t,i,o,e,Da)}function FM(){Ea(new ms(K1,qM,"PUBLIC").setMultipleInstances(!0)),Rr(Lb,Ub,""),Rr(Lb,Ub,"esm2020")}FM();const HM={apiKey:"AIzaSyAor1Aq2Myi8BwI6Eosiz7elTtPl2WgwLs",authDomain:"emesg-mvp-sc.firebaseapp.com",projectId:"emesg-mvp-sc",storageBucket:"emesg-mvp-sc.firebasestorage.app",messagingSenderId:"157751238183",appId:"1:157751238183:web:7196e759c8f9e556263802",measurementId:"G-L00GR5FN5W"},Ay=MT(HM),gc=e2(Ay),kn=ZO(Ay);zM(Ay);const GM=new ui,Q1=L.createContext({}),Rs=()=>{const r=L.useContext(Q1);if(!r)throw new Error("useAuth must be used within an AuthProvider");return r},YM=({children:r})=>{const[e,t]=L.useState(null),[i,o]=L.useState(null),[c,h]=L.useState(!0),d=async(R,I={})=>{const G=qo(kn,"users",R.uid);if(!(await Ob(G)).exists()){const{displayName:X,email:re,photoURL:oe}=R,fe=new Date;try{await Mb(G,{displayName:X||I.displayName||"",email:re,photoURL:oe||"",bio:"",createdAt:fe,lastActive:fe,...I})}catch(M){console.error("Error creating user profile:",M)}}return g(R.uid)},g=async R=>{try{const I=qo(kn,"users",R),G=await Ob(I);if(G.exists()){const ee=G.data();return{uid:R,email:ee.email,displayName:ee.displayName,photoURL:ee.photoURL,bio:ee.bio,createdAt:ee.createdAt.toDate(),lastActive:ee.lastActive.toDate()}}}catch(I){console.error("Error getting user profile:",I)}return null},p=async(R,I)=>{const G=await UN(gc,R,I);await d(G.user)},v=async(R,I,G)=>{const ee=await LN(gc,R,I);await TE(ee.user,{displayName:G}),await d(ee.user,{displayName:G})},w=async()=>{const R=await cC(gc,GM);await d(R.user)},T=async()=>{await FN(gc),o(null)},D=async R=>{if(!e)return;const I=qo(kn,"users",e.uid);await Mb(I,{...R,lastActive:new Date},{merge:!0}),R.displayName&&R.displayName!==e.displayName&&await TE(e,{displayName:R.displayName});const G=await g(e.uid);o(G)};L.useEffect(()=>qN(gc,async I=>{if(I){const G=await g(I.uid);o(G)}else o(null);t(I),h(!1)}),[]);const P={currentUser:e,userProfile:i,login:p,signup:v,loginWithGoogle:w,logout:T,updateUserProfile:D,loading:c};return E.jsx(Q1.Provider,{value:P,children:!c&&r})};function jb(r,e){if(typeof r=="function")return r(e);r!=null&&(r.current=e)}function $1(...r){return e=>{let t=!1;const i=r.map(o=>{const c=jb(o,e);return!t&&typeof c=="function"&&(t=!0),c});if(t)return()=>{for(let o=0;o<i.length;o++){const c=i[o];typeof c=="function"?c():jb(r[o],null)}}}}function Pr(...r){return L.useCallback($1(...r),r)}function Fc(r){const e=KM(r),t=L.forwardRef((i,o)=>{const{children:c,...h}=i,d=L.Children.toArray(c),g=d.find($M);if(g){const p=g.props.children,v=d.map(w=>w===g?L.Children.count(p)>1?L.Children.only(null):L.isValidElement(p)?p.props.children:null:w);return E.jsx(e,{...h,ref:o,children:L.isValidElement(p)?L.cloneElement(p,void 0,v):null})}return E.jsx(e,{...h,ref:o,children:c})});return t.displayName=`${r}.Slot`,t}var X1=Fc("Slot");function KM(r){const e=L.forwardRef((t,i)=>{const{children:o,...c}=t;if(L.isValidElement(o)){const h=WM(o),d=XM(c,o.props);return o.type!==L.Fragment&&(d.ref=i?$1(i,h):h),L.cloneElement(o,d)}return L.Children.count(o)>1?L.Children.only(null):null});return e.displayName=`${r}.SlotClone`,e}var QM=Symbol("radix.slottable");function $M(r){return L.isValidElement(r)&&typeof r.type=="function"&&"__radixId"in r.type&&r.type.__radixId===QM}function XM(r,e){const t={...e};for(const i in e){const o=r[i],c=e[i];/^on[A-Z]/.test(i)?o&&c?t[i]=(...d)=>{const g=c(...d);return o(...d),g}:o&&(t[i]=o):i==="style"?t[i]={...o,...c}:i==="className"&&(t[i]=[o,c].filter(Boolean).join(" "))}return{...r,...t}}function WM(r){var i,o;let e=(i=Object.getOwnPropertyDescriptor(r.props,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?r.ref:(e=(o=Object.getOwnPropertyDescriptor(r,"ref"))==null?void 0:o.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?r.props.ref:r.props.ref||r.ref)}function W1(r){var e,t,i="";if(typeof r=="string"||typeof r=="number")i+=r;else if(typeof r=="object")if(Array.isArray(r)){var o=r.length;for(e=0;e<o;e++)r[e]&&(t=W1(r[e]))&&(i&&(i+=" "),i+=t)}else for(t in r)r[t]&&(i&&(i+=" "),i+=t);return i}function Z1(){for(var r,e,t=0,i="",o=arguments.length;t<o;t++)(r=arguments[t])&&(e=W1(r))&&(i&&(i+=" "),i+=e);return i}const zb=r=>typeof r=="boolean"?`${r}`:r===0?"0":r,Bb=Z1,J1=(r,e)=>t=>{var i;if((e==null?void 0:e.variants)==null)return Bb(r,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:o,defaultVariants:c}=e,h=Object.keys(o).map(p=>{const v=t==null?void 0:t[p],w=c==null?void 0:c[p];if(v===null)return null;const T=zb(v)||zb(w);return o[p][T]}),d=t&&Object.entries(t).reduce((p,v)=>{let[w,T]=v;return T===void 0||(p[w]=T),p},{}),g=e==null||(i=e.compoundVariants)===null||i===void 0?void 0:i.reduce((p,v)=>{let{class:w,className:T,...D}=v;return Object.entries(D).every(P=>{let[R,I]=P;return Array.isArray(I)?I.includes({...c,...d}[R]):{...c,...d}[R]===I})?[...p,w,T]:p},[]);return Bb(r,h,g,t==null?void 0:t.class,t==null?void 0:t.className)},xy="-",ZM=r=>{const e=ek(r),{conflictingClassGroups:t,conflictingClassGroupModifiers:i}=r;return{getClassGroupId:h=>{const d=h.split(xy);return d[0]===""&&d.length!==1&&d.shift(),eS(d,e)||JM(h)},getConflictingClassGroupIds:(h,d)=>{const g=t[h]||[];return d&&i[h]?[...g,...i[h]]:g}}},eS=(r,e)=>{var h;if(r.length===0)return e.classGroupId;const t=r[0],i=e.nextPart.get(t),o=i?eS(r.slice(1),i):void 0;if(o)return o;if(e.validators.length===0)return;const c=r.join(xy);return(h=e.validators.find(({validator:d})=>d(c)))==null?void 0:h.classGroupId},qb=/^\[(.+)\]$/,JM=r=>{if(qb.test(r)){const e=qb.exec(r)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},ek=r=>{const{theme:e,classGroups:t}=r,i={nextPart:new Map,validators:[]};for(const o in t)vp(t[o],i,o,e);return i},vp=(r,e,t,i)=>{r.forEach(o=>{if(typeof o=="string"){const c=o===""?e:Fb(e,o);c.classGroupId=t;return}if(typeof o=="function"){if(tk(o)){vp(o(i),e,t,i);return}e.validators.push({validator:o,classGroupId:t});return}Object.entries(o).forEach(([c,h])=>{vp(h,Fb(e,c),t,i)})})},Fb=(r,e)=>{let t=r;return e.split(xy).forEach(i=>{t.nextPart.has(i)||t.nextPart.set(i,{nextPart:new Map,validators:[]}),t=t.nextPart.get(i)}),t},tk=r=>r.isThemeGetter,nk=r=>{if(r<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,i=new Map;const o=(c,h)=>{t.set(c,h),e++,e>r&&(e=0,i=t,t=new Map)};return{get(c){let h=t.get(c);if(h!==void 0)return h;if((h=i.get(c))!==void 0)return o(c,h),h},set(c,h){t.has(c)?t.set(c,h):o(c,h)}}},_p="!",Ep=":",rk=Ep.length,ik=r=>{const{prefix:e,experimentalParseClassName:t}=r;let i=o=>{const c=[];let h=0,d=0,g=0,p;for(let P=0;P<o.length;P++){let R=o[P];if(h===0&&d===0){if(R===Ep){c.push(o.slice(g,P)),g=P+rk;continue}if(R==="/"){p=P;continue}}R==="["?h++:R==="]"?h--:R==="("?d++:R===")"&&d--}const v=c.length===0?o:o.substring(g),w=sk(v),T=w!==v,D=p&&p>g?p-g:void 0;return{modifiers:c,hasImportantModifier:T,baseClassName:w,maybePostfixModifierPosition:D}};if(e){const o=e+Ep,c=i;i=h=>h.startsWith(o)?c(h.substring(o.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:h,maybePostfixModifierPosition:void 0}}if(t){const o=i;i=c=>t({className:c,parseClassName:o})}return i},sk=r=>r.endsWith(_p)?r.substring(0,r.length-1):r.startsWith(_p)?r.substring(1):r,ak=r=>{const e=Object.fromEntries(r.orderSensitiveModifiers.map(i=>[i,!0]));return i=>{if(i.length<=1)return i;const o=[];let c=[];return i.forEach(h=>{h[0]==="["||e[h]?(o.push(...c.sort(),h),c=[]):c.push(h)}),o.push(...c.sort()),o}},ok=r=>({cache:nk(r.cacheSize),parseClassName:ik(r),sortModifiers:ak(r),...ZM(r)}),lk=/\s+/,ck=(r,e)=>{const{parseClassName:t,getClassGroupId:i,getConflictingClassGroupIds:o,sortModifiers:c}=e,h=[],d=r.trim().split(lk);let g="";for(let p=d.length-1;p>=0;p-=1){const v=d[p],{isExternal:w,modifiers:T,hasImportantModifier:D,baseClassName:P,maybePostfixModifierPosition:R}=t(v);if(w){g=v+(g.length>0?" "+g:g);continue}let I=!!R,G=i(I?P.substring(0,R):P);if(!G){if(!I){g=v+(g.length>0?" "+g:g);continue}if(G=i(P),!G){g=v+(g.length>0?" "+g:g);continue}I=!1}const ee=c(T).join(":"),X=D?ee+_p:ee,re=X+G;if(h.includes(re))continue;h.push(re);const oe=o(G,I);for(let fe=0;fe<oe.length;++fe){const M=oe[fe];h.push(X+M)}g=v+(g.length>0?" "+g:g)}return g};function uk(){let r=0,e,t,i="";for(;r<arguments.length;)(e=arguments[r++])&&(t=tS(e))&&(i&&(i+=" "),i+=t);return i}const tS=r=>{if(typeof r=="string")return r;let e,t="";for(let i=0;i<r.length;i++)r[i]&&(e=tS(r[i]))&&(t&&(t+=" "),t+=e);return t};function hk(r,...e){let t,i,o,c=h;function h(g){const p=e.reduce((v,w)=>w(v),r());return t=ok(p),i=t.cache.get,o=t.cache.set,c=d,d(g)}function d(g){const p=i(g);if(p)return p;const v=ck(g,t);return o(g,v),v}return function(){return c(uk.apply(null,arguments))}}const Ut=r=>{const e=t=>t[r]||[];return e.isThemeGetter=!0,e},nS=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,rS=/^\((?:(\w[\w-]*):)?(.+)\)$/i,fk=/^\d+\/\d+$/,dk=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,mk=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,gk=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,pk=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,yk=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ro=r=>fk.test(r),De=r=>!!r&&!Number.isNaN(Number(r)),Zi=r=>!!r&&Number.isInteger(Number(r)),Ng=r=>r.endsWith("%")&&De(r.slice(0,-1)),ci=r=>dk.test(r),vk=()=>!0,_k=r=>mk.test(r)&&!gk.test(r),iS=()=>!1,Ek=r=>pk.test(r),bk=r=>yk.test(r),Tk=r=>!pe(r)&&!ye(r),wk=r=>rl(r,oS,iS),pe=r=>nS.test(r),ua=r=>rl(r,lS,_k),Cg=r=>rl(r,Ik,De),Hb=r=>rl(r,sS,iS),Sk=r=>rl(r,aS,bk),Uh=r=>rl(r,cS,Ek),ye=r=>rS.test(r),pc=r=>il(r,lS),Ak=r=>il(r,Nk),Gb=r=>il(r,sS),xk=r=>il(r,oS),Rk=r=>il(r,aS),jh=r=>il(r,cS,!0),rl=(r,e,t)=>{const i=nS.exec(r);return i?i[1]?e(i[1]):t(i[2]):!1},il=(r,e,t=!1)=>{const i=rS.exec(r);return i?i[1]?e(i[1]):t:!1},sS=r=>r==="position"||r==="percentage",aS=r=>r==="image"||r==="url",oS=r=>r==="length"||r==="size"||r==="bg-size",lS=r=>r==="length",Ik=r=>r==="number",Nk=r=>r==="family-name",cS=r=>r==="shadow",Ck=()=>{const r=Ut("color"),e=Ut("font"),t=Ut("text"),i=Ut("font-weight"),o=Ut("tracking"),c=Ut("leading"),h=Ut("breakpoint"),d=Ut("container"),g=Ut("spacing"),p=Ut("radius"),v=Ut("shadow"),w=Ut("inset-shadow"),T=Ut("text-shadow"),D=Ut("drop-shadow"),P=Ut("blur"),R=Ut("perspective"),I=Ut("aspect"),G=Ut("ease"),ee=Ut("animate"),X=()=>["auto","avoid","all","avoid-page","page","left","right","column"],re=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],oe=()=>[...re(),ye,pe],fe=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto","contain","none"],x=()=>[ye,pe,g],C=()=>[Ro,"full","auto",...x()],k=()=>[Zi,"none","subgrid",ye,pe],V=()=>["auto",{span:["full",Zi,ye,pe]},Zi,ye,pe],z=()=>[Zi,"auto",ye,pe],N=()=>["auto","min","max","fr",ye,pe],Me=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Ye=()=>["start","end","center","stretch","center-safe","end-safe"],Q=()=>["auto",...x()],le=()=>[Ro,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...x()],ae=()=>[r,ye,pe],ze=()=>[...re(),Gb,Hb,{position:[ye,pe]}],U=()=>["no-repeat",{repeat:["","x","y","space","round"]}],ie=()=>["auto","cover","contain",xk,wk,{size:[ye,pe]}],ue=()=>[Ng,pc,ua],se=()=>["","none","full",p,ye,pe],me=()=>["",De,pc,ua],Ie=()=>["solid","dashed","dotted","double"],Te=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ke=()=>[De,Ng,Gb,Hb],We=()=>["","none",P,ye,pe],un=()=>["none",De,ye,pe],Tn=()=>["none",De,ye,pe],wn=()=>[De,ye,pe],Pn=()=>[Ro,"full",...x()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[ci],breakpoint:[ci],color:[vk],container:[ci],"drop-shadow":[ci],ease:["in","out","in-out"],font:[Tk],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[ci],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[ci],shadow:[ci],spacing:["px",De],text:[ci],"text-shadow":[ci],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ro,pe,ye,I]}],container:["container"],columns:[{columns:[De,pe,ye,d]}],"break-after":[{"break-after":X()}],"break-before":[{"break-before":X()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:oe()}],overflow:[{overflow:fe()}],"overflow-x":[{"overflow-x":fe()}],"overflow-y":[{"overflow-y":fe()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:C()}],"inset-x":[{"inset-x":C()}],"inset-y":[{"inset-y":C()}],start:[{start:C()}],end:[{end:C()}],top:[{top:C()}],right:[{right:C()}],bottom:[{bottom:C()}],left:[{left:C()}],visibility:["visible","invisible","collapse"],z:[{z:[Zi,"auto",ye,pe]}],basis:[{basis:[Ro,"full","auto",d,...x()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[De,Ro,"auto","initial","none",pe]}],grow:[{grow:["",De,ye,pe]}],shrink:[{shrink:["",De,ye,pe]}],order:[{order:[Zi,"first","last","none",ye,pe]}],"grid-cols":[{"grid-cols":k()}],"col-start-end":[{col:V()}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":k()}],"row-start-end":[{row:V()}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":N()}],"auto-rows":[{"auto-rows":N()}],gap:[{gap:x()}],"gap-x":[{"gap-x":x()}],"gap-y":[{"gap-y":x()}],"justify-content":[{justify:[...Me(),"normal"]}],"justify-items":[{"justify-items":[...Ye(),"normal"]}],"justify-self":[{"justify-self":["auto",...Ye()]}],"align-content":[{content:["normal",...Me()]}],"align-items":[{items:[...Ye(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Ye(),{baseline:["","last"]}]}],"place-content":[{"place-content":Me()}],"place-items":[{"place-items":[...Ye(),"baseline"]}],"place-self":[{"place-self":["auto",...Ye()]}],p:[{p:x()}],px:[{px:x()}],py:[{py:x()}],ps:[{ps:x()}],pe:[{pe:x()}],pt:[{pt:x()}],pr:[{pr:x()}],pb:[{pb:x()}],pl:[{pl:x()}],m:[{m:Q()}],mx:[{mx:Q()}],my:[{my:Q()}],ms:[{ms:Q()}],me:[{me:Q()}],mt:[{mt:Q()}],mr:[{mr:Q()}],mb:[{mb:Q()}],ml:[{ml:Q()}],"space-x":[{"space-x":x()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":x()}],"space-y-reverse":["space-y-reverse"],size:[{size:le()}],w:[{w:[d,"screen",...le()]}],"min-w":[{"min-w":[d,"screen","none",...le()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[h]},...le()]}],h:[{h:["screen","lh",...le()]}],"min-h":[{"min-h":["screen","lh","none",...le()]}],"max-h":[{"max-h":["screen","lh",...le()]}],"font-size":[{text:["base",t,pc,ua]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,ye,Cg]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Ng,pe]}],"font-family":[{font:[Ak,pe,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,ye,pe]}],"line-clamp":[{"line-clamp":[De,"none",ye,Cg]}],leading:[{leading:[c,...x()]}],"list-image":[{"list-image":["none",ye,pe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ye,pe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:ae()}],"text-color":[{text:ae()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ie(),"wavy"]}],"text-decoration-thickness":[{decoration:[De,"from-font","auto",ye,ua]}],"text-decoration-color":[{decoration:ae()}],"underline-offset":[{"underline-offset":[De,"auto",ye,pe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:x()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ye,pe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ye,pe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ze()}],"bg-repeat":[{bg:U()}],"bg-size":[{bg:ie()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Zi,ye,pe],radial:["",ye,pe],conic:[Zi,ye,pe]},Rk,Sk]}],"bg-color":[{bg:ae()}],"gradient-from-pos":[{from:ue()}],"gradient-via-pos":[{via:ue()}],"gradient-to-pos":[{to:ue()}],"gradient-from":[{from:ae()}],"gradient-via":[{via:ae()}],"gradient-to":[{to:ae()}],rounded:[{rounded:se()}],"rounded-s":[{"rounded-s":se()}],"rounded-e":[{"rounded-e":se()}],"rounded-t":[{"rounded-t":se()}],"rounded-r":[{"rounded-r":se()}],"rounded-b":[{"rounded-b":se()}],"rounded-l":[{"rounded-l":se()}],"rounded-ss":[{"rounded-ss":se()}],"rounded-se":[{"rounded-se":se()}],"rounded-ee":[{"rounded-ee":se()}],"rounded-es":[{"rounded-es":se()}],"rounded-tl":[{"rounded-tl":se()}],"rounded-tr":[{"rounded-tr":se()}],"rounded-br":[{"rounded-br":se()}],"rounded-bl":[{"rounded-bl":se()}],"border-w":[{border:me()}],"border-w-x":[{"border-x":me()}],"border-w-y":[{"border-y":me()}],"border-w-s":[{"border-s":me()}],"border-w-e":[{"border-e":me()}],"border-w-t":[{"border-t":me()}],"border-w-r":[{"border-r":me()}],"border-w-b":[{"border-b":me()}],"border-w-l":[{"border-l":me()}],"divide-x":[{"divide-x":me()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":me()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Ie(),"hidden","none"]}],"divide-style":[{divide:[...Ie(),"hidden","none"]}],"border-color":[{border:ae()}],"border-color-x":[{"border-x":ae()}],"border-color-y":[{"border-y":ae()}],"border-color-s":[{"border-s":ae()}],"border-color-e":[{"border-e":ae()}],"border-color-t":[{"border-t":ae()}],"border-color-r":[{"border-r":ae()}],"border-color-b":[{"border-b":ae()}],"border-color-l":[{"border-l":ae()}],"divide-color":[{divide:ae()}],"outline-style":[{outline:[...Ie(),"none","hidden"]}],"outline-offset":[{"outline-offset":[De,ye,pe]}],"outline-w":[{outline:["",De,pc,ua]}],"outline-color":[{outline:ae()}],shadow:[{shadow:["","none",v,jh,Uh]}],"shadow-color":[{shadow:ae()}],"inset-shadow":[{"inset-shadow":["none",w,jh,Uh]}],"inset-shadow-color":[{"inset-shadow":ae()}],"ring-w":[{ring:me()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:ae()}],"ring-offset-w":[{"ring-offset":[De,ua]}],"ring-offset-color":[{"ring-offset":ae()}],"inset-ring-w":[{"inset-ring":me()}],"inset-ring-color":[{"inset-ring":ae()}],"text-shadow":[{"text-shadow":["none",T,jh,Uh]}],"text-shadow-color":[{"text-shadow":ae()}],opacity:[{opacity:[De,ye,pe]}],"mix-blend":[{"mix-blend":[...Te(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Te()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[De]}],"mask-image-linear-from-pos":[{"mask-linear-from":ke()}],"mask-image-linear-to-pos":[{"mask-linear-to":ke()}],"mask-image-linear-from-color":[{"mask-linear-from":ae()}],"mask-image-linear-to-color":[{"mask-linear-to":ae()}],"mask-image-t-from-pos":[{"mask-t-from":ke()}],"mask-image-t-to-pos":[{"mask-t-to":ke()}],"mask-image-t-from-color":[{"mask-t-from":ae()}],"mask-image-t-to-color":[{"mask-t-to":ae()}],"mask-image-r-from-pos":[{"mask-r-from":ke()}],"mask-image-r-to-pos":[{"mask-r-to":ke()}],"mask-image-r-from-color":[{"mask-r-from":ae()}],"mask-image-r-to-color":[{"mask-r-to":ae()}],"mask-image-b-from-pos":[{"mask-b-from":ke()}],"mask-image-b-to-pos":[{"mask-b-to":ke()}],"mask-image-b-from-color":[{"mask-b-from":ae()}],"mask-image-b-to-color":[{"mask-b-to":ae()}],"mask-image-l-from-pos":[{"mask-l-from":ke()}],"mask-image-l-to-pos":[{"mask-l-to":ke()}],"mask-image-l-from-color":[{"mask-l-from":ae()}],"mask-image-l-to-color":[{"mask-l-to":ae()}],"mask-image-x-from-pos":[{"mask-x-from":ke()}],"mask-image-x-to-pos":[{"mask-x-to":ke()}],"mask-image-x-from-color":[{"mask-x-from":ae()}],"mask-image-x-to-color":[{"mask-x-to":ae()}],"mask-image-y-from-pos":[{"mask-y-from":ke()}],"mask-image-y-to-pos":[{"mask-y-to":ke()}],"mask-image-y-from-color":[{"mask-y-from":ae()}],"mask-image-y-to-color":[{"mask-y-to":ae()}],"mask-image-radial":[{"mask-radial":[ye,pe]}],"mask-image-radial-from-pos":[{"mask-radial-from":ke()}],"mask-image-radial-to-pos":[{"mask-radial-to":ke()}],"mask-image-radial-from-color":[{"mask-radial-from":ae()}],"mask-image-radial-to-color":[{"mask-radial-to":ae()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":re()}],"mask-image-conic-pos":[{"mask-conic":[De]}],"mask-image-conic-from-pos":[{"mask-conic-from":ke()}],"mask-image-conic-to-pos":[{"mask-conic-to":ke()}],"mask-image-conic-from-color":[{"mask-conic-from":ae()}],"mask-image-conic-to-color":[{"mask-conic-to":ae()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ze()}],"mask-repeat":[{mask:U()}],"mask-size":[{mask:ie()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ye,pe]}],filter:[{filter:["","none",ye,pe]}],blur:[{blur:We()}],brightness:[{brightness:[De,ye,pe]}],contrast:[{contrast:[De,ye,pe]}],"drop-shadow":[{"drop-shadow":["","none",D,jh,Uh]}],"drop-shadow-color":[{"drop-shadow":ae()}],grayscale:[{grayscale:["",De,ye,pe]}],"hue-rotate":[{"hue-rotate":[De,ye,pe]}],invert:[{invert:["",De,ye,pe]}],saturate:[{saturate:[De,ye,pe]}],sepia:[{sepia:["",De,ye,pe]}],"backdrop-filter":[{"backdrop-filter":["","none",ye,pe]}],"backdrop-blur":[{"backdrop-blur":We()}],"backdrop-brightness":[{"backdrop-brightness":[De,ye,pe]}],"backdrop-contrast":[{"backdrop-contrast":[De,ye,pe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",De,ye,pe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[De,ye,pe]}],"backdrop-invert":[{"backdrop-invert":["",De,ye,pe]}],"backdrop-opacity":[{"backdrop-opacity":[De,ye,pe]}],"backdrop-saturate":[{"backdrop-saturate":[De,ye,pe]}],"backdrop-sepia":[{"backdrop-sepia":["",De,ye,pe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":x()}],"border-spacing-x":[{"border-spacing-x":x()}],"border-spacing-y":[{"border-spacing-y":x()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ye,pe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[De,"initial",ye,pe]}],ease:[{ease:["linear","initial",G,ye,pe]}],delay:[{delay:[De,ye,pe]}],animate:[{animate:["none",ee,ye,pe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[R,ye,pe]}],"perspective-origin":[{"perspective-origin":oe()}],rotate:[{rotate:un()}],"rotate-x":[{"rotate-x":un()}],"rotate-y":[{"rotate-y":un()}],"rotate-z":[{"rotate-z":un()}],scale:[{scale:Tn()}],"scale-x":[{"scale-x":Tn()}],"scale-y":[{"scale-y":Tn()}],"scale-z":[{"scale-z":Tn()}],"scale-3d":["scale-3d"],skew:[{skew:wn()}],"skew-x":[{"skew-x":wn()}],"skew-y":[{"skew-y":wn()}],transform:[{transform:[ye,pe,"","none","gpu","cpu"]}],"transform-origin":[{origin:oe()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Pn()}],"translate-x":[{"translate-x":Pn()}],"translate-y":[{"translate-y":Pn()}],"translate-z":[{"translate-z":Pn()}],"translate-none":["translate-none"],accent:[{accent:ae()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:ae()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ye,pe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":x()}],"scroll-mx":[{"scroll-mx":x()}],"scroll-my":[{"scroll-my":x()}],"scroll-ms":[{"scroll-ms":x()}],"scroll-me":[{"scroll-me":x()}],"scroll-mt":[{"scroll-mt":x()}],"scroll-mr":[{"scroll-mr":x()}],"scroll-mb":[{"scroll-mb":x()}],"scroll-ml":[{"scroll-ml":x()}],"scroll-p":[{"scroll-p":x()}],"scroll-px":[{"scroll-px":x()}],"scroll-py":[{"scroll-py":x()}],"scroll-ps":[{"scroll-ps":x()}],"scroll-pe":[{"scroll-pe":x()}],"scroll-pt":[{"scroll-pt":x()}],"scroll-pr":[{"scroll-pr":x()}],"scroll-pb":[{"scroll-pb":x()}],"scroll-pl":[{"scroll-pl":x()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ye,pe]}],fill:[{fill:["none",...ae()]}],"stroke-w":[{stroke:[De,pc,ua,Cg]}],stroke:[{stroke:["none",...ae()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Dk=hk(Ck);function vt(...r){return Dk(Z1(r))}const Ok=J1("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function Nt({className:r,variant:e,size:t,asChild:i=!1,...o}){const c=i?X1:"button";return E.jsx(c,{"data-slot":"button",className:vt(Ok({variant:e,size:t,className:r})),...o})}function va({className:r,type:e,...t}){return E.jsx("input",{type:e,"data-slot":"input",className:vt("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",r),...t})}function os({className:r,...e}){return E.jsx("div",{"data-slot":"card",className:vt("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",r),...e})}function Vo({className:r,...e}){return E.jsx("div",{"data-slot":"card-header",className:vt("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",r),...e})}function Lo({className:r,...e}){return E.jsx("div",{"data-slot":"card-title",className:vt("leading-none font-semibold",r),...e})}function Mk({className:r,...e}){return E.jsx("div",{"data-slot":"card-description",className:vt("text-muted-foreground text-sm",r),...e})}function ls({className:r,...e}){return E.jsx("div",{"data-slot":"card-content",className:vt("px-6",r),...e})}var uS=TT();const kk=ET(uS);var Pk=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ot=Pk.reduce((r,e)=>{const t=Fc(`Primitive.${e}`),i=L.forwardRef((o,c)=>{const{asChild:h,...d}=o,g=h?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),E.jsx(g,{...d,ref:c})});return i.displayName=`Primitive.${e}`,{...r,[e]:i}},{});function Vk(r,e){r&&uS.flushSync(()=>r.dispatchEvent(e))}var Lk="Separator",Yb="horizontal",Uk=["horizontal","vertical"],hS=L.forwardRef((r,e)=>{const{decorative:t,orientation:i=Yb,...o}=r,c=jk(i)?i:Yb,d=t?{role:"none"}:{"aria-orientation":c==="vertical"?c:void 0,role:"separator"};return E.jsx(Ot.div,{"data-orientation":c,...d,...o,ref:e})});hS.displayName=Lk;function jk(r){return Uk.includes(r)}var zk=hS;function Bk({className:r,orientation:e="horizontal",decorative:t=!0,...i}){return E.jsx(zk,{"data-slot":"separator-root",decorative:t,orientation:e,className:vt("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",r),...i})}/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qk=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Fk=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase()),Kb=r=>{const e=Fk(r);return e.charAt(0).toUpperCase()+e.slice(1)},fS=(...r)=>r.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim(),Hk=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Gk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yk=L.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:o="",children:c,iconNode:h,...d},g)=>L.createElement("svg",{ref:g,...Gk,width:e,height:e,stroke:r,strokeWidth:i?Number(t)*24/Number(e):t,className:fS("lucide",o),...!c&&!Hk(d)&&{"aria-hidden":"true"},...d},[...h.map(([p,v])=>L.createElement(p,v)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const at=(r,e)=>{const t=L.forwardRef(({className:i,...o},c)=>L.createElement(Yk,{ref:c,iconNode:e,className:fS(`lucide-${qk(Kb(r))}`,`lucide-${r}`,i),...o}));return t.displayName=Kb(r),t};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kk=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Qk=at("arrow-left",Kk);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $k=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Xk=at("camera",$k);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wk=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],dS=at("check-check",Wk);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zk=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],mS=at("check",Zk);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jk=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["line",{x1:"21.17",x2:"12",y1:"8",y2:"8",key:"a0cw5f"}],["line",{x1:"3.95",x2:"8.54",y1:"6.06",y2:"14",key:"1kftof"}],["line",{x1:"10.88",x2:"15.46",y1:"21.94",y2:"14",key:"1ymyh8"}]],eP=at("chrome",Jk);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],gS=at("clock",tP);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nP=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],rP=at("ellipsis-vertical",nP);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iP=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Qb=at("eye",iP);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sP=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],aP=at("lock",sP);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oP=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],lP=at("log-out",oP);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cP=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],pS=at("mail",cP);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uP=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],gi=at("message-circle",uP);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hP=[["path",{d:"M13.234 20.252 21 12.3",key:"1cbrk9"}],["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 0 2.828 2 2 0 0 0 2.828 0l8.414-8.586a4 4 0 0 0 0-5.656 4 4 0 0 0-5.656 0l-8.415 8.585a6 6 0 1 0 8.486 8.486",key:"1pkts6"}]],fP=at("paperclip",hP);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dP=[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]],$b=at("pen-line",dP);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mP=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],gP=at("phone",mP);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pP=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],yS=at("plus",pP);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yP=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],vP=at("save",yP);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _P=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],nf=at("search",_P);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EP=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],bP=at("send",EP);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TP=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Xb=at("shield",TP);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wP=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],SP=at("smartphone",wP);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],xP=at("smile",AP);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RP=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],vS=at("upload",RP);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IP=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Ry=at("user",IP);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NP=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Iy=at("users",NP);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CP=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],DP=at("video",CP);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OP=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],MP=at("x",OP);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kP=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Wb=at("zap",kP),PP=({isLogin:r,onToggle:e})=>{const[t,i]=L.useState(""),[o,c]=L.useState(""),[h,d]=L.useState(""),[g,p]=L.useState(!1),[v,w]=L.useState(""),{login:T,signup:D,loginWithGoogle:P}=Rs(),R=async G=>{if(G.preventDefault(),!(!t||!o)){p(!0),w("");try{if(r)await T(t,o);else{if(!h){w("Display name is required");return}await D(t,o,h)}}catch(ee){w(ee.message||"Authentication failed")}finally{p(!1)}}},I=async()=>{p(!0),w("");try{await P()}catch(G){w(G.message||"Google sign-in failed")}finally{p(!1)}};return E.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 p-4",children:E.jsxs(os,{className:"w-full max-w-md shadow-xl",children:[E.jsxs(Vo,{className:"text-center",children:[E.jsx("div",{className:"mx-auto mb-4 flex h-12 w-12 items-center justify-center rounded-full bg-blue-600",children:E.jsx(gi,{className:"h-6 w-6 text-white"})}),E.jsx(Lo,{className:"text-2xl font-bold",children:r?"Welcome back":"Get started"}),E.jsx(Mk,{className:"text-gray-600",children:r?"Sign in to your E-mesg account":"Smart conversation starts here"})]}),E.jsxs(ls,{className:"space-y-4",children:[E.jsxs(Nt,{variant:"outline",className:"w-full",onClick:I,disabled:g,children:[E.jsx(eP,{className:"mr-2 h-4 w-4"}),"Continue with Google"]}),E.jsxs("div",{className:"relative",children:[E.jsx(Bk,{}),E.jsx("span",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 bg-background px-2 text-xs text-muted-foreground",children:"or continue with email"})]}),E.jsxs("form",{onSubmit:R,className:"space-y-4",children:[!r&&E.jsxs("div",{className:"relative",children:[E.jsx(Ry,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400"}),E.jsx(va,{type:"text",placeholder:"Display name",value:h,onChange:G=>d(G.target.value),className:"pl-10",required:!0})]}),E.jsxs("div",{className:"relative",children:[E.jsx(pS,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400"}),E.jsx(va,{type:"email",placeholder:"Email",value:t,onChange:G=>i(G.target.value),className:"pl-10",required:!0})]}),E.jsxs("div",{className:"relative",children:[E.jsx(aP,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400"}),E.jsx(va,{type:"password",placeholder:"Password",value:o,onChange:G=>c(G.target.value),className:"pl-10",required:!0,minLength:6})]}),v&&E.jsx("p",{className:"text-sm text-red-600",children:v}),E.jsx(Nt,{type:"submit",className:"w-full",disabled:g,children:g?"Please wait...":r?"Sign In":"Create Account"})]}),E.jsx("div",{className:"text-center",children:E.jsx(Nt,{variant:"link",onClick:e,className:"text-sm",children:r?"Don't have an account? Sign up":"Already have an account? Sign in"})})]})]})})};function en(r,e,{checkForDefaultPrevented:t=!0}={}){return function(o){if(r==null||r(o),t===!1||!o.defaultPrevented)return e==null?void 0:e(o)}}function VP(r,e){const t=L.createContext(e),i=c=>{const{children:h,...d}=c,g=L.useMemo(()=>d,Object.values(d));return E.jsx(t.Provider,{value:g,children:h})};i.displayName=r+"Provider";function o(c){const h=L.useContext(t);if(h)return h;if(e!==void 0)return e;throw new Error(`\`${c}\` must be used within \`${r}\``)}return[i,o]}function ru(r,e=[]){let t=[];function i(c,h){const d=L.createContext(h),g=t.length;t=[...t,h];const p=w=>{var G;const{scope:T,children:D,...P}=w,R=((G=T==null?void 0:T[r])==null?void 0:G[g])||d,I=L.useMemo(()=>P,Object.values(P));return E.jsx(R.Provider,{value:I,children:D})};p.displayName=c+"Provider";function v(w,T){var R;const D=((R=T==null?void 0:T[r])==null?void 0:R[g])||d,P=L.useContext(D);if(P)return P;if(h!==void 0)return h;throw new Error(`\`${w}\` must be used within \`${c}\``)}return[p,v]}const o=()=>{const c=t.map(h=>L.createContext(h));return function(d){const g=(d==null?void 0:d[r])||c;return L.useMemo(()=>({[`__scope${r}`]:{...d,[r]:g}}),[d,g])}};return o.scopeName=r,[i,LP(o,...e)]}function LP(...r){const e=r[0];if(r.length===1)return e;const t=()=>{const i=r.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(c){const h=i.reduce((d,{useScope:g,scopeName:p})=>{const w=g(c)[`__scope${p}`];return{...d,...w}},{});return L.useMemo(()=>({[`__scope${e.scopeName}`]:h}),[h])}};return t.scopeName=e.scopeName,t}function UP(r){const e=r+"CollectionProvider",[t,i]=ru(e),[o,c]=t(e,{collectionRef:{current:null},itemMap:new Map}),h=R=>{const{scope:I,children:G}=R,ee=es.useRef(null),X=es.useRef(new Map).current;return E.jsx(o,{scope:I,itemMap:X,collectionRef:ee,children:G})};h.displayName=e;const d=r+"CollectionSlot",g=Fc(d),p=es.forwardRef((R,I)=>{const{scope:G,children:ee}=R,X=c(d,G),re=Pr(I,X.collectionRef);return E.jsx(g,{ref:re,children:ee})});p.displayName=d;const v=r+"CollectionItemSlot",w="data-radix-collection-item",T=Fc(v),D=es.forwardRef((R,I)=>{const{scope:G,children:ee,...X}=R,re=es.useRef(null),oe=Pr(I,re),fe=c(v,G);return es.useEffect(()=>(fe.itemMap.set(re,{ref:re,...X}),()=>void fe.itemMap.delete(re))),E.jsx(T,{[w]:"",ref:oe,children:ee})});D.displayName=v;function P(R){const I=c(r+"CollectionConsumer",R);return es.useCallback(()=>{const ee=I.collectionRef.current;if(!ee)return[];const X=Array.from(ee.querySelectorAll(`[${w}]`));return Array.from(I.itemMap.values()).sort((fe,M)=>X.indexOf(fe.ref.current)-X.indexOf(M.ref.current))},[I.collectionRef,I.itemMap])}return[{Provider:h,Slot:p,ItemSlot:D},P,i]}var bs=globalThis!=null&&globalThis.document?L.useLayoutEffect:()=>{},jP=bT[" useId ".trim().toString()]||(()=>{}),zP=0;function Oc(r){const[e,t]=L.useState(jP());return bs(()=>{t(i=>i??String(zP++))},[r]),r||(e?`radix-${e}`:"")}function Aa(r){const e=L.useRef(r);return L.useEffect(()=>{e.current=r}),L.useMemo(()=>(...t)=>{var i;return(i=e.current)==null?void 0:i.call(e,...t)},[])}var BP=bT[" useInsertionEffect ".trim().toString()]||bs;function Ny({prop:r,defaultProp:e,onChange:t=()=>{},caller:i}){const[o,c,h]=qP({defaultProp:e,onChange:t}),d=r!==void 0,g=d?r:o;{const v=L.useRef(r!==void 0);L.useEffect(()=>{const w=v.current;w!==d&&console.warn(`${i} is changing from ${w?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),v.current=d},[d,i])}const p=L.useCallback(v=>{var w;if(d){const T=FP(v)?v(r):v;T!==r&&((w=h.current)==null||w.call(h,T))}else c(v)},[d,r,c,h]);return[g,p]}function qP({defaultProp:r,onChange:e}){const[t,i]=L.useState(r),o=L.useRef(t),c=L.useRef(e);return BP(()=>{c.current=e},[e]),L.useEffect(()=>{var h;o.current!==t&&((h=c.current)==null||h.call(c,t),o.current=t)},[t,o]),[t,i,c]}function FP(r){return typeof r=="function"}var HP=L.createContext(void 0);function _S(r){const e=L.useContext(HP);return r||e||"ltr"}var Dg="rovingFocusGroup.onEntryFocus",GP={bubbles:!1,cancelable:!0},iu="RovingFocusGroup",[bp,ES,YP]=UP(iu),[KP,bS]=ru(iu,[YP]),[QP,$P]=KP(iu),TS=L.forwardRef((r,e)=>E.jsx(bp.Provider,{scope:r.__scopeRovingFocusGroup,children:E.jsx(bp.Slot,{scope:r.__scopeRovingFocusGroup,children:E.jsx(XP,{...r,ref:e})})}));TS.displayName=iu;var XP=L.forwardRef((r,e)=>{const{__scopeRovingFocusGroup:t,orientation:i,loop:o=!1,dir:c,currentTabStopId:h,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:g,onEntryFocus:p,preventScrollOnEntryFocus:v=!1,...w}=r,T=L.useRef(null),D=Pr(e,T),P=_S(c),[R,I]=Ny({prop:h,defaultProp:d??null,onChange:g,caller:iu}),[G,ee]=L.useState(!1),X=Aa(p),re=ES(t),oe=L.useRef(!1),[fe,M]=L.useState(0);return L.useEffect(()=>{const x=T.current;if(x)return x.addEventListener(Dg,X),()=>x.removeEventListener(Dg,X)},[X]),E.jsx(QP,{scope:t,orientation:i,dir:P,loop:o,currentTabStopId:R,onItemFocus:L.useCallback(x=>I(x),[I]),onItemShiftTab:L.useCallback(()=>ee(!0),[]),onFocusableItemAdd:L.useCallback(()=>M(x=>x+1),[]),onFocusableItemRemove:L.useCallback(()=>M(x=>x-1),[]),children:E.jsx(Ot.div,{tabIndex:G||fe===0?-1:0,"data-orientation":i,...w,ref:D,style:{outline:"none",...r.style},onMouseDown:en(r.onMouseDown,()=>{oe.current=!0}),onFocus:en(r.onFocus,x=>{const C=!oe.current;if(x.target===x.currentTarget&&C&&!G){const k=new CustomEvent(Dg,GP);if(x.currentTarget.dispatchEvent(k),!k.defaultPrevented){const V=re().filter(Q=>Q.focusable),z=V.find(Q=>Q.active),N=V.find(Q=>Q.id===R),Ye=[z,N,...V].filter(Boolean).map(Q=>Q.ref.current);AS(Ye,v)}}oe.current=!1}),onBlur:en(r.onBlur,()=>ee(!1))})})}),wS="RovingFocusGroupItem",SS=L.forwardRef((r,e)=>{const{__scopeRovingFocusGroup:t,focusable:i=!0,active:o=!1,tabStopId:c,children:h,...d}=r,g=Oc(),p=c||g,v=$P(wS,t),w=v.currentTabStopId===p,T=ES(t),{onFocusableItemAdd:D,onFocusableItemRemove:P,currentTabStopId:R}=v;return L.useEffect(()=>{if(i)return D(),()=>P()},[i,D,P]),E.jsx(bp.ItemSlot,{scope:t,id:p,focusable:i,active:o,children:E.jsx(Ot.span,{tabIndex:w?0:-1,"data-orientation":v.orientation,...d,ref:e,onMouseDown:en(r.onMouseDown,I=>{i?v.onItemFocus(p):I.preventDefault()}),onFocus:en(r.onFocus,()=>v.onItemFocus(p)),onKeyDown:en(r.onKeyDown,I=>{if(I.key==="Tab"&&I.shiftKey){v.onItemShiftTab();return}if(I.target!==I.currentTarget)return;const G=JP(I,v.orientation,v.dir);if(G!==void 0){if(I.metaKey||I.ctrlKey||I.altKey||I.shiftKey)return;I.preventDefault();let X=T().filter(re=>re.focusable).map(re=>re.ref.current);if(G==="last")X.reverse();else if(G==="prev"||G==="next"){G==="prev"&&X.reverse();const re=X.indexOf(I.currentTarget);X=v.loop?e4(X,re+1):X.slice(re+1)}setTimeout(()=>AS(X))}}),children:typeof h=="function"?h({isCurrentTabStop:w,hasTabStop:R!=null}):h})})});SS.displayName=wS;var WP={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function ZP(r,e){return e!=="rtl"?r:r==="ArrowLeft"?"ArrowRight":r==="ArrowRight"?"ArrowLeft":r}function JP(r,e,t){const i=ZP(r.key,t);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(i))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(i)))return WP[i]}function AS(r,e=!1){const t=document.activeElement;for(const i of r)if(i===t||(i.focus({preventScroll:e}),document.activeElement!==t))return}function e4(r,e){return r.map((t,i)=>r[(e+i)%r.length])}var t4=TS,n4=SS;function r4(r,e){return L.useReducer((t,i)=>e[t][i]??t,r)}var su=r=>{const{present:e,children:t}=r,i=i4(e),o=typeof t=="function"?t({present:i.isPresent}):L.Children.only(t),c=Pr(i.ref,s4(o));return typeof t=="function"||i.isPresent?L.cloneElement(o,{ref:c}):null};su.displayName="Presence";function i4(r){const[e,t]=L.useState(),i=L.useRef(null),o=L.useRef(r),c=L.useRef("none"),h=r?"mounted":"unmounted",[d,g]=r4(h,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return L.useEffect(()=>{const p=zh(i.current);c.current=d==="mounted"?p:"none"},[d]),bs(()=>{const p=i.current,v=o.current;if(v!==r){const T=c.current,D=zh(p);r?g("MOUNT"):D==="none"||(p==null?void 0:p.display)==="none"?g("UNMOUNT"):g(v&&T!==D?"ANIMATION_OUT":"UNMOUNT"),o.current=r}},[r,g]),bs(()=>{if(e){let p;const v=e.ownerDocument.defaultView??window,w=D=>{const R=zh(i.current).includes(D.animationName);if(D.target===e&&R&&(g("ANIMATION_END"),!o.current)){const I=e.style.animationFillMode;e.style.animationFillMode="forwards",p=v.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=I)})}},T=D=>{D.target===e&&(c.current=zh(i.current))};return e.addEventListener("animationstart",T),e.addEventListener("animationcancel",w),e.addEventListener("animationend",w),()=>{v.clearTimeout(p),e.removeEventListener("animationstart",T),e.removeEventListener("animationcancel",w),e.removeEventListener("animationend",w)}}else g("ANIMATION_END")},[e,g]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:L.useCallback(p=>{i.current=p?getComputedStyle(p):null,t(p)},[])}}function zh(r){return(r==null?void 0:r.animationName)||"none"}function s4(r){var i,o;let e=(i=Object.getOwnPropertyDescriptor(r.props,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?r.ref:(e=(o=Object.getOwnPropertyDescriptor(r,"ref"))==null?void 0:o.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?r.props.ref:r.props.ref||r.ref)}var ad="Tabs",[a4,IL]=ru(ad,[bS]),xS=bS(),[o4,Cy]=a4(ad),RS=L.forwardRef((r,e)=>{const{__scopeTabs:t,value:i,onValueChange:o,defaultValue:c,orientation:h="horizontal",dir:d,activationMode:g="automatic",...p}=r,v=_S(d),[w,T]=Ny({prop:i,onChange:o,defaultProp:c??"",caller:ad});return E.jsx(o4,{scope:t,baseId:Oc(),value:w,onValueChange:T,orientation:h,dir:v,activationMode:g,children:E.jsx(Ot.div,{dir:v,"data-orientation":h,...p,ref:e})})});RS.displayName=ad;var IS="TabsList",NS=L.forwardRef((r,e)=>{const{__scopeTabs:t,loop:i=!0,...o}=r,c=Cy(IS,t),h=xS(t);return E.jsx(t4,{asChild:!0,...h,orientation:c.orientation,dir:c.dir,loop:i,children:E.jsx(Ot.div,{role:"tablist","aria-orientation":c.orientation,...o,ref:e})})});NS.displayName=IS;var CS="TabsTrigger",DS=L.forwardRef((r,e)=>{const{__scopeTabs:t,value:i,disabled:o=!1,...c}=r,h=Cy(CS,t),d=xS(t),g=kS(h.baseId,i),p=PS(h.baseId,i),v=i===h.value;return E.jsx(n4,{asChild:!0,...d,focusable:!o,active:v,children:E.jsx(Ot.button,{type:"button",role:"tab","aria-selected":v,"aria-controls":p,"data-state":v?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:g,...c,ref:e,onMouseDown:en(r.onMouseDown,w=>{!o&&w.button===0&&w.ctrlKey===!1?h.onValueChange(i):w.preventDefault()}),onKeyDown:en(r.onKeyDown,w=>{[" ","Enter"].includes(w.key)&&h.onValueChange(i)}),onFocus:en(r.onFocus,()=>{const w=h.activationMode!=="manual";!v&&!o&&w&&h.onValueChange(i)})})})});DS.displayName=CS;var OS="TabsContent",MS=L.forwardRef((r,e)=>{const{__scopeTabs:t,value:i,forceMount:o,children:c,...h}=r,d=Cy(OS,t),g=kS(d.baseId,i),p=PS(d.baseId,i),v=i===d.value,w=L.useRef(v);return L.useEffect(()=>{const T=requestAnimationFrame(()=>w.current=!1);return()=>cancelAnimationFrame(T)},[]),E.jsx(su,{present:o||v,children:({present:T})=>E.jsx(Ot.div,{"data-state":v?"active":"inactive","data-orientation":d.orientation,role:"tabpanel","aria-labelledby":g,hidden:!T,id:p,tabIndex:0,...h,ref:e,style:{...r.style,animationDuration:w.current?"0s":void 0},children:T&&c})})});MS.displayName=OS;function kS(r,e){return`${r}-trigger-${e}`}function PS(r,e){return`${r}-content-${e}`}var l4=RS,c4=NS,u4=DS,h4=MS;function f4({className:r,...e}){return E.jsx(l4,{"data-slot":"tabs",className:vt("flex flex-col gap-2",r),...e})}function d4({className:r,...e}){return E.jsx(c4,{"data-slot":"tabs-list",className:vt("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",r),...e})}function Og({className:r,...e}){return E.jsx(u4,{"data-slot":"tabs-trigger",className:vt("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",r),...e})}function Mg({className:r,...e}){return E.jsx(h4,{"data-slot":"tabs-content",className:vt("flex-1 outline-none",r),...e})}var kg={exports:{}},Pg={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zb;function m4(){if(Zb)return Pg;Zb=1;var r=Mf();function e(w,T){return w===T&&(w!==0||1/w===1/T)||w!==w&&T!==T}var t=typeof Object.is=="function"?Object.is:e,i=r.useState,o=r.useEffect,c=r.useLayoutEffect,h=r.useDebugValue;function d(w,T){var D=T(),P=i({inst:{value:D,getSnapshot:T}}),R=P[0].inst,I=P[1];return c(function(){R.value=D,R.getSnapshot=T,g(R)&&I({inst:R})},[w,D,T]),o(function(){return g(R)&&I({inst:R}),w(function(){g(R)&&I({inst:R})})},[w]),h(D),D}function g(w){var T=w.getSnapshot;w=w.value;try{var D=T();return!t(w,D)}catch{return!0}}function p(w,T){return T()}var v=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:d;return Pg.useSyncExternalStore=r.useSyncExternalStore!==void 0?r.useSyncExternalStore:v,Pg}var Jb;function g4(){return Jb||(Jb=1,kg.exports=m4()),kg.exports}var p4=g4();function y4(){return p4.useSyncExternalStore(v4,()=>!0,()=>!1)}function v4(){return()=>{}}var Dy="Avatar",[_4,NL]=ru(Dy),[E4,VS]=_4(Dy),LS=L.forwardRef((r,e)=>{const{__scopeAvatar:t,...i}=r,[o,c]=L.useState("idle");return E.jsx(E4,{scope:t,imageLoadingStatus:o,onImageLoadingStatusChange:c,children:E.jsx(Ot.span,{...i,ref:e})})});LS.displayName=Dy;var US="AvatarImage",jS=L.forwardRef((r,e)=>{const{__scopeAvatar:t,src:i,onLoadingStatusChange:o=()=>{},...c}=r,h=VS(US,t),d=b4(i,c),g=Aa(p=>{o(p),h.onImageLoadingStatusChange(p)});return bs(()=>{d!=="idle"&&g(d)},[d,g]),d==="loaded"?E.jsx(Ot.img,{...c,ref:e,src:i}):null});jS.displayName=US;var zS="AvatarFallback",BS=L.forwardRef((r,e)=>{const{__scopeAvatar:t,delayMs:i,...o}=r,c=VS(zS,t),[h,d]=L.useState(i===void 0);return L.useEffect(()=>{if(i!==void 0){const g=window.setTimeout(()=>d(!0),i);return()=>window.clearTimeout(g)}},[i]),h&&c.imageLoadingStatus!=="loaded"?E.jsx(Ot.span,{...o,ref:e}):null});BS.displayName=zS;function eT(r,e){return r?e?(r.src!==e&&(r.src=e),r.complete&&r.naturalWidth>0?"loaded":"loading"):"error":"idle"}function b4(r,{referrerPolicy:e,crossOrigin:t}){const i=y4(),o=L.useRef(null),c=i?(o.current||(o.current=new window.Image),o.current):null,[h,d]=L.useState(()=>eT(c,r));return bs(()=>{d(eT(c,r))},[c,r]),bs(()=>{const g=w=>()=>{d(w)};if(!c)return;const p=g("loaded"),v=g("error");return c.addEventListener("load",p),c.addEventListener("error",v),e&&(c.referrerPolicy=e),typeof t=="string"&&(c.crossOrigin=t),()=>{c.removeEventListener("load",p),c.removeEventListener("error",v)}},[c,t,e]),h}var T4=LS,w4=jS,S4=BS;function xa({className:r,...e}){return E.jsx(T4,{"data-slot":"avatar",className:vt("relative flex size-8 shrink-0 overflow-hidden rounded-full",r),...e})}function Ra({className:r,...e}){return E.jsx(w4,{"data-slot":"avatar-image",className:vt("aspect-square size-full",r),...e})}function Ia({className:r,...e}){return E.jsx(S4,{"data-slot":"avatar-fallback",className:vt("bg-muted flex size-full items-center justify-center rounded-full",r),...e})}const A4=J1("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Tp({className:r,variant:e,asChild:t=!1,...i}){const o=t?X1:"span";return E.jsx(o,{"data-slot":"badge",className:vt(A4({variant:e}),r),...i})}function x4(r,e=globalThis==null?void 0:globalThis.document){const t=Aa(r);L.useEffect(()=>{const i=o=>{o.key==="Escape"&&t(o)};return e.addEventListener("keydown",i,{capture:!0}),()=>e.removeEventListener("keydown",i,{capture:!0})},[t,e])}var R4="DismissableLayer",wp="dismissableLayer.update",I4="dismissableLayer.pointerDownOutside",N4="dismissableLayer.focusOutside",tT,qS=L.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),FS=L.forwardRef((r,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:c,onInteractOutside:h,onDismiss:d,...g}=r,p=L.useContext(qS),[v,w]=L.useState(null),T=(v==null?void 0:v.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,D]=L.useState({}),P=Pr(e,M=>w(M)),R=Array.from(p.layers),[I]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),G=R.indexOf(I),ee=v?R.indexOf(v):-1,X=p.layersWithOutsidePointerEventsDisabled.size>0,re=ee>=G,oe=O4(M=>{const x=M.target,C=[...p.branches].some(k=>k.contains(x));!re||C||(o==null||o(M),h==null||h(M),M.defaultPrevented||d==null||d())},T),fe=M4(M=>{const x=M.target;[...p.branches].some(k=>k.contains(x))||(c==null||c(M),h==null||h(M),M.defaultPrevented||d==null||d())},T);return x4(M=>{ee===p.layers.size-1&&(i==null||i(M),!M.defaultPrevented&&d&&(M.preventDefault(),d()))},T),L.useEffect(()=>{if(v)return t&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(tT=T.body.style.pointerEvents,T.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(v)),p.layers.add(v),nT(),()=>{t&&p.layersWithOutsidePointerEventsDisabled.size===1&&(T.body.style.pointerEvents=tT)}},[v,T,t,p]),L.useEffect(()=>()=>{v&&(p.layers.delete(v),p.layersWithOutsidePointerEventsDisabled.delete(v),nT())},[v,p]),L.useEffect(()=>{const M=()=>D({});return document.addEventListener(wp,M),()=>document.removeEventListener(wp,M)},[]),E.jsx(Ot.div,{...g,ref:P,style:{pointerEvents:X?re?"auto":"none":void 0,...r.style},onFocusCapture:en(r.onFocusCapture,fe.onFocusCapture),onBlurCapture:en(r.onBlurCapture,fe.onBlurCapture),onPointerDownCapture:en(r.onPointerDownCapture,oe.onPointerDownCapture)})});FS.displayName=R4;var C4="DismissableLayerBranch",D4=L.forwardRef((r,e)=>{const t=L.useContext(qS),i=L.useRef(null),o=Pr(e,i);return L.useEffect(()=>{const c=i.current;if(c)return t.branches.add(c),()=>{t.branches.delete(c)}},[t.branches]),E.jsx(Ot.div,{...r,ref:o})});D4.displayName=C4;function O4(r,e=globalThis==null?void 0:globalThis.document){const t=Aa(r),i=L.useRef(!1),o=L.useRef(()=>{});return L.useEffect(()=>{const c=d=>{if(d.target&&!i.current){let g=function(){HS(I4,t,p,{discrete:!0})};const p={originalEvent:d};d.pointerType==="touch"?(e.removeEventListener("click",o.current),o.current=g,e.addEventListener("click",o.current,{once:!0})):g()}else e.removeEventListener("click",o.current);i.current=!1},h=window.setTimeout(()=>{e.addEventListener("pointerdown",c)},0);return()=>{window.clearTimeout(h),e.removeEventListener("pointerdown",c),e.removeEventListener("click",o.current)}},[e,t]),{onPointerDownCapture:()=>i.current=!0}}function M4(r,e=globalThis==null?void 0:globalThis.document){const t=Aa(r),i=L.useRef(!1);return L.useEffect(()=>{const o=c=>{c.target&&!i.current&&HS(N4,t,{originalEvent:c},{discrete:!1})};return e.addEventListener("focusin",o),()=>e.removeEventListener("focusin",o)},[e,t]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function nT(){const r=new CustomEvent(wp);document.dispatchEvent(r)}function HS(r,e,t,{discrete:i}){const o=t.originalEvent.target,c=new CustomEvent(r,{bubbles:!1,cancelable:!0,detail:t});e&&o.addEventListener(r,e,{once:!0}),i?Vk(o,c):o.dispatchEvent(c)}var Vg="focusScope.autoFocusOnMount",Lg="focusScope.autoFocusOnUnmount",rT={bubbles:!1,cancelable:!0},k4="FocusScope",GS=L.forwardRef((r,e)=>{const{loop:t=!1,trapped:i=!1,onMountAutoFocus:o,onUnmountAutoFocus:c,...h}=r,[d,g]=L.useState(null),p=Aa(o),v=Aa(c),w=L.useRef(null),T=Pr(e,R=>g(R)),D=L.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;L.useEffect(()=>{if(i){let R=function(X){if(D.paused||!d)return;const re=X.target;d.contains(re)?w.current=re:ts(w.current,{select:!0})},I=function(X){if(D.paused||!d)return;const re=X.relatedTarget;re!==null&&(d.contains(re)||ts(w.current,{select:!0}))},G=function(X){if(document.activeElement===document.body)for(const oe of X)oe.removedNodes.length>0&&ts(d)};document.addEventListener("focusin",R),document.addEventListener("focusout",I);const ee=new MutationObserver(G);return d&&ee.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",R),document.removeEventListener("focusout",I),ee.disconnect()}}},[i,d,D.paused]),L.useEffect(()=>{if(d){sT.add(D);const R=document.activeElement;if(!d.contains(R)){const G=new CustomEvent(Vg,rT);d.addEventListener(Vg,p),d.dispatchEvent(G),G.defaultPrevented||(P4(z4(YS(d)),{select:!0}),document.activeElement===R&&ts(d))}return()=>{d.removeEventListener(Vg,p),setTimeout(()=>{const G=new CustomEvent(Lg,rT);d.addEventListener(Lg,v),d.dispatchEvent(G),G.defaultPrevented||ts(R??document.body,{select:!0}),d.removeEventListener(Lg,v),sT.remove(D)},0)}}},[d,p,v,D]);const P=L.useCallback(R=>{if(!t&&!i||D.paused)return;const I=R.key==="Tab"&&!R.altKey&&!R.ctrlKey&&!R.metaKey,G=document.activeElement;if(I&&G){const ee=R.currentTarget,[X,re]=V4(ee);X&&re?!R.shiftKey&&G===re?(R.preventDefault(),t&&ts(X,{select:!0})):R.shiftKey&&G===X&&(R.preventDefault(),t&&ts(re,{select:!0})):G===ee&&R.preventDefault()}},[t,i,D.paused]);return E.jsx(Ot.div,{tabIndex:-1,...h,ref:T,onKeyDown:P})});GS.displayName=k4;function P4(r,{select:e=!1}={}){const t=document.activeElement;for(const i of r)if(ts(i,{select:e}),document.activeElement!==t)return}function V4(r){const e=YS(r),t=iT(e,r),i=iT(e.reverse(),r);return[t,i]}function YS(r){const e=[],t=document.createTreeWalker(r,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const o=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||o?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function iT(r,e){for(const t of r)if(!L4(t,{upTo:e}))return t}function L4(r,{upTo:e}){if(getComputedStyle(r).visibility==="hidden")return!0;for(;r;){if(e!==void 0&&r===e)return!1;if(getComputedStyle(r).display==="none")return!0;r=r.parentElement}return!1}function U4(r){return r instanceof HTMLInputElement&&"select"in r}function ts(r,{select:e=!1}={}){if(r&&r.focus){const t=document.activeElement;r.focus({preventScroll:!0}),r!==t&&U4(r)&&e&&r.select()}}var sT=j4();function j4(){let r=[];return{add(e){const t=r[0];e!==t&&(t==null||t.pause()),r=aT(r,e),r.unshift(e)},remove(e){var t;r=aT(r,e),(t=r[0])==null||t.resume()}}}function aT(r,e){const t=[...r],i=t.indexOf(e);return i!==-1&&t.splice(i,1),t}function z4(r){return r.filter(e=>e.tagName!=="A")}var B4="Portal",KS=L.forwardRef((r,e)=>{var d;const{container:t,...i}=r,[o,c]=L.useState(!1);bs(()=>c(!0),[]);const h=t||o&&((d=globalThis==null?void 0:globalThis.document)==null?void 0:d.body);return h?kk.createPortal(E.jsx(Ot.div,{...i,ref:e}),h):null});KS.displayName=B4;var Ug=0;function q4(){L.useEffect(()=>{const r=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",r[0]??oT()),document.body.insertAdjacentElement("beforeend",r[1]??oT()),Ug++,()=>{Ug===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Ug--}},[])}function oT(){const r=document.createElement("span");return r.setAttribute("data-radix-focus-guard",""),r.tabIndex=0,r.style.outline="none",r.style.opacity="0",r.style.position="fixed",r.style.pointerEvents="none",r}var xr=function(){return xr=Object.assign||function(e){for(var t,i=1,o=arguments.length;i<o;i++){t=arguments[i];for(var c in t)Object.prototype.hasOwnProperty.call(t,c)&&(e[c]=t[c])}return e},xr.apply(this,arguments)};function QS(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(r);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(t[i[o]]=r[i[o]]);return t}function F4(r,e,t){if(t||arguments.length===2)for(var i=0,o=e.length,c;i<o;i++)(c||!(i in e))&&(c||(c=Array.prototype.slice.call(e,0,i)),c[i]=e[i]);return r.concat(c||Array.prototype.slice.call(e))}var rf="right-scroll-bar-position",sf="width-before-scroll-bar",H4="with-scroll-bars-hidden",G4="--removed-body-scroll-bar-size";function jg(r,e){return typeof r=="function"?r(e):r&&(r.current=e),r}function Y4(r,e){var t=L.useState(function(){return{value:r,callback:e,facade:{get current(){return t.value},set current(i){var o=t.value;o!==i&&(t.value=i,t.callback(i,o))}}}})[0];return t.callback=e,t.facade}var K4=typeof window<"u"?L.useLayoutEffect:L.useEffect,lT=new WeakMap;function Q4(r,e){var t=Y4(null,function(i){return r.forEach(function(o){return jg(o,i)})});return K4(function(){var i=lT.get(t);if(i){var o=new Set(i),c=new Set(r),h=t.current;o.forEach(function(d){c.has(d)||jg(d,null)}),c.forEach(function(d){o.has(d)||jg(d,h)})}lT.set(t,r)},[r]),t}function $4(r){return r}function X4(r,e){e===void 0&&(e=$4);var t=[],i=!1,o={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:r},useMedium:function(c){var h=e(c,i);return t.push(h),function(){t=t.filter(function(d){return d!==h})}},assignSyncMedium:function(c){for(i=!0;t.length;){var h=t;t=[],h.forEach(c)}t={push:function(d){return c(d)},filter:function(){return t}}},assignMedium:function(c){i=!0;var h=[];if(t.length){var d=t;t=[],d.forEach(c),h=t}var g=function(){var v=h;h=[],v.forEach(c)},p=function(){return Promise.resolve().then(g)};p(),t={push:function(v){h.push(v),p()},filter:function(v){return h=h.filter(v),t}}}};return o}function W4(r){r===void 0&&(r={});var e=X4(null);return e.options=xr({async:!0,ssr:!1},r),e}var $S=function(r){var e=r.sideCar,t=QS(r,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=e.read();if(!i)throw new Error("Sidecar medium not found");return L.createElement(i,xr({},t))};$S.isSideCarExport=!0;function Z4(r,e){return r.useMedium(e),$S}var XS=W4(),zg=function(){},od=L.forwardRef(function(r,e){var t=L.useRef(null),i=L.useState({onScrollCapture:zg,onWheelCapture:zg,onTouchMoveCapture:zg}),o=i[0],c=i[1],h=r.forwardProps,d=r.children,g=r.className,p=r.removeScrollBar,v=r.enabled,w=r.shards,T=r.sideCar,D=r.noRelative,P=r.noIsolation,R=r.inert,I=r.allowPinchZoom,G=r.as,ee=G===void 0?"div":G,X=r.gapMode,re=QS(r,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),oe=T,fe=Q4([t,e]),M=xr(xr({},re),o);return L.createElement(L.Fragment,null,v&&L.createElement(oe,{sideCar:XS,removeScrollBar:p,shards:w,noRelative:D,noIsolation:P,inert:R,setCallbacks:c,allowPinchZoom:!!I,lockRef:t,gapMode:X}),h?L.cloneElement(L.Children.only(d),xr(xr({},M),{ref:fe})):L.createElement(ee,xr({},M,{className:g,ref:fe}),d))});od.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};od.classNames={fullWidth:sf,zeroRight:rf};var J4=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function eV(){if(!document)return null;var r=document.createElement("style");r.type="text/css";var e=J4();return e&&r.setAttribute("nonce",e),r}function tV(r,e){r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}function nV(r){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(r)}var rV=function(){var r=0,e=null;return{add:function(t){r==0&&(e=eV())&&(tV(e,t),nV(e)),r++},remove:function(){r--,!r&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},iV=function(){var r=rV();return function(e,t){L.useEffect(function(){return r.add(e),function(){r.remove()}},[e&&t])}},WS=function(){var r=iV(),e=function(t){var i=t.styles,o=t.dynamic;return r(i,o),null};return e},sV={left:0,top:0,right:0,gap:0},Bg=function(r){return parseInt(r||"",10)||0},aV=function(r){var e=window.getComputedStyle(document.body),t=e[r==="padding"?"paddingLeft":"marginLeft"],i=e[r==="padding"?"paddingTop":"marginTop"],o=e[r==="padding"?"paddingRight":"marginRight"];return[Bg(t),Bg(i),Bg(o)]},oV=function(r){if(r===void 0&&(r="margin"),typeof window>"u")return sV;var e=aV(r),t=document.documentElement.clientWidth,i=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,i-t+e[2]-e[0])}},lV=WS(),Fo="data-scroll-locked",cV=function(r,e,t,i){var o=r.left,c=r.top,h=r.right,d=r.gap;return t===void 0&&(t="margin"),`
  .`.concat(H4,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(d,"px ").concat(i,`;
  }
  body[`).concat(Fo,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(i,";"),t==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(c,`px;
    padding-right: `).concat(h,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(i,`;
    `),t==="padding"&&"padding-right: ".concat(d,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(rf,` {
    right: `).concat(d,"px ").concat(i,`;
  }
  
  .`).concat(sf,` {
    margin-right: `).concat(d,"px ").concat(i,`;
  }
  
  .`).concat(rf," .").concat(rf,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(sf," .").concat(sf,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(Fo,`] {
    `).concat(G4,": ").concat(d,`px;
  }
`)},cT=function(){var r=parseInt(document.body.getAttribute(Fo)||"0",10);return isFinite(r)?r:0},uV=function(){L.useEffect(function(){return document.body.setAttribute(Fo,(cT()+1).toString()),function(){var r=cT()-1;r<=0?document.body.removeAttribute(Fo):document.body.setAttribute(Fo,r.toString())}},[])},hV=function(r){var e=r.noRelative,t=r.noImportant,i=r.gapMode,o=i===void 0?"margin":i;uV();var c=L.useMemo(function(){return oV(o)},[o]);return L.createElement(lV,{styles:cV(c,!e,o,t?"":"!important")})},Sp=!1;if(typeof window<"u")try{var Bh=Object.defineProperty({},"passive",{get:function(){return Sp=!0,!0}});window.addEventListener("test",Bh,Bh),window.removeEventListener("test",Bh,Bh)}catch{Sp=!1}var Io=Sp?{passive:!1}:!1,fV=function(r){return r.tagName==="TEXTAREA"},ZS=function(r,e){if(!(r instanceof Element))return!1;var t=window.getComputedStyle(r);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!fV(r)&&t[e]==="visible")},dV=function(r){return ZS(r,"overflowY")},mV=function(r){return ZS(r,"overflowX")},uT=function(r,e){var t=e.ownerDocument,i=e;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var o=JS(r,i);if(o){var c=eA(r,i),h=c[1],d=c[2];if(h>d)return!0}i=i.parentNode}while(i&&i!==t.body);return!1},gV=function(r){var e=r.scrollTop,t=r.scrollHeight,i=r.clientHeight;return[e,t,i]},pV=function(r){var e=r.scrollLeft,t=r.scrollWidth,i=r.clientWidth;return[e,t,i]},JS=function(r,e){return r==="v"?dV(e):mV(e)},eA=function(r,e){return r==="v"?gV(e):pV(e)},yV=function(r,e){return r==="h"&&e==="rtl"?-1:1},vV=function(r,e,t,i,o){var c=yV(r,window.getComputedStyle(e).direction),h=c*i,d=t.target,g=e.contains(d),p=!1,v=h>0,w=0,T=0;do{var D=eA(r,d),P=D[0],R=D[1],I=D[2],G=R-I-c*P;(P||G)&&JS(r,d)&&(w+=G,T+=P),d=d.parentNode.host||d.parentNode}while(!g&&d!==document.body||g&&(e.contains(d)||e===d));return(v&&Math.abs(w)<1||!v&&Math.abs(T)<1)&&(p=!0),p},qh=function(r){return"changedTouches"in r?[r.changedTouches[0].clientX,r.changedTouches[0].clientY]:[0,0]},hT=function(r){return[r.deltaX,r.deltaY]},fT=function(r){return r&&"current"in r?r.current:r},_V=function(r,e){return r[0]===e[0]&&r[1]===e[1]},EV=function(r){return`
  .block-interactivity-`.concat(r,` {pointer-events: none;}
  .allow-interactivity-`).concat(r,` {pointer-events: all;}
`)},bV=0,No=[];function TV(r){var e=L.useRef([]),t=L.useRef([0,0]),i=L.useRef(),o=L.useState(bV++)[0],c=L.useState(WS)[0],h=L.useRef(r);L.useEffect(function(){h.current=r},[r]),L.useEffect(function(){if(r.inert){document.body.classList.add("block-interactivity-".concat(o));var R=F4([r.lockRef.current],(r.shards||[]).map(fT),!0).filter(Boolean);return R.forEach(function(I){return I.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),R.forEach(function(I){return I.classList.remove("allow-interactivity-".concat(o))})}}},[r.inert,r.lockRef.current,r.shards]);var d=L.useCallback(function(R,I){if("touches"in R&&R.touches.length===2||R.type==="wheel"&&R.ctrlKey)return!h.current.allowPinchZoom;var G=qh(R),ee=t.current,X="deltaX"in R?R.deltaX:ee[0]-G[0],re="deltaY"in R?R.deltaY:ee[1]-G[1],oe,fe=R.target,M=Math.abs(X)>Math.abs(re)?"h":"v";if("touches"in R&&M==="h"&&fe.type==="range")return!1;var x=uT(M,fe);if(!x)return!0;if(x?oe=M:(oe=M==="v"?"h":"v",x=uT(M,fe)),!x)return!1;if(!i.current&&"changedTouches"in R&&(X||re)&&(i.current=oe),!oe)return!0;var C=i.current||oe;return vV(C,I,R,C==="h"?X:re)},[]),g=L.useCallback(function(R){var I=R;if(!(!No.length||No[No.length-1]!==c)){var G="deltaY"in I?hT(I):qh(I),ee=e.current.filter(function(oe){return oe.name===I.type&&(oe.target===I.target||I.target===oe.shadowParent)&&_V(oe.delta,G)})[0];if(ee&&ee.should){I.cancelable&&I.preventDefault();return}if(!ee){var X=(h.current.shards||[]).map(fT).filter(Boolean).filter(function(oe){return oe.contains(I.target)}),re=X.length>0?d(I,X[0]):!h.current.noIsolation;re&&I.cancelable&&I.preventDefault()}}},[]),p=L.useCallback(function(R,I,G,ee){var X={name:R,delta:I,target:G,should:ee,shadowParent:wV(G)};e.current.push(X),setTimeout(function(){e.current=e.current.filter(function(re){return re!==X})},1)},[]),v=L.useCallback(function(R){t.current=qh(R),i.current=void 0},[]),w=L.useCallback(function(R){p(R.type,hT(R),R.target,d(R,r.lockRef.current))},[]),T=L.useCallback(function(R){p(R.type,qh(R),R.target,d(R,r.lockRef.current))},[]);L.useEffect(function(){return No.push(c),r.setCallbacks({onScrollCapture:w,onWheelCapture:w,onTouchMoveCapture:T}),document.addEventListener("wheel",g,Io),document.addEventListener("touchmove",g,Io),document.addEventListener("touchstart",v,Io),function(){No=No.filter(function(R){return R!==c}),document.removeEventListener("wheel",g,Io),document.removeEventListener("touchmove",g,Io),document.removeEventListener("touchstart",v,Io)}},[]);var D=r.removeScrollBar,P=r.inert;return L.createElement(L.Fragment,null,P?L.createElement(c,{styles:EV(o)}):null,D?L.createElement(hV,{noRelative:r.noRelative,gapMode:r.gapMode}):null)}function wV(r){for(var e=null;r!==null;)r instanceof ShadowRoot&&(e=r.host,r=r.host),r=r.parentNode;return e}const SV=Z4(XS,TV);var tA=L.forwardRef(function(r,e){return L.createElement(od,xr({},r,{ref:e,sideCar:SV}))});tA.classNames=od.classNames;var AV=function(r){if(typeof document>"u")return null;var e=Array.isArray(r)?r[0]:r;return e.ownerDocument.body},Co=new WeakMap,Fh=new WeakMap,Hh={},qg=0,nA=function(r){return r&&(r.host||nA(r.parentNode))},xV=function(r,e){return e.map(function(t){if(r.contains(t))return t;var i=nA(t);return i&&r.contains(i)?i:(console.error("aria-hidden",t,"in not contained inside",r,". Doing nothing"),null)}).filter(function(t){return!!t})},RV=function(r,e,t,i){var o=xV(e,Array.isArray(r)?r:[r]);Hh[t]||(Hh[t]=new WeakMap);var c=Hh[t],h=[],d=new Set,g=new Set(o),p=function(w){!w||d.has(w)||(d.add(w),p(w.parentNode))};o.forEach(p);var v=function(w){!w||g.has(w)||Array.prototype.forEach.call(w.children,function(T){if(d.has(T))v(T);else try{var D=T.getAttribute(i),P=D!==null&&D!=="false",R=(Co.get(T)||0)+1,I=(c.get(T)||0)+1;Co.set(T,R),c.set(T,I),h.push(T),R===1&&P&&Fh.set(T,!0),I===1&&T.setAttribute(t,"true"),P||T.setAttribute(i,"true")}catch(G){console.error("aria-hidden: cannot operate on ",T,G)}})};return v(e),d.clear(),qg++,function(){h.forEach(function(w){var T=Co.get(w)-1,D=c.get(w)-1;Co.set(w,T),c.set(w,D),T||(Fh.has(w)||w.removeAttribute(i),Fh.delete(w)),D||w.removeAttribute(t)}),qg--,qg||(Co=new WeakMap,Co=new WeakMap,Fh=new WeakMap,Hh={})}},IV=function(r,e,t){t===void 0&&(t="data-aria-hidden");var i=Array.from(Array.isArray(r)?r:[r]),o=AV(r);return o?(i.push.apply(i,Array.from(o.querySelectorAll("[aria-live], script"))),RV(i,o,t,"aria-hidden")):function(){return null}},ld="Dialog",[rA,CL]=ru(ld),[NV,lr]=rA(ld),iA=r=>{const{__scopeDialog:e,children:t,open:i,defaultOpen:o,onOpenChange:c,modal:h=!0}=r,d=L.useRef(null),g=L.useRef(null),[p,v]=Ny({prop:i,defaultProp:o??!1,onChange:c,caller:ld});return E.jsx(NV,{scope:e,triggerRef:d,contentRef:g,contentId:Oc(),titleId:Oc(),descriptionId:Oc(),open:p,onOpenChange:v,onOpenToggle:L.useCallback(()=>v(w=>!w),[v]),modal:h,children:t})};iA.displayName=ld;var sA="DialogTrigger",aA=L.forwardRef((r,e)=>{const{__scopeDialog:t,...i}=r,o=lr(sA,t),c=Pr(e,o.triggerRef);return E.jsx(Ot.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":ky(o.open),...i,ref:c,onClick:en(r.onClick,o.onOpenToggle)})});aA.displayName=sA;var Oy="DialogPortal",[CV,oA]=rA(Oy,{forceMount:void 0}),lA=r=>{const{__scopeDialog:e,forceMount:t,children:i,container:o}=r,c=lr(Oy,e);return E.jsx(CV,{scope:e,forceMount:t,children:L.Children.map(i,h=>E.jsx(su,{present:t||c.open,children:E.jsx(KS,{asChild:!0,container:o,children:h})}))})};lA.displayName=Oy;var Cf="DialogOverlay",cA=L.forwardRef((r,e)=>{const t=oA(Cf,r.__scopeDialog),{forceMount:i=t.forceMount,...o}=r,c=lr(Cf,r.__scopeDialog);return c.modal?E.jsx(su,{present:i||c.open,children:E.jsx(OV,{...o,ref:e})}):null});cA.displayName=Cf;var DV=Fc("DialogOverlay.RemoveScroll"),OV=L.forwardRef((r,e)=>{const{__scopeDialog:t,...i}=r,o=lr(Cf,t);return E.jsx(tA,{as:DV,allowPinchZoom:!0,shards:[o.contentRef],children:E.jsx(Ot.div,{"data-state":ky(o.open),...i,ref:e,style:{pointerEvents:"auto",...i.style}})})}),Na="DialogContent",uA=L.forwardRef((r,e)=>{const t=oA(Na,r.__scopeDialog),{forceMount:i=t.forceMount,...o}=r,c=lr(Na,r.__scopeDialog);return E.jsx(su,{present:i||c.open,children:c.modal?E.jsx(MV,{...o,ref:e}):E.jsx(kV,{...o,ref:e})})});uA.displayName=Na;var MV=L.forwardRef((r,e)=>{const t=lr(Na,r.__scopeDialog),i=L.useRef(null),o=Pr(e,t.contentRef,i);return L.useEffect(()=>{const c=i.current;if(c)return IV(c)},[]),E.jsx(hA,{...r,ref:o,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:en(r.onCloseAutoFocus,c=>{var h;c.preventDefault(),(h=t.triggerRef.current)==null||h.focus()}),onPointerDownOutside:en(r.onPointerDownOutside,c=>{const h=c.detail.originalEvent,d=h.button===0&&h.ctrlKey===!0;(h.button===2||d)&&c.preventDefault()}),onFocusOutside:en(r.onFocusOutside,c=>c.preventDefault())})}),kV=L.forwardRef((r,e)=>{const t=lr(Na,r.__scopeDialog),i=L.useRef(!1),o=L.useRef(!1);return E.jsx(hA,{...r,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:c=>{var h,d;(h=r.onCloseAutoFocus)==null||h.call(r,c),c.defaultPrevented||(i.current||(d=t.triggerRef.current)==null||d.focus(),c.preventDefault()),i.current=!1,o.current=!1},onInteractOutside:c=>{var g,p;(g=r.onInteractOutside)==null||g.call(r,c),c.defaultPrevented||(i.current=!0,c.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const h=c.target;((p=t.triggerRef.current)==null?void 0:p.contains(h))&&c.preventDefault(),c.detail.originalEvent.type==="focusin"&&o.current&&c.preventDefault()}})}),hA=L.forwardRef((r,e)=>{const{__scopeDialog:t,trapFocus:i,onOpenAutoFocus:o,onCloseAutoFocus:c,...h}=r,d=lr(Na,t),g=L.useRef(null),p=Pr(e,g);return q4(),E.jsxs(E.Fragment,{children:[E.jsx(GS,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:o,onUnmountAutoFocus:c,children:E.jsx(FS,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":ky(d.open),...h,ref:p,onDismiss:()=>d.onOpenChange(!1)})}),E.jsxs(E.Fragment,{children:[E.jsx(VV,{titleId:d.titleId}),E.jsx(UV,{contentRef:g,descriptionId:d.descriptionId})]})]})}),My="DialogTitle",fA=L.forwardRef((r,e)=>{const{__scopeDialog:t,...i}=r,o=lr(My,t);return E.jsx(Ot.h2,{id:o.titleId,...i,ref:e})});fA.displayName=My;var dA="DialogDescription",PV=L.forwardRef((r,e)=>{const{__scopeDialog:t,...i}=r,o=lr(dA,t);return E.jsx(Ot.p,{id:o.descriptionId,...i,ref:e})});PV.displayName=dA;var mA="DialogClose",gA=L.forwardRef((r,e)=>{const{__scopeDialog:t,...i}=r,o=lr(mA,t);return E.jsx(Ot.button,{type:"button",...i,ref:e,onClick:en(r.onClick,()=>o.onOpenChange(!1))})});gA.displayName=mA;function ky(r){return r?"open":"closed"}var pA="DialogTitleWarning",[DL,yA]=VP(pA,{contentName:Na,titleName:My,docsSlug:"dialog"}),VV=({titleId:r})=>{const e=yA(pA),t=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return L.useEffect(()=>{r&&(document.getElementById(r)||console.error(t))},[t,r]),null},LV="DialogDescriptionWarning",UV=({contentRef:r,descriptionId:e})=>{const i=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${yA(LV).contentName}}.`;return L.useEffect(()=>{var c;const o=(c=r.current)==null?void 0:c.getAttribute("aria-describedby");e&&o&&(document.getElementById(e)||console.warn(i))},[i,r,e]),null},jV=iA,zV=aA,BV=lA,qV=cA,FV=uA,HV=fA,GV=gA;function YV({...r}){return E.jsx(jV,{"data-slot":"dialog",...r})}function KV({...r}){return E.jsx(zV,{"data-slot":"dialog-trigger",...r})}function QV({...r}){return E.jsx(BV,{"data-slot":"dialog-portal",...r})}function $V({className:r,...e}){return E.jsx(qV,{"data-slot":"dialog-overlay",className:vt("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",r),...e})}function XV({className:r,children:e,...t}){return E.jsxs(QV,{"data-slot":"dialog-portal",children:[E.jsx($V,{}),E.jsxs(FV,{"data-slot":"dialog-content",className:vt("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",r),...t,children:[e,E.jsxs(GV,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[E.jsx(MP,{}),E.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function WV({className:r,...e}){return E.jsx("div",{"data-slot":"dialog-header",className:vt("flex flex-col gap-2 text-center sm:text-left",r),...e})}function ZV({className:r,...e}){return E.jsx(HV,{"data-slot":"dialog-title",className:vt("text-lg leading-none font-semibold",r),...e})}const JV=({onChatCreated:r})=>{const{currentUser:e,userProfile:t}=Rs(),[i,o]=L.useState(!1),[c,h]=L.useState(""),[d,g]=L.useState([]),[p,v]=L.useState(!1),[w,T]=L.useState(!1);L.useEffect(()=>{i&&c.trim()?D():c.trim()||g([])},[c,i]);const D=async()=>{if(c.trim()){v(!0);try{const I=qc(ds(kn,"users"),as("displayName",">=",c),as("displayName","<=",c+"")),G=await uM(I),ee=[];G.forEach(X=>{const re=X.data();X.id!==(e==null?void 0:e.uid)&&ee.push({uid:X.id,email:re.email,displayName:re.displayName,photoURL:re.photoURL})}),g(ee)}catch(I){console.error("Error searching users:",I)}finally{v(!1)}}},P=async I=>{if(!(!e||!t)){T(!0);try{const G={participants:[e.uid,I.uid],participantDetails:{[e.uid]:{displayName:t.displayName,photoURL:t.photoURL||""},[I.uid]:{displayName:I.displayName,photoURL:I.photoURL||""}},lastMessage:{text:"",senderId:"",timestamp:Qe.now(),type:"text"},unreadCount:0,isGroup:!1,createdAt:Qe.now()},ee=await Sy(ds(kn,"chats"),G);r==null||r(ee.id),o(!1),h(""),g([])}catch(G){console.error("Error creating chat:",G)}finally{T(!1)}}},R=I=>I.split(" ").map(G=>G[0]).join("").toUpperCase().slice(0,2);return E.jsxs(YV,{open:i,onOpenChange:o,children:[E.jsx(KV,{asChild:!0,children:E.jsxs(Nt,{className:"w-full",variant:"outline",children:[E.jsx(yS,{className:"mr-2 h-4 w-4"}),"New Chat"]})}),E.jsxs(XV,{className:"sm:max-w-md",children:[E.jsx(WV,{children:E.jsxs(ZV,{className:"flex items-center space-x-2",children:[E.jsx(gi,{className:"h-5 w-5"}),E.jsx("span",{children:"Start New Chat"})]})}),E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{className:"relative",children:[E.jsx(nf,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400"}),E.jsx(va,{placeholder:"Search users by name...",value:c,onChange:I=>h(I.target.value),className:"pl-10"})]}),E.jsx("div",{className:"space-y-2",children:E.jsxs(Nt,{variant:"ghost",className:"w-full justify-start",disabled:!0,children:[E.jsx(Iy,{className:"mr-3 h-4 w-4"}),"New Group Chat",E.jsx("span",{className:"ml-auto text-xs text-gray-400",children:"Coming Soon"})]})}),E.jsxs("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:[p&&E.jsxs("div",{className:"text-center py-4",children:[E.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),E.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Searching..."})]}),!p&&c&&d.length===0&&E.jsxs("div",{className:"text-center py-8 text-gray-500",children:[E.jsx(nf,{className:"h-8 w-8 mx-auto mb-2 text-gray-300"}),E.jsx("p",{className:"text-sm",children:"No users found"}),E.jsx("p",{className:"text-xs",children:"Try searching with a different name"})]}),d.map(I=>E.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-50 transition-colors",children:[E.jsxs(xa,{className:"h-10 w-10",children:[E.jsx(Ra,{src:I.photoURL}),E.jsx(Ia,{className:"bg-gray-600 text-white",children:R(I.displayName)})]}),E.jsxs("div",{className:"flex-1 min-w-0",children:[E.jsx("p",{className:"font-medium text-sm text-gray-900",children:I.displayName}),E.jsx("p",{className:"text-xs text-gray-500 truncate",children:I.email})]}),E.jsx(Nt,{size:"sm",onClick:()=>P(I),disabled:w,children:w?E.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):E.jsx(gi,{className:"h-4 w-4"})})]},I.uid))]}),!c&&E.jsxs("div",{className:"text-center py-8 text-gray-500",children:[E.jsx(nf,{className:"h-8 w-8 mx-auto mb-2 text-gray-300"}),E.jsx("p",{className:"text-sm",children:"Search for users to start chatting"}),E.jsx("p",{className:"text-xs",children:"Enter a name in the search box above"})]})]})]})]})},vA=6048e5,e6=864e5,Gh=43200,dT=1440,mT=Symbol.for("constructDateFrom");function bi(r,e){return typeof r=="function"?r(e):r&&typeof r=="object"&&mT in r?r[mT](e):r instanceof Date?new r.constructor(e):new Date(e)}function Yt(r,e){return bi(e||r,r)}let t6={};function au(){return t6}function Hc(r,e){var d,g,p,v;const t=au(),i=(e==null?void 0:e.weekStartsOn)??((g=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:g.weekStartsOn)??t.weekStartsOn??((v=(p=t.locale)==null?void 0:p.options)==null?void 0:v.weekStartsOn)??0,o=Yt(r,e==null?void 0:e.in),c=o.getDay(),h=(c<i?7:0)+c-i;return o.setDate(o.getDate()-h),o.setHours(0,0,0,0),o}function Df(r,e){return Hc(r,{...e,weekStartsOn:1})}function _A(r,e){const t=Yt(r,e==null?void 0:e.in),i=t.getFullYear(),o=bi(t,0);o.setFullYear(i+1,0,4),o.setHours(0,0,0,0);const c=Df(o),h=bi(t,0);h.setFullYear(i,0,4),h.setHours(0,0,0,0);const d=Df(h);return t.getTime()>=c.getTime()?i+1:t.getTime()>=d.getTime()?i:i-1}function Of(r){const e=Yt(r),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+r-+t}function cd(r,...e){const t=bi.bind(null,r||e.find(i=>typeof i=="object"));return e.map(t)}function gT(r,e){const t=Yt(r,e==null?void 0:e.in);return t.setHours(0,0,0,0),t}function n6(r,e,t){const[i,o]=cd(t==null?void 0:t.in,r,e),c=gT(i),h=gT(o),d=+c-Of(c),g=+h-Of(h);return Math.round((d-g)/e6)}function r6(r,e){const t=_A(r,e),i=bi(r,0);return i.setFullYear(t,0,4),i.setHours(0,0,0,0),Df(i)}function af(r,e){const t=+Yt(r)-+Yt(e);return t<0?-1:t>0?1:t}function i6(r){return bi(r,Date.now())}function s6(r){return r instanceof Date||typeof r=="object"&&Object.prototype.toString.call(r)==="[object Date]"}function a6(r){return!(!s6(r)&&typeof r!="number"||isNaN(+Yt(r)))}function o6(r,e,t){const[i,o]=cd(t==null?void 0:t.in,r,e),c=i.getFullYear()-o.getFullYear(),h=i.getMonth()-o.getMonth();return c*12+h}function l6(r){return e=>{const i=(r?Math[r]:Math.trunc)(e);return i===0?0:i}}function c6(r,e){return+Yt(r)-+Yt(e)}function u6(r,e){const t=Yt(r,e==null?void 0:e.in);return t.setHours(23,59,59,999),t}function h6(r,e){const t=Yt(r,e==null?void 0:e.in),i=t.getMonth();return t.setFullYear(t.getFullYear(),i+1,0),t.setHours(23,59,59,999),t}function f6(r,e){const t=Yt(r,e==null?void 0:e.in);return+u6(t,e)==+h6(t,e)}function d6(r,e,t){const[i,o,c]=cd(t==null?void 0:t.in,r,r,e),h=af(o,c),d=Math.abs(o6(o,c));if(d<1)return 0;o.getMonth()===1&&o.getDate()>27&&o.setDate(30),o.setMonth(o.getMonth()-h*d);let g=af(o,c)===-h;f6(i)&&d===1&&af(i,c)===1&&(g=!1);const p=h*(d-+g);return p===0?0:p}function m6(r,e,t){const i=c6(r,e)/1e3;return l6(t==null?void 0:t.roundingMethod)(i)}function g6(r,e){const t=Yt(r,e==null?void 0:e.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}const p6={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},y6=(r,e,t)=>{let i;const o=p6[r];return typeof o=="string"?i=o:e===1?i=o.one:i=o.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+i:i+" ago":i};function Fg(r){return(e={})=>{const t=e.width?String(e.width):r.defaultWidth;return r.formats[t]||r.formats[r.defaultWidth]}}const v6={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},_6={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},E6={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},b6={date:Fg({formats:v6,defaultWidth:"full"}),time:Fg({formats:_6,defaultWidth:"full"}),dateTime:Fg({formats:E6,defaultWidth:"full"})},T6={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},w6=(r,e,t,i)=>T6[r];function yc(r){return(e,t)=>{const i=t!=null&&t.context?String(t.context):"standalone";let o;if(i==="formatting"&&r.formattingValues){const h=r.defaultFormattingWidth||r.defaultWidth,d=t!=null&&t.width?String(t.width):h;o=r.formattingValues[d]||r.formattingValues[h]}else{const h=r.defaultWidth,d=t!=null&&t.width?String(t.width):r.defaultWidth;o=r.values[d]||r.values[h]}const c=r.argumentCallback?r.argumentCallback(e):e;return o[c]}}const S6={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},A6={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},x6={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},R6={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},I6={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},N6={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},C6=(r,e)=>{const t=Number(r),i=t%100;if(i>20||i<10)switch(i%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},D6={ordinalNumber:C6,era:yc({values:S6,defaultWidth:"wide"}),quarter:yc({values:A6,defaultWidth:"wide",argumentCallback:r=>r-1}),month:yc({values:x6,defaultWidth:"wide"}),day:yc({values:R6,defaultWidth:"wide"}),dayPeriod:yc({values:I6,defaultWidth:"wide",formattingValues:N6,defaultFormattingWidth:"wide"})};function vc(r){return(e,t={})=>{const i=t.width,o=i&&r.matchPatterns[i]||r.matchPatterns[r.defaultMatchWidth],c=e.match(o);if(!c)return null;const h=c[0],d=i&&r.parsePatterns[i]||r.parsePatterns[r.defaultParseWidth],g=Array.isArray(d)?M6(d,w=>w.test(h)):O6(d,w=>w.test(h));let p;p=r.valueCallback?r.valueCallback(g):g,p=t.valueCallback?t.valueCallback(p):p;const v=e.slice(h.length);return{value:p,rest:v}}}function O6(r,e){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t)&&e(r[t]))return t}function M6(r,e){for(let t=0;t<r.length;t++)if(e(r[t]))return t}function k6(r){return(e,t={})=>{const i=e.match(r.matchPattern);if(!i)return null;const o=i[0],c=e.match(r.parsePattern);if(!c)return null;let h=r.valueCallback?r.valueCallback(c[0]):c[0];h=t.valueCallback?t.valueCallback(h):h;const d=e.slice(o.length);return{value:h,rest:d}}}const P6=/^(\d+)(th|st|nd|rd)?/i,V6=/\d+/i,L6={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},U6={any:[/^b/i,/^(a|c)/i]},j6={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},z6={any:[/1/i,/2/i,/3/i,/4/i]},B6={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},q6={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},F6={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},H6={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},G6={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Y6={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},K6={ordinalNumber:k6({matchPattern:P6,parsePattern:V6,valueCallback:r=>parseInt(r,10)}),era:vc({matchPatterns:L6,defaultMatchWidth:"wide",parsePatterns:U6,defaultParseWidth:"any"}),quarter:vc({matchPatterns:j6,defaultMatchWidth:"wide",parsePatterns:z6,defaultParseWidth:"any",valueCallback:r=>r+1}),month:vc({matchPatterns:B6,defaultMatchWidth:"wide",parsePatterns:q6,defaultParseWidth:"any"}),day:vc({matchPatterns:F6,defaultMatchWidth:"wide",parsePatterns:H6,defaultParseWidth:"any"}),dayPeriod:vc({matchPatterns:G6,defaultMatchWidth:"any",parsePatterns:Y6,defaultParseWidth:"any"})},EA={code:"en-US",formatDistance:y6,formatLong:b6,formatRelative:w6,localize:D6,match:K6,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Q6(r,e){const t=Yt(r,e==null?void 0:e.in);return n6(t,g6(t))+1}function $6(r,e){const t=Yt(r,e==null?void 0:e.in),i=+Df(t)-+r6(t);return Math.round(i/vA)+1}function bA(r,e){var v,w,T,D;const t=Yt(r,e==null?void 0:e.in),i=t.getFullYear(),o=au(),c=(e==null?void 0:e.firstWeekContainsDate)??((w=(v=e==null?void 0:e.locale)==null?void 0:v.options)==null?void 0:w.firstWeekContainsDate)??o.firstWeekContainsDate??((D=(T=o.locale)==null?void 0:T.options)==null?void 0:D.firstWeekContainsDate)??1,h=bi((e==null?void 0:e.in)||r,0);h.setFullYear(i+1,0,c),h.setHours(0,0,0,0);const d=Hc(h,e),g=bi((e==null?void 0:e.in)||r,0);g.setFullYear(i,0,c),g.setHours(0,0,0,0);const p=Hc(g,e);return+t>=+d?i+1:+t>=+p?i:i-1}function X6(r,e){var d,g,p,v;const t=au(),i=(e==null?void 0:e.firstWeekContainsDate)??((g=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:g.firstWeekContainsDate)??t.firstWeekContainsDate??((v=(p=t.locale)==null?void 0:p.options)==null?void 0:v.firstWeekContainsDate)??1,o=bA(r,e),c=bi((e==null?void 0:e.in)||r,0);return c.setFullYear(o,0,i),c.setHours(0,0,0,0),Hc(c,e)}function W6(r,e){const t=Yt(r,e==null?void 0:e.in),i=+Hc(t,e)-+X6(t,e);return Math.round(i/vA)+1}function tt(r,e){const t=r<0?"-":"",i=Math.abs(r).toString().padStart(e,"0");return t+i}const Ji={y(r,e){const t=r.getFullYear(),i=t>0?t:1-t;return tt(e==="yy"?i%100:i,e.length)},M(r,e){const t=r.getMonth();return e==="M"?String(t+1):tt(t+1,2)},d(r,e){return tt(r.getDate(),e.length)},a(r,e){const t=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(r,e){return tt(r.getHours()%12||12,e.length)},H(r,e){return tt(r.getHours(),e.length)},m(r,e){return tt(r.getMinutes(),e.length)},s(r,e){return tt(r.getSeconds(),e.length)},S(r,e){const t=e.length,i=r.getMilliseconds(),o=Math.trunc(i*Math.pow(10,t-3));return tt(o,e.length)}},Do={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},pT={G:function(r,e,t){const i=r.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(i,{width:"abbreviated"});case"GGGGG":return t.era(i,{width:"narrow"});case"GGGG":default:return t.era(i,{width:"wide"})}},y:function(r,e,t){if(e==="yo"){const i=r.getFullYear(),o=i>0?i:1-i;return t.ordinalNumber(o,{unit:"year"})}return Ji.y(r,e)},Y:function(r,e,t,i){const o=bA(r,i),c=o>0?o:1-o;if(e==="YY"){const h=c%100;return tt(h,2)}return e==="Yo"?t.ordinalNumber(c,{unit:"year"}):tt(c,e.length)},R:function(r,e){const t=_A(r);return tt(t,e.length)},u:function(r,e){const t=r.getFullYear();return tt(t,e.length)},Q:function(r,e,t){const i=Math.ceil((r.getMonth()+1)/3);switch(e){case"Q":return String(i);case"QQ":return tt(i,2);case"Qo":return t.ordinalNumber(i,{unit:"quarter"});case"QQQ":return t.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(i,{width:"wide",context:"formatting"})}},q:function(r,e,t){const i=Math.ceil((r.getMonth()+1)/3);switch(e){case"q":return String(i);case"qq":return tt(i,2);case"qo":return t.ordinalNumber(i,{unit:"quarter"});case"qqq":return t.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(i,{width:"wide",context:"standalone"})}},M:function(r,e,t){const i=r.getMonth();switch(e){case"M":case"MM":return Ji.M(r,e);case"Mo":return t.ordinalNumber(i+1,{unit:"month"});case"MMM":return t.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(i,{width:"wide",context:"formatting"})}},L:function(r,e,t){const i=r.getMonth();switch(e){case"L":return String(i+1);case"LL":return tt(i+1,2);case"Lo":return t.ordinalNumber(i+1,{unit:"month"});case"LLL":return t.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(i,{width:"wide",context:"standalone"})}},w:function(r,e,t,i){const o=W6(r,i);return e==="wo"?t.ordinalNumber(o,{unit:"week"}):tt(o,e.length)},I:function(r,e,t){const i=$6(r);return e==="Io"?t.ordinalNumber(i,{unit:"week"}):tt(i,e.length)},d:function(r,e,t){return e==="do"?t.ordinalNumber(r.getDate(),{unit:"date"}):Ji.d(r,e)},D:function(r,e,t){const i=Q6(r);return e==="Do"?t.ordinalNumber(i,{unit:"dayOfYear"}):tt(i,e.length)},E:function(r,e,t){const i=r.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(i,{width:"short",context:"formatting"});case"EEEE":default:return t.day(i,{width:"wide",context:"formatting"})}},e:function(r,e,t,i){const o=r.getDay(),c=(o-i.weekStartsOn+8)%7||7;switch(e){case"e":return String(c);case"ee":return tt(c,2);case"eo":return t.ordinalNumber(c,{unit:"day"});case"eee":return t.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(o,{width:"short",context:"formatting"});case"eeee":default:return t.day(o,{width:"wide",context:"formatting"})}},c:function(r,e,t,i){const o=r.getDay(),c=(o-i.weekStartsOn+8)%7||7;switch(e){case"c":return String(c);case"cc":return tt(c,e.length);case"co":return t.ordinalNumber(c,{unit:"day"});case"ccc":return t.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(o,{width:"narrow",context:"standalone"});case"cccccc":return t.day(o,{width:"short",context:"standalone"});case"cccc":default:return t.day(o,{width:"wide",context:"standalone"})}},i:function(r,e,t){const i=r.getDay(),o=i===0?7:i;switch(e){case"i":return String(o);case"ii":return tt(o,e.length);case"io":return t.ordinalNumber(o,{unit:"day"});case"iii":return t.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(i,{width:"short",context:"formatting"});case"iiii":default:return t.day(i,{width:"wide",context:"formatting"})}},a:function(r,e,t){const o=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(r,e,t){const i=r.getHours();let o;switch(i===12?o=Do.noon:i===0?o=Do.midnight:o=i/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(r,e,t){const i=r.getHours();let o;switch(i>=17?o=Do.evening:i>=12?o=Do.afternoon:i>=4?o=Do.morning:o=Do.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(r,e,t){if(e==="ho"){let i=r.getHours()%12;return i===0&&(i=12),t.ordinalNumber(i,{unit:"hour"})}return Ji.h(r,e)},H:function(r,e,t){return e==="Ho"?t.ordinalNumber(r.getHours(),{unit:"hour"}):Ji.H(r,e)},K:function(r,e,t){const i=r.getHours()%12;return e==="Ko"?t.ordinalNumber(i,{unit:"hour"}):tt(i,e.length)},k:function(r,e,t){let i=r.getHours();return i===0&&(i=24),e==="ko"?t.ordinalNumber(i,{unit:"hour"}):tt(i,e.length)},m:function(r,e,t){return e==="mo"?t.ordinalNumber(r.getMinutes(),{unit:"minute"}):Ji.m(r,e)},s:function(r,e,t){return e==="so"?t.ordinalNumber(r.getSeconds(),{unit:"second"}):Ji.s(r,e)},S:function(r,e){return Ji.S(r,e)},X:function(r,e,t){const i=r.getTimezoneOffset();if(i===0)return"Z";switch(e){case"X":return vT(i);case"XXXX":case"XX":return da(i);case"XXXXX":case"XXX":default:return da(i,":")}},x:function(r,e,t){const i=r.getTimezoneOffset();switch(e){case"x":return vT(i);case"xxxx":case"xx":return da(i);case"xxxxx":case"xxx":default:return da(i,":")}},O:function(r,e,t){const i=r.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+yT(i,":");case"OOOO":default:return"GMT"+da(i,":")}},z:function(r,e,t){const i=r.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+yT(i,":");case"zzzz":default:return"GMT"+da(i,":")}},t:function(r,e,t){const i=Math.trunc(+r/1e3);return tt(i,e.length)},T:function(r,e,t){return tt(+r,e.length)}};function yT(r,e=""){const t=r>0?"-":"+",i=Math.abs(r),o=Math.trunc(i/60),c=i%60;return c===0?t+String(o):t+String(o)+e+tt(c,2)}function vT(r,e){return r%60===0?(r>0?"-":"+")+tt(Math.abs(r)/60,2):da(r,e)}function da(r,e=""){const t=r>0?"-":"+",i=Math.abs(r),o=tt(Math.trunc(i/60),2),c=tt(i%60,2);return t+o+e+c}const _T=(r,e)=>{switch(r){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},TA=(r,e)=>{switch(r){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Z6=(r,e)=>{const t=r.match(/(P+)(p+)?/)||[],i=t[1],o=t[2];if(!o)return _T(r,e);let c;switch(i){case"P":c=e.dateTime({width:"short"});break;case"PP":c=e.dateTime({width:"medium"});break;case"PPP":c=e.dateTime({width:"long"});break;case"PPPP":default:c=e.dateTime({width:"full"});break}return c.replace("{{date}}",_T(i,e)).replace("{{time}}",TA(o,e))},J6={p:TA,P:Z6},eL=/^D+$/,tL=/^Y+$/,nL=["D","DD","YY","YYYY"];function rL(r){return eL.test(r)}function iL(r){return tL.test(r)}function sL(r,e,t){const i=aL(r,e,t);if(console.warn(i),nL.includes(r))throw new RangeError(i)}function aL(r,e,t){const i=r[0]==="Y"?"years":"days of the month";return`Use \`${r.toLowerCase()}\` instead of \`${r}\` (in \`${e}\`) for formatting ${i} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const oL=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,lL=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,cL=/^'([^]*?)'?$/,uL=/''/g,hL=/[a-zA-Z]/;function ha(r,e,t){var v,w,T,D;const i=au(),o=i.locale??EA,c=i.firstWeekContainsDate??((w=(v=i.locale)==null?void 0:v.options)==null?void 0:w.firstWeekContainsDate)??1,h=i.weekStartsOn??((D=(T=i.locale)==null?void 0:T.options)==null?void 0:D.weekStartsOn)??0,d=Yt(r,t==null?void 0:t.in);if(!a6(d))throw new RangeError("Invalid time value");let g=e.match(lL).map(P=>{const R=P[0];if(R==="p"||R==="P"){const I=J6[R];return I(P,o.formatLong)}return P}).join("").match(oL).map(P=>{if(P==="''")return{isToken:!1,value:"'"};const R=P[0];if(R==="'")return{isToken:!1,value:fL(P)};if(pT[R])return{isToken:!0,value:P};if(R.match(hL))throw new RangeError("Format string contains an unescaped latin alphabet character `"+R+"`");return{isToken:!1,value:P}});o.localize.preprocessor&&(g=o.localize.preprocessor(d,g));const p={firstWeekContainsDate:c,weekStartsOn:h,locale:o};return g.map(P=>{if(!P.isToken)return P.value;const R=P.value;(iL(R)||rL(R))&&sL(R,e,String(r));const I=pT[R[0]];return I(d,R,o.localize,p)}).join("")}function fL(r){const e=r.match(cL);return e?e[1].replace(uL,"'"):r}function dL(r,e,t){const i=au(),o=(t==null?void 0:t.locale)??i.locale??EA,c=2520,h=af(r,e);if(isNaN(h))throw new RangeError("Invalid time value");const d=Object.assign({},t,{addSuffix:t==null?void 0:t.addSuffix,comparison:h}),[g,p]=cd(t==null?void 0:t.in,...h>0?[e,r]:[r,e]),v=m6(p,g),w=(Of(p)-Of(g))/1e3,T=Math.round((v-w)/60);let D;if(T<2)return t!=null&&t.includeSeconds?v<5?o.formatDistance("lessThanXSeconds",5,d):v<10?o.formatDistance("lessThanXSeconds",10,d):v<20?o.formatDistance("lessThanXSeconds",20,d):v<40?o.formatDistance("halfAMinute",0,d):v<60?o.formatDistance("lessThanXMinutes",1,d):o.formatDistance("xMinutes",1,d):T===0?o.formatDistance("lessThanXMinutes",1,d):o.formatDistance("xMinutes",T,d);if(T<45)return o.formatDistance("xMinutes",T,d);if(T<90)return o.formatDistance("aboutXHours",1,d);if(T<dT){const P=Math.round(T/60);return o.formatDistance("aboutXHours",P,d)}else{if(T<c)return o.formatDistance("xDays",1,d);if(T<Gh){const P=Math.round(T/dT);return o.formatDistance("xDays",P,d)}else if(T<Gh*2)return D=Math.round(T/Gh),o.formatDistance("aboutXMonths",D,d)}if(D=d6(p,g),D<12){const P=Math.round(T/Gh);return o.formatDistance("xMonths",P,d)}else{const P=D%12,R=Math.trunc(D/12);return P<3?o.formatDistance("aboutXYears",R,d):P<9?o.formatDistance("overXYears",R,d):o.formatDistance("almostXYears",R+1,d)}}function Ap(r,e){return dL(r,i6(r),e)}const mL=({onChatSelect:r})=>{const{currentUser:e}=Rs(),[t,i]=L.useState([]),[o,c]=L.useState(""),[h,d]=L.useState(!0);L.useEffect(()=>{if(!e)return;const T=qc(ds(kn,"chats"),as("participants","array-contains",e.uid),Dc("lastMessage.timestamp","desc"));return Rf(T,P=>{const R=[];P.forEach(I=>{const G=I.data();R.push({id:I.id,...G})}),i(R),d(!1)})},[e]);const g=t.filter(T=>{var P,R;const D=o.toLowerCase();if(T.isGroup)return(P=T.groupName)==null?void 0:P.toLowerCase().includes(D);{const I=T.participants.find(ee=>ee!==(e==null?void 0:e.uid)),G=I?T.participantDetails[I]:null;return(R=G==null?void 0:G.displayName)==null?void 0:R.toLowerCase().includes(D)}}),p=T=>{var P;if(T.isGroup)return T.groupName||"Group Chat";const D=T.participants.find(R=>R!==(e==null?void 0:e.uid));return D&&((P=T.participantDetails[D])==null?void 0:P.displayName)||"Unknown User"},v=T=>{var P;if(T.isGroup)return T.groupPhoto;const D=T.participants.find(R=>R!==(e==null?void 0:e.uid));return D?(P=T.participantDetails[D])==null?void 0:P.photoURL:void 0},w=T=>T.split(" ").map(D=>D[0]).join("").toUpperCase().slice(0,2);return h?E.jsx("div",{className:"p-4",children:E.jsx("div",{className:"space-y-3",children:[1,2,3].map(T=>E.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-lg animate-pulse",children:[E.jsx("div",{className:"h-12 w-12 bg-gray-200 rounded-full"}),E.jsxs("div",{className:"flex-1 space-y-2",children:[E.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),E.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})]},T))})}):E.jsxs("div",{className:"flex flex-col h-full",children:[E.jsx("div",{className:"p-4 border-b border-gray-200",children:E.jsxs("div",{className:"relative",children:[E.jsx(nf,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400"}),E.jsx(va,{placeholder:"Search chats...",value:o,onChange:T=>c(T.target.value),className:"pl-10"})]})}),E.jsx("div",{className:"p-4",children:E.jsx(JV,{onChatCreated:r?T=>{console.log("New chat created:",T)}:void 0})}),E.jsx("div",{className:"flex-1 overflow-y-auto",children:g.length===0?E.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center p-8",children:[E.jsx(gi,{className:"h-12 w-12 text-gray-300 mb-4"}),E.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No chats yet"}),E.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Start a new conversation to see your chats here"}),E.jsx(Nt,{variant:"outline",size:"sm",children:"Start Chatting"})]}):E.jsx("div",{className:"space-y-1 p-2",children:g.map(T=>{var D,P,R;return E.jsxs("div",{onClick:()=>r==null?void 0:r(T),className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-50 cursor-pointer transition-colors",children:[E.jsxs(xa,{className:"h-12 w-12",children:[E.jsx(Ra,{src:v(T)}),E.jsx(Ia,{className:"bg-blue-600 text-white",children:w(p(T))})]}),E.jsxs("div",{className:"flex-1 min-w-0",children:[E.jsxs("div",{className:"flex items-center justify-between mb-1",children:[E.jsx("h4",{className:"text-sm font-medium text-gray-900 truncate",children:p(T)}),E.jsx("span",{className:"text-xs text-gray-500",children:T.lastMessage&&Ap(T.lastMessage.timestamp.toDate(),{addSuffix:!0})})]}),E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsx("p",{className:"text-sm text-gray-600 truncate",children:((D=T.lastMessage)==null?void 0:D.type)==="image"?" Image":((P=T.lastMessage)==null?void 0:P.type)==="file"?" File":((R=T.lastMessage)==null?void 0:R.text)||"No messages yet"}),T.unreadCount>0&&E.jsx(Tp,{variant:"default",className:"bg-blue-600 text-white text-xs",children:T.unreadCount})]})]})]},T.id)})})})]})},gL=()=>{const{currentUser:r,userProfile:e}=Rs(),[t,i]=L.useState([]),[o,c]=L.useState([]),[h,d]=L.useState(!0),[g,p]=L.useState("");L.useEffect(()=>{if(!r)return;const R=qc(ds(kn,"statuses"),as("userId","!=",r.uid),as("expiresAt",">",new Date),Dc("userId"),Dc("timestamp","desc")),I=qc(ds(kn,"statuses"),as("userId","==",r.uid),as("expiresAt",">",new Date),Dc("timestamp","desc")),G=Rf(R,X=>{const re=[];X.forEach(oe=>{const fe=oe.data();fe.content.type==="text"&&re.push({id:oe.id,...fe})}),i(re)}),ee=Rf(I,X=>{const re=[];X.forEach(oe=>{const fe=oe.data();fe.content.type==="text"&&re.push({id:oe.id,...fe})}),c(re),d(!1)});return()=>{G(),ee()}},[r]);const v=async()=>{if(!g.trim()||!r||!e)return;const R=new Date,I=new Date(R.getTime()+24*60*60*1e3);try{await Sy(ds(kn,"statuses"),{userId:r.uid,userDetails:{displayName:e.displayName,photoURL:e.photoURL||r.photoURL||""},content:{type:"text",text:g},timestamp:Qe.fromDate(R),expiresAt:Qe.fromDate(I),viewers:[]}),p("")}catch(G){console.error("Error adding status:",G)}},w=async R=>{try{await fM(qo(kn,"statuses",R))}catch(I){console.error("Error deleting status:",I)}},T=async R=>{!r||R.viewers.includes(r.uid)||console.log(`Viewed status ${R.id}`)},D=R=>R.split(" ").map(I=>I[0]).join("").toUpperCase().slice(0,2),P=t.reduce((R,I)=>(R[I.userId]||(R[I.userId]=[]),R[I.userId].push(I),R),{});return h?E.jsx("div",{className:"p-4",children:E.jsx("div",{className:"space-y-3",children:[1,2,3].map(R=>E.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-lg animate-pulse",children:[E.jsx("div",{className:"h-12 w-12 bg-gray-200 rounded-full"}),E.jsxs("div",{className:"flex-1 space-y-2",children:[E.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),E.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})]},R))})}):E.jsxs("div",{className:"flex flex-col h-full",children:[E.jsxs("div",{className:"p-4 border-b border-gray-200 space-y-4",children:[E.jsx("h3",{className:"font-semibold text-gray-900",children:"My Status"}),E.jsxs("div",{className:"flex items-center space-x-3",children:[E.jsxs("div",{className:"relative",children:[E.jsxs(xa,{className:"h-12 w-12",children:[E.jsx(Ra,{src:(e==null?void 0:e.photoURL)||(r==null?void 0:r.photoURL)||void 0}),E.jsx(Ia,{className:"bg-blue-600 text-white",children:D((e==null?void 0:e.displayName)||"")})]}),o.length===0&&E.jsx("div",{className:"absolute -bottom-1 -right-1 h-6 w-6 bg-blue-600 rounded-full flex items-center justify-center",children:E.jsx(yS,{className:"h-3 w-3 text-white"})})]}),E.jsxs("div",{className:"flex-1",children:[E.jsx("p",{className:"font-medium text-sm",children:e==null?void 0:e.displayName}),E.jsx("p",{className:"text-xs text-gray-500",children:o.length>0?`${o.length} status${o.length>1?"es":""}`:"Tap to add status"})]})]}),o.length>0&&E.jsx("div",{className:"space-y-2",children:o.map(R=>E.jsx(os,{className:"relative",children:E.jsx(ls,{className:"p-3",children:E.jsxs("div",{className:"flex items-start justify-between",children:[E.jsxs("div",{className:"flex-1",children:[E.jsx("p",{className:"text-sm",children:R.content.text}),E.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[E.jsx(gS,{className:"h-3 w-3 text-gray-400"}),E.jsx("span",{className:"text-xs text-gray-500",children:Ap(R.timestamp.toDate(),{addSuffix:!0})}),E.jsx(Qb,{className:"h-3 w-3 text-gray-400"}),E.jsx("span",{className:"text-xs text-gray-500",children:R.viewers.length})]})]}),E.jsx(Nt,{variant:"ghost",size:"sm",onClick:()=>w(R.id),className:"text-red-600 hover:text-red-700",children:"Delete"})]})})},R.id))}),E.jsxs("div",{className:"space-y-2",children:[E.jsxs("div",{className:"flex space-x-2",children:[E.jsx("input",{type:"text",placeholder:"Share your thoughts...",value:g,onChange:R=>p(R.target.value),className:"flex-1 px-3 py-2 border border-gray-200 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",onKeyPress:R=>R.key==="Enter"&&v()}),E.jsx(Nt,{onClick:v,disabled:!g.trim(),size:"sm",children:"Post"})]}),E.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300",children:[E.jsxs("div",{className:"flex items-center justify-center space-x-2 text-gray-400",children:[E.jsx(vS,{className:"h-4 w-4"}),E.jsx("span",{className:"text-sm",children:"Photo uploads require Firebase Storage"})]}),E.jsx("p",{className:"text-xs text-gray-500 text-center mt-1",children:"Enable Storage to share photos in status updates"})]})]})]}),E.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[E.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Recent updates"}),Object.keys(P).length===0?E.jsxs("div",{className:"text-center py-8",children:[E.jsx(Qb,{className:"mx-auto h-12 w-12 text-gray-300 mb-4"}),E.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"No status updates"}),E.jsx("p",{className:"text-sm text-gray-500",children:"Status updates from your contacts will appear here"})]}):E.jsx("div",{className:"space-y-3",children:Object.entries(P).map(([R,I])=>{const G=I[0],ee=I.some(X=>!X.viewers.includes((r==null?void 0:r.uid)||""));return E.jsxs("div",{onClick:()=>T(G),className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-50 cursor-pointer",children:[E.jsx("div",{className:"relative",children:E.jsxs(xa,{className:`h-12 w-12 ${ee?"ring-2 ring-blue-500":""}`,children:[E.jsx(Ra,{src:G.userDetails.photoURL}),E.jsx(Ia,{className:"bg-gray-600 text-white",children:D(G.userDetails.displayName)})]})}),E.jsxs("div",{className:"flex-1",children:[E.jsx("p",{className:"font-medium text-sm",children:G.userDetails.displayName}),E.jsx("p",{className:"text-xs text-gray-500",children:Ap(G.timestamp.toDate(),{addSuffix:!0})})]}),I.length>1&&E.jsx("span",{className:"text-xs bg-gray-200 text-gray-700 px-2 py-1 rounded-full",children:I.length})]},R)})})]})]})};function pL({className:r,...e}){return E.jsx("textarea",{"data-slot":"textarea",className:vt("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),...e})}var yL="Label",wA=L.forwardRef((r,e)=>E.jsx(Ot.label,{...r,ref:e,onMouseDown:t=>{var o;t.target.closest("button, input, select, textarea")||((o=r.onMouseDown)==null||o.call(r,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));wA.displayName=yL;var vL=wA;function Hg({className:r,...e}){return E.jsx(vL,{"data-slot":"label",className:vt("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",r),...e})}const _L=()=>{const{currentUser:r,userProfile:e,updateUserProfile:t}=Rs(),[i,o]=L.useState(!1),[c,h]=L.useState((e==null?void 0:e.displayName)||""),[d,g]=L.useState((e==null?void 0:e.bio)||""),[p,v]=L.useState(!1),w=async()=>{if(r){v(!0);try{await t({displayName:c,bio:d}),o(!1)}catch(P){console.error("Error updating profile:",P)}finally{v(!1)}}},T=P=>P.split(" ").map(R=>R[0]).join("").toUpperCase().slice(0,2),D=()=>{h((e==null?void 0:e.displayName)||""),g((e==null?void 0:e.bio)||""),o(!1)};return!r||!e?E.jsx("div",{className:"p-4",children:E.jsx("div",{className:"text-center",children:E.jsx("p",{className:"text-gray-500",children:"Loading profile..."})})}):E.jsxs("div",{className:"p-4 space-y-6 max-h-full overflow-y-auto",children:[E.jsxs(os,{children:[E.jsx(Vo,{children:E.jsxs(Lo,{className:"flex items-center space-x-2",children:[E.jsx(Ry,{className:"h-5 w-5"}),E.jsx("span",{children:"Profile Photo"})]})}),E.jsxs(ls,{className:"text-center",children:[E.jsxs(xa,{className:"h-24 w-24 mx-auto mb-4",children:[E.jsx(Ra,{src:e.photoURL||r.photoURL||void 0}),E.jsx(Ia,{className:"bg-blue-600 text-white text-xl",children:T(e.displayName)})]}),E.jsxs("div",{className:"flex items-center justify-center space-x-2 text-sm text-gray-500",children:[E.jsx(vS,{className:"h-4 w-4"}),E.jsx("span",{children:"Photo uploads require Firebase Storage"})]}),E.jsx("p",{className:"text-xs text-gray-400 mt-2",children:E.jsxs("span",{children:["Using ",r.photoURL?"Google":"default"," profile photo"]})})]})]}),E.jsxs(os,{children:[E.jsx(Vo,{children:E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsxs(Lo,{className:"flex items-center space-x-2",children:[E.jsx($b,{className:"h-5 w-5"}),E.jsx("span",{children:"Profile Information"})]}),!i&&E.jsxs(Nt,{variant:"outline",size:"sm",onClick:()=>o(!0),children:[E.jsx($b,{className:"h-4 w-4 mr-2"}),"Edit"]})]})}),E.jsxs(ls,{className:"space-y-4",children:[E.jsxs("div",{className:"space-y-2",children:[E.jsx(Hg,{htmlFor:"displayName",className:"text-sm font-medium",children:"Display Name"}),i?E.jsx(va,{id:"displayName",value:c,onChange:P=>h(P.target.value),placeholder:"Your display name"}):E.jsx("p",{className:"px-3 py-2 bg-gray-50 rounded-md text-sm",children:e.displayName||"No display name set"})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsxs(Hg,{className:"text-sm font-medium flex items-center space-x-2",children:[E.jsx(pS,{className:"h-4 w-4"}),E.jsx("span",{children:"Email"})]}),E.jsx("p",{className:"px-3 py-2 bg-gray-50 rounded-md text-sm text-gray-600",children:e.email})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx(Hg,{htmlFor:"bio",className:"text-sm font-medium",children:"Bio"}),i?E.jsx(pL,{id:"bio",value:d,onChange:P=>g(P.target.value),placeholder:"Tell us about yourself...",rows:3,maxLength:150}):E.jsx("p",{className:"px-3 py-2 bg-gray-50 rounded-md text-sm min-h-[80px]",children:e.bio||"No bio added yet"}),i&&E.jsxs("p",{className:"text-xs text-gray-500",children:[d.length,"/150 characters"]})]}),i&&E.jsxs("div",{className:"flex space-x-2 pt-4",children:[E.jsx(Nt,{onClick:w,disabled:p||!c.trim(),className:"flex-1",children:p?E.jsxs(E.Fragment,{children:[E.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):E.jsxs(E.Fragment,{children:[E.jsx(vP,{className:"h-4 w-4 mr-2"}),"Save Changes"]})}),E.jsx(Nt,{variant:"outline",onClick:D,disabled:p,children:"Cancel"})]})]})]}),E.jsxs(os,{children:[E.jsx(Vo,{children:E.jsx(Lo,{children:"Account Information"})}),E.jsxs(ls,{className:"space-y-3 text-sm text-gray-600",children:[E.jsxs("div",{className:"flex justify-between",children:[E.jsx("span",{children:"Member since:"}),E.jsx("span",{children:e.createdAt.toLocaleDateString()})]}),E.jsxs("div",{className:"flex justify-between",children:[E.jsx("span",{children:"Last active:"}),E.jsx("span",{children:e.lastActive.toLocaleDateString()})]}),E.jsxs("div",{className:"flex justify-between",children:[E.jsx("span",{children:"User ID:"}),E.jsxs("span",{className:"font-mono text-xs",children:[r.uid.slice(0,8),"..."]})]})]})]}),E.jsxs(os,{children:[E.jsx(Vo,{children:E.jsx(Lo,{children:"About E-mesg"})}),E.jsxs(ls,{className:"text-sm text-gray-600",children:[E.jsx("p",{className:"mb-2",children:"Smart conversation starts here"}),E.jsx("p",{className:"mb-2",children:"Version 1.0.0 - Built with React and Firebase"}),E.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:E.jsxs("p",{className:"text-xs text-blue-700",children:[" ",E.jsx("strong",{children:"Note:"})," Photo uploads are disabled in this version. Enable Firebase Storage to upload custom profile photos and status images."]})})]})]})]})},EL=()=>{const r=[{icon:gi,title:"Real-time Messaging",description:"Lightning-fast message delivery with Firebase Firestore",items:["Instant synchronization","Offline message queue","Message persistence"]},{icon:Iy,title:"Smart Conversations",description:"Enhanced chat experience with modern features",items:["Read receipts ( )","Typing indicators","Message timestamps"]},{icon:Xk,title:"Text Status Stories",description:"Share thoughts that disappear in 24 hours",items:["Text status updates","Auto-deletion","View tracking"]},{icon:Xb,title:"Secure & Private",description:"Built with security and privacy in mind",items:["Firebase Authentication","Secure file storage","Access controls"]},{icon:SP,title:"Responsive Design",description:"Perfect experience on any device",items:["Mobile-first design","Touch-friendly interface","Adaptive layouts"]},{icon:Wb,title:"Modern Stack",description:"Built with cutting-edge technologies",items:["React 19 + TypeScript","TailwindCSS V4","Firebase Backend"]}];return E.jsxs("div",{className:"max-w-4xl mx-auto p-6 space-y-8",children:[E.jsxs("div",{className:"text-center space-y-4",children:[E.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[E.jsx("div",{className:"h-12 w-12 bg-blue-600 rounded-full flex items-center justify-center",children:E.jsx(gi,{className:"h-6 w-6 text-white"})}),E.jsxs("div",{children:[E.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"E-mesg"}),E.jsx("p",{className:"text-gray-600",children:"Smart conversation starts here"})]})]}),E.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[E.jsxs(Tp,{variant:"secondary",className:"bg-green-100 text-green-800",children:[E.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-2"}),"Live Demo"]}),E.jsxs(Tp,{variant:"outline",children:[E.jsx(gS,{className:"w-3 h-3 mr-1"}),"Real-time"]})]})]}),E.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map((e,t)=>{const i=e.icon;return E.jsxs(os,{className:"h-full hover:shadow-lg transition-shadow",children:[E.jsxs(Vo,{className:"pb-4",children:[E.jsxs("div",{className:"flex items-center space-x-3",children:[E.jsx("div",{className:"p-2 bg-blue-50 rounded-lg",children:E.jsx(i,{className:"h-5 w-5 text-blue-600"})}),E.jsx(Lo,{className:"text-lg",children:e.title})]}),E.jsx("p",{className:"text-sm text-gray-600 mt-2",children:e.description})]}),E.jsx(ls,{className:"pt-0",children:E.jsx("ul",{className:"space-y-2",children:e.items.map((o,c)=>E.jsxs("li",{className:"flex items-center text-sm text-gray-700",children:[E.jsx(mS,{className:"h-3 w-3 text-green-500 mr-2 flex-shrink-0"}),E.jsx("span",{children:o})]},c))})})]},t)})}),E.jsx(os,{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border-blue-200",children:E.jsx(ls,{className:"p-6",children:E.jsxs("div",{className:"text-center space-y-4",children:[E.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Ready to Experience E-mesg?"}),E.jsxs("p",{className:"text-gray-600 max-w-2xl mx-auto",children:["This is a fully functional messaging app built with React, TypeScript, and Firebase. Create an account, add some friends, and start chatting in real-time!",E.jsx("span",{className:"text-blue-600 font-medium",children:"Text-only version"})," - no file uploads required."]}),E.jsxs("div",{className:"flex items-center justify-center space-x-6 text-sm text-gray-500",children:[E.jsxs("div",{className:"flex items-center space-x-1",children:[E.jsx(dS,{className:"h-4 w-4 text-green-500"}),E.jsx("span",{children:"Production Ready"})]}),E.jsxs("div",{className:"flex items-center space-x-1",children:[E.jsx(Wb,{className:"h-4 w-4 text-yellow-500"}),E.jsx("span",{children:"Real-time Updates"})]}),E.jsxs("div",{className:"flex items-center space-x-1",children:[E.jsx(Xb,{className:"h-4 w-4 text-blue-500"}),E.jsx("span",{children:"Secure"})]})]})]})})}),E.jsxs("div",{className:"text-center text-xs text-gray-400 space-y-1",children:[E.jsx("p",{children:"Built with Scout - Version 1.0.0"}),E.jsx("p",{children:"Powered by React 19, Firebase, and TailwindCSS"})]})]})},bL=({onChatSelect:r})=>{const{currentUser:e,userProfile:t,logout:i}=Rs(),[o,c]=L.useState("chats"),h=async()=>{try{await i()}catch(d){console.error("Logout failed:",d)}};return!e||!t?E.jsx("div",{className:"flex min-h-screen items-center justify-center",children:E.jsxs("div",{className:"text-center",children:[E.jsx(gi,{className:"mx-auto mb-4 h-12 w-12 text-blue-600"}),E.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):E.jsxs("div",{className:"flex h-screen bg-gray-50",children:[E.jsxs("div",{className:"w-80 bg-white border-r border-gray-200 flex flex-col",children:[E.jsx("div",{className:"p-4 border-b border-gray-200",children:E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsxs("div",{className:"flex items-center space-x-3",children:[E.jsx("div",{className:"h-10 w-10 bg-blue-600 rounded-full flex items-center justify-center",children:E.jsx(gi,{className:"h-5 w-5 text-white"})}),E.jsxs("div",{children:[E.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"E-mesg"}),E.jsx("p",{className:"text-xs text-gray-500",children:"Smart conversation starts here"})]})]}),E.jsx(Nt,{variant:"ghost",size:"sm",onClick:h,children:E.jsx(lP,{className:"h-4 w-4"})})]})}),E.jsxs(f4,{value:o,onValueChange:c,className:"flex-1 flex flex-col",children:[E.jsxs(d4,{className:"grid w-full grid-cols-3 m-4",children:[E.jsxs(Og,{value:"chats",className:"flex items-center space-x-2",children:[E.jsx(gi,{className:"h-4 w-4"}),E.jsx("span",{children:"Chats"})]}),E.jsxs(Og,{value:"status",className:"flex items-center space-x-2",children:[E.jsx(Iy,{className:"h-4 w-4"}),E.jsx("span",{children:"Status"})]}),E.jsxs(Og,{value:"profile",className:"flex items-center space-x-2",children:[E.jsx(Ry,{className:"h-4 w-4"}),E.jsx("span",{children:"Profile"})]})]}),E.jsxs("div",{className:"flex-1 overflow-hidden",children:[E.jsx(Mg,{value:"chats",className:"h-full m-0",children:E.jsx(mL,{onChatSelect:d=>{r==null||r({id:d.id,name:d.isGroup?d.groupName||"Group Chat":(()=>{var p;const g=d.participants.find(v=>v!==(e==null?void 0:e.uid));return g&&((p=d.participantDetails[g])==null?void 0:p.displayName)||"Unknown User"})(),photo:d.isGroup?d.groupPhoto:(()=>{var p;const g=d.participants.find(v=>v!==(e==null?void 0:e.uid));return g?(p=d.participantDetails[g])==null?void 0:p.photoURL:void 0})(),isGroup:d.isGroup,participants:d.participants})}})}),E.jsx(Mg,{value:"status",className:"h-full m-0",children:E.jsx(gL,{})}),E.jsx(Mg,{value:"profile",className:"h-full m-0",children:E.jsx(_L,{})})]})]})]}),E.jsx("div",{className:"flex-1 overflow-auto bg-white",children:E.jsx(EL,{})})]})},TL=({chatId:r,chatName:e,chatPhoto:t,isGroup:i,participants:o,onBack:c})=>{const{currentUser:h,userProfile:d}=Rs(),[g,p]=L.useState([]),[v,w]=L.useState(""),[T,D]=L.useState(!0),[P,R]=L.useState(!1),I=L.useRef(null),G=()=>{var k;(k=I.current)==null||k.scrollIntoView({behavior:"smooth"})};L.useEffect(()=>{G()},[g]),L.useEffect(()=>{if(!r)return;const k=qc(ds(kn,"messages"),as("chatId","==",r),Dc("timestamp","asc"));return Rf(k,z=>{const N=[];z.forEach(Me=>{N.push({id:Me.id,...Me.data()})}),p(N),D(!1)})},[r]);const ee=async()=>{if(!v.trim()||!h||!d)return;const k={chatId:r,senderId:h.uid,senderDetails:{displayName:d.displayName,photoURL:d.photoURL||""},content:{type:"text",text:v.trim()},timestamp:Qe.now(),readBy:[h.uid],reactions:{}};try{await Sy(ds(kn,"messages"),k),await hM(qo(kn,"chats",r),{lastMessage:{text:v.trim(),senderId:h.uid,timestamp:Qe.now(),type:"text"}}),w("")}catch(V){console.error("Error sending message:",V)}},X=k=>{k.key==="Enter"&&!k.shiftKey&&(k.preventDefault(),ee())},re=k=>k.split(" ").map(V=>V[0]).join("").toUpperCase().slice(0,2),oe=k=>k.senderId===(h==null?void 0:h.uid)?k.readBy.length>1:k.readBy.includes((h==null?void 0:h.uid)||""),fe=k=>{const V=k.toDate(),N=new Date().getTime()-V.getTime(),Me=Math.floor(N/(1e3*60*60*24));return Me===0?ha(V,"HH:mm"):Me===1?`Yesterday ${ha(V,"HH:mm")}`:Me<7?ha(V,"EEEE HH:mm"):ha(V,"dd/MM/yyyy HH:mm")},M=k=>{const V={};return k.forEach(z=>{const N=z.timestamp.toDate(),Me=ha(N,"yyyy-MM-dd");V[Me]||(V[Me]=[]),V[Me].push(z)}),V},x=k=>{const V=new Date(k),N=Math.floor((new Date().getTime()-V.getTime())/(1e3*60*60*24));return N===0?"Today":N===1?"Yesterday":N<7?ha(V,"EEEE"):ha(V,"dd MMMM yyyy")},C=M(g);return E.jsxs("div",{className:"flex flex-col h-full bg-white",children:[E.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 bg-white",children:[E.jsxs("div",{className:"flex items-center space-x-3",children:[E.jsx(Nt,{variant:"ghost",size:"sm",onClick:c,className:"lg:hidden",children:E.jsx(Qk,{className:"h-5 w-5"})}),E.jsxs(xa,{className:"h-10 w-10",children:[E.jsx(Ra,{src:t}),E.jsx(Ia,{className:"bg-blue-600 text-white",children:re(e)})]}),E.jsxs("div",{className:"flex-1",children:[E.jsx("h2",{className:"font-semibold text-gray-900",children:e}),E.jsx("p",{className:"text-xs text-gray-500",children:i?`${o.length} members`:"Click here for contact info"})]})]}),E.jsxs("div",{className:"flex items-center space-x-2",children:[E.jsx(Nt,{variant:"ghost",size:"sm",children:E.jsx(gP,{className:"h-5 w-5"})}),E.jsx(Nt,{variant:"ghost",size:"sm",children:E.jsx(DP,{className:"h-5 w-5"})}),E.jsx(Nt,{variant:"ghost",size:"sm",children:E.jsx(rP,{className:"h-5 w-5"})})]})]}),E.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50",children:[T?E.jsx("div",{className:"flex justify-center items-center h-full",children:E.jsx("div",{className:"text-gray-500",children:"Loading messages..."})}):Object.keys(C).length===0?E.jsx("div",{className:"flex flex-col items-center justify-center h-full text-center",children:E.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[E.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No messages yet"}),E.jsx("p",{className:"text-sm text-gray-500",children:"Start the conversation by sending a message below"})]})}):Object.entries(C).map(([k,V])=>E.jsxs("div",{className:"space-y-4",children:[E.jsx("div",{className:"flex justify-center",children:E.jsx("div",{className:"bg-white px-3 py-1 rounded-full text-xs text-gray-600 shadow-sm",children:x(k)})}),V.map(z=>{const N=z.senderId===(h==null?void 0:h.uid),Me=!N&&i;return E.jsxs("div",{className:`flex ${N?"justify-end":"justify-start"} ${Me?"items-end space-x-2":""}`,children:[Me&&E.jsxs(xa,{className:"h-8 w-8 mb-1",children:[E.jsx(Ra,{src:z.senderDetails.photoURL}),E.jsx(Ia,{className:"bg-gray-600 text-white text-xs",children:re(z.senderDetails.displayName)})]}),E.jsxs("div",{className:`max-w-xs lg:max-w-md px-4 py-2 rounded-2xl ${N?"bg-blue-600 text-white":"bg-white text-gray-900 shadow-sm"}`,children:[Me&&E.jsx("p",{className:"text-xs text-gray-600 mb-1",children:z.senderDetails.displayName}),z.content.type==="text"&&E.jsx("p",{className:"text-sm whitespace-pre-wrap",children:z.content.text}),E.jsxs("div",{className:`flex items-center justify-end space-x-1 mt-1 ${N?"text-blue-100":"text-gray-500"}`,children:[E.jsx("span",{className:"text-xs",children:fe(z.timestamp)}),N&&E.jsx("div",{className:"flex items-center",children:oe(z)?E.jsx(dS,{className:"h-3 w-3"}):E.jsx(mS,{className:"h-3 w-3"})})]})]})]},z.id)})]},k)),E.jsx("div",{ref:I})]}),E.jsx("div",{className:"p-4 bg-white border-t border-gray-200",children:E.jsxs("div",{className:"flex items-center space-x-2",children:[E.jsx(Nt,{variant:"ghost",size:"sm",children:E.jsx(fP,{className:"h-5 w-5"})}),E.jsxs("div",{className:"flex-1 relative",children:[E.jsx(va,{value:v,onChange:k=>w(k.target.value),onKeyPress:X,placeholder:"Type a message...",className:"pr-10"}),E.jsx(Nt,{variant:"ghost",size:"sm",className:"absolute right-2 top-1/2 -translate-y-1/2",children:E.jsx(xP,{className:"h-4 w-4"})})]}),E.jsx(Nt,{onClick:ee,disabled:!v.trim(),children:E.jsx(bP,{className:"h-4 w-4"})})]})})]})},wL=()=>{const{currentUser:r}=Rs(),[e,t]=L.useState(!0),[i,o]=L.useState(null);return r?i?E.jsx(TL,{chatId:i.id,chatName:i.name,chatPhoto:i.photo,isGroup:i.isGroup,participants:i.participants,onBack:()=>o(null)}):E.jsx(bL,{onChatSelect:o}):E.jsx(PP,{isLogin:e,onToggle:()=>t(!e)})};function SL(){return E.jsx(YM,{children:E.jsx("div",{className:"h-screen bg-gray-50",children:E.jsx(wL,{})})})}rR.createRoot(document.getElementById("root")).render(E.jsx(L.StrictMode,{children:E.jsx(SL,{})}));
