function Rx(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in n)){const c=Object.getOwnPropertyDescriptor(i,o);c&&Object.defineProperty(n,o,c.get?c:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(o){if(o.ep)return;o.ep=!0;const c=t(o);fetch(o.href,c)}})();function kT(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var yp={exports:{}},vc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sE;function xx(){if(sE)return vc;sE=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,o,c){var h=null;if(c!==void 0&&(h=""+c),o.key!==void 0&&(h=""+o.key),"key"in o){c={};for(var d in o)d!=="key"&&(c[d]=o[d])}else c=o;return o=c.ref,{$$typeof:n,type:i,key:h,ref:o!==void 0?o:null,props:c}}return vc.Fragment=e,vc.jsx=t,vc.jsxs=t,vc}var aE;function Ix(){return aE||(aE=1,yp.exports=xx()),yp.exports}var E=Ix(),vp={exports:{}},Ne={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oE;function Nx(){if(oE)return Ne;oE=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),w=Symbol.iterator;function T(U){return U===null||typeof U!="object"?null:(U=w&&U[w]||U["@@iterator"],typeof U=="function"?U:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,I={};function x(U,ie,ue){this.props=U,this.context=ie,this.refs=I,this.updater=ue||C}x.prototype.isReactComponent={},x.prototype.setState=function(U,ie){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,ie,"setState")},x.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function B(){}B.prototype=x.prototype;function X(U,ie,ue){this.props=U,this.context=ie,this.refs=I,this.updater=ue||C}var W=X.prototype=new B;W.constructor=X,L(W,x.prototype),W.isPureReactComponent=!0;var J=Array.isArray,oe={H:null,A:null,T:null,S:null,V:null},he=Object.prototype.hasOwnProperty;function M(U,ie,ue,se,me,Ie){return ue=Ie.ref,{$$typeof:n,type:U,key:ie,ref:ue!==void 0?ue:null,props:Ie}}function R(U,ie){return M(U.type,ie,void 0,void 0,void 0,U.props)}function D(U){return typeof U=="object"&&U!==null&&U.$$typeof===n}function k(U){var ie={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(ue){return ie[ue]})}var V=/\/+/g;function z(U,ie){return typeof U=="object"&&U!==null&&U.key!=null?k(""+U.key):ie.toString(36)}function N(){}function Me(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(N,N):(U.status="pending",U.then(function(ie){U.status==="pending"&&(U.status="fulfilled",U.value=ie)},function(ie){U.status==="pending"&&(U.status="rejected",U.reason=ie)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function Ke(U,ie,ue,se,me){var Ie=typeof U;(Ie==="undefined"||Ie==="boolean")&&(U=null);var Te=!1;if(U===null)Te=!0;else switch(Ie){case"bigint":case"string":case"number":Te=!0;break;case"object":switch(U.$$typeof){case n:case e:Te=!0;break;case v:return Te=U._init,Ke(Te(U._payload),ie,ue,se,me)}}if(Te)return me=me(U),Te=se===""?"."+z(U,0):se,J(me)?(ue="",Te!=null&&(ue=Te.replace(V,"$&/")+"/"),Ke(me,ie,ue,"",function(fn){return fn})):me!=null&&(D(me)&&(me=R(me,ue+(me.key==null||U&&U.key===me.key?"":(""+me.key).replace(V,"$&/")+"/")+Te)),ie.push(me)),1;Te=0;var ke=se===""?".":se+":";if(J(U))for(var We=0;We<U.length;We++)se=U[We],Ie=ke+z(se,We),Te+=Ke(se,ie,ue,Ie,me);else if(We=T(U),typeof We=="function")for(U=We.call(U),We=0;!(se=U.next()).done;)se=se.value,Ie=ke+z(se,We++),Te+=Ke(se,ie,ue,Ie,me);else if(Ie==="object"){if(typeof U.then=="function")return Ke(Me(U),ie,ue,se,me);throw ie=String(U),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return Te}function Q(U,ie,ue){if(U==null)return U;var se=[],me=0;return Ke(U,se,"","",function(Ie){return ie.call(ue,Ie,me++)}),se}function le(U){if(U._status===-1){var ie=U._result;ie=ie(),ie.then(function(ue){(U._status===0||U._status===-1)&&(U._status=1,U._result=ue)},function(ue){(U._status===0||U._status===-1)&&(U._status=2,U._result=ue)}),U._status===-1&&(U._status=0,U._result=ie)}if(U._status===1)return U._result.default;throw U._result}var ae=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)};function ze(){}return Ne.Children={map:Q,forEach:function(U,ie,ue){Q(U,function(){ie.apply(this,arguments)},ue)},count:function(U){var ie=0;return Q(U,function(){ie++}),ie},toArray:function(U){return Q(U,function(ie){return ie})||[]},only:function(U){if(!D(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},Ne.Component=x,Ne.Fragment=t,Ne.Profiler=o,Ne.PureComponent=X,Ne.StrictMode=i,Ne.Suspense=p,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=oe,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(U){return oe.H.useMemoCache(U)}},Ne.cache=function(U){return function(){return U.apply(null,arguments)}},Ne.cloneElement=function(U,ie,ue){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var se=L({},U.props),me=U.key,Ie=void 0;if(ie!=null)for(Te in ie.ref!==void 0&&(Ie=void 0),ie.key!==void 0&&(me=""+ie.key),ie)!he.call(ie,Te)||Te==="key"||Te==="__self"||Te==="__source"||Te==="ref"&&ie.ref===void 0||(se[Te]=ie[Te]);var Te=arguments.length-2;if(Te===1)se.children=ue;else if(1<Te){for(var ke=Array(Te),We=0;We<Te;We++)ke[We]=arguments[We+2];se.children=ke}return M(U.type,me,void 0,void 0,Ie,se)},Ne.createContext=function(U){return U={$$typeof:h,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:c,_context:U},U},Ne.createElement=function(U,ie,ue){var se,me={},Ie=null;if(ie!=null)for(se in ie.key!==void 0&&(Ie=""+ie.key),ie)he.call(ie,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(me[se]=ie[se]);var Te=arguments.length-2;if(Te===1)me.children=ue;else if(1<Te){for(var ke=Array(Te),We=0;We<Te;We++)ke[We]=arguments[We+2];me.children=ke}if(U&&U.defaultProps)for(se in Te=U.defaultProps,Te)me[se]===void 0&&(me[se]=Te[se]);return M(U,Ie,void 0,void 0,null,me)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(U){return{$$typeof:d,render:U}},Ne.isValidElement=D,Ne.lazy=function(U){return{$$typeof:v,_payload:{_status:-1,_result:U},_init:le}},Ne.memo=function(U,ie){return{$$typeof:g,type:U,compare:ie===void 0?null:ie}},Ne.startTransition=function(U){var ie=oe.T,ue={};oe.T=ue;try{var se=U(),me=oe.S;me!==null&&me(ue,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(ze,ae)}catch(Ie){ae(Ie)}finally{oe.T=ie}},Ne.unstable_useCacheRefresh=function(){return oe.H.useCacheRefresh()},Ne.use=function(U){return oe.H.use(U)},Ne.useActionState=function(U,ie,ue){return oe.H.useActionState(U,ie,ue)},Ne.useCallback=function(U,ie){return oe.H.useCallback(U,ie)},Ne.useContext=function(U){return oe.H.useContext(U)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(U,ie){return oe.H.useDeferredValue(U,ie)},Ne.useEffect=function(U,ie,ue){var se=oe.H;if(typeof ue=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return se.useEffect(U,ie)},Ne.useId=function(){return oe.H.useId()},Ne.useImperativeHandle=function(U,ie,ue){return oe.H.useImperativeHandle(U,ie,ue)},Ne.useInsertionEffect=function(U,ie){return oe.H.useInsertionEffect(U,ie)},Ne.useLayoutEffect=function(U,ie){return oe.H.useLayoutEffect(U,ie)},Ne.useMemo=function(U,ie){return oe.H.useMemo(U,ie)},Ne.useOptimistic=function(U,ie){return oe.H.useOptimistic(U,ie)},Ne.useReducer=function(U,ie,ue){return oe.H.useReducer(U,ie,ue)},Ne.useRef=function(U){return oe.H.useRef(U)},Ne.useState=function(U){return oe.H.useState(U)},Ne.useSyncExternalStore=function(U,ie,ue){return oe.H.useSyncExternalStore(U,ie,ue)},Ne.useTransition=function(){return oe.H.useTransition()},Ne.version="19.1.0",Ne}var lE;function zf(){return lE||(lE=1,vp.exports=Nx()),vp.exports}var P=zf();const rs=kT(P),PT=Rx({__proto__:null,default:rs},[P]);var _p={exports:{}},_c={},Ep={exports:{}},bp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cE;function Cx(){return cE||(cE=1,function(n){function e(Q,le){var ae=Q.length;Q.push(le);e:for(;0<ae;){var ze=ae-1>>>1,U=Q[ze];if(0<o(U,le))Q[ze]=le,Q[ae]=U,ae=ze;else break e}}function t(Q){return Q.length===0?null:Q[0]}function i(Q){if(Q.length===0)return null;var le=Q[0],ae=Q.pop();if(ae!==le){Q[0]=ae;e:for(var ze=0,U=Q.length,ie=U>>>1;ze<ie;){var ue=2*(ze+1)-1,se=Q[ue],me=ue+1,Ie=Q[me];if(0>o(se,ae))me<U&&0>o(Ie,se)?(Q[ze]=Ie,Q[me]=ae,ze=me):(Q[ze]=se,Q[ue]=ae,ze=ue);else if(me<U&&0>o(Ie,ae))Q[ze]=Ie,Q[me]=ae,ze=me;else break e}}return le}function o(Q,le){var ae=Q.sortIndex-le.sortIndex;return ae!==0?ae:Q.id-le.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;n.unstable_now=function(){return c.now()}}else{var h=Date,d=h.now();n.unstable_now=function(){return h.now()-d}}var p=[],g=[],v=1,w=null,T=3,C=!1,L=!1,I=!1,x=!1,B=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;function J(Q){for(var le=t(g);le!==null;){if(le.callback===null)i(g);else if(le.startTime<=Q)i(g),le.sortIndex=le.expirationTime,e(p,le);else break;le=t(g)}}function oe(Q){if(I=!1,J(Q),!L)if(t(p)!==null)L=!0,he||(he=!0,z());else{var le=t(g);le!==null&&Ke(oe,le.startTime-Q)}}var he=!1,M=-1,R=5,D=-1;function k(){return x?!0:!(n.unstable_now()-D<R)}function V(){if(x=!1,he){var Q=n.unstable_now();D=Q;var le=!0;try{e:{L=!1,I&&(I=!1,X(M),M=-1),C=!0;var ae=T;try{t:{for(J(Q),w=t(p);w!==null&&!(w.expirationTime>Q&&k());){var ze=w.callback;if(typeof ze=="function"){w.callback=null,T=w.priorityLevel;var U=ze(w.expirationTime<=Q);if(Q=n.unstable_now(),typeof U=="function"){w.callback=U,J(Q),le=!0;break t}w===t(p)&&i(p),J(Q)}else i(p);w=t(p)}if(w!==null)le=!0;else{var ie=t(g);ie!==null&&Ke(oe,ie.startTime-Q),le=!1}}break e}finally{w=null,T=ae,C=!1}le=void 0}}finally{le?z():he=!1}}}var z;if(typeof W=="function")z=function(){W(V)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,Me=N.port2;N.port1.onmessage=V,z=function(){Me.postMessage(null)}}else z=function(){B(V,0)};function Ke(Q,le){M=B(function(){Q(n.unstable_now())},le)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Q){Q.callback=null},n.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Q?Math.floor(1e3/Q):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_next=function(Q){switch(T){case 1:case 2:case 3:var le=3;break;default:le=T}var ae=T;T=le;try{return Q()}finally{T=ae}},n.unstable_requestPaint=function(){x=!0},n.unstable_runWithPriority=function(Q,le){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ae=T;T=Q;try{return le()}finally{T=ae}},n.unstable_scheduleCallback=function(Q,le,ae){var ze=n.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?ze+ae:ze):ae=ze,Q){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=ae+U,Q={id:v++,callback:le,priorityLevel:Q,startTime:ae,expirationTime:U,sortIndex:-1},ae>ze?(Q.sortIndex=ae,e(g,Q),t(p)===null&&Q===t(g)&&(I?(X(M),M=-1):I=!0,Ke(oe,ae-ze))):(Q.sortIndex=U,e(p,Q),L||C||(L=!0,he||(he=!0,z()))),Q},n.unstable_shouldYield=k,n.unstable_wrapCallback=function(Q){var le=T;return function(){var ae=T;T=le;try{return Q.apply(this,arguments)}finally{T=ae}}}}(bp)),bp}var uE;function Dx(){return uE||(uE=1,Ep.exports=Cx()),Ep.exports}var Tp={exports:{}},on={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hE;function Ox(){if(hE)return on;hE=1;var n=zf();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(p,g,v){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:p,containerInfo:g,implementation:v}}var h=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return on.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,on.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return c(p,g,null,v)},on.flushSync=function(p){var g=h.T,v=i.p;try{if(h.T=null,i.p=2,p)return p()}finally{h.T=g,i.p=v,i.d.f()}},on.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(p,g))},on.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},on.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,w=d(v,g.crossOrigin),T=typeof g.integrity=="string"?g.integrity:void 0,C=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?i.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:w,integrity:T,fetchPriority:C}):v==="script"&&i.d.X(p,{crossOrigin:w,integrity:T,fetchPriority:C,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},on.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=d(g.as,g.crossOrigin);i.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(p)},on.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,w=d(v,g.crossOrigin);i.d.L(p,v,{crossOrigin:w,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},on.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=d(g.as,g.crossOrigin);i.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(p)},on.requestFormReset=function(p){i.d.r(p)},on.unstable_batchedUpdates=function(p,g){return p(g)},on.useFormState=function(p,g,v){return h.H.useFormState(p,g,v)},on.useFormStatus=function(){return h.H.useHostTransitionStatus()},on.version="19.1.0",on}var fE;function VT(){if(fE)return Tp.exports;fE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Tp.exports=Ox(),Tp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dE;function Mx(){if(dE)return _c;dE=1;var n=Dx(),e=zf(),t=VT();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function c(r){var s=r,a=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(a=s.return),r=s.return;while(r)}return s.tag===3?a:null}function h(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function d(r){if(c(r)!==r)throw Error(i(188))}function p(r){var s=r.alternate;if(!s){if(s=c(r),s===null)throw Error(i(188));return s!==r?null:r}for(var a=r,l=s;;){var f=a.return;if(f===null)break;var m=f.alternate;if(m===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===a)return d(f),r;if(m===l)return d(f),s;m=m.sibling}throw Error(i(188))}if(a.return!==l.return)a=f,l=m;else{for(var b=!1,S=f.child;S;){if(S===a){b=!0,a=f,l=m;break}if(S===l){b=!0,l=f,a=m;break}S=S.sibling}if(!b){for(S=m.child;S;){if(S===a){b=!0,a=m,l=f;break}if(S===l){b=!0,l=m,a=f;break}S=S.sibling}if(!b)throw Error(i(189))}}if(a.alternate!==l)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?r:s}function g(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=g(r),s!==null)return s;r=r.sibling}return null}var v=Object.assign,w=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),B=Symbol.for("react.provider"),X=Symbol.for("react.consumer"),W=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),oe=Symbol.for("react.suspense"),he=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function z(r){return r===null||typeof r!="object"?null:(r=V&&r[V]||r["@@iterator"],typeof r=="function"?r:null)}var N=Symbol.for("react.client.reference");function Me(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===N?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case L:return"Fragment";case x:return"Profiler";case I:return"StrictMode";case oe:return"Suspense";case he:return"SuspenseList";case D:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case C:return"Portal";case W:return(r.displayName||"Context")+".Provider";case X:return(r._context.displayName||"Context")+".Consumer";case J:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case M:return s=r.displayName||null,s!==null?s:Me(r.type)||"Memo";case R:s=r._payload,r=r._init;try{return Me(r(s))}catch{}}return null}var Ke=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},ze=[],U=-1;function ie(r){return{current:r}}function ue(r){0>U||(r.current=ze[U],ze[U]=null,U--)}function se(r,s){U++,ze[U]=r.current,r.current=s}var me=ie(null),Ie=ie(null),Te=ie(null),ke=ie(null);function We(r,s){switch(se(Te,s),se(Ie,r),se(me,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?M0(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=M0(s),r=k0(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}ue(me),se(me,r)}function fn(){ue(me),ue(Ie),ue(Te)}function Rn(r){r.memoizedState!==null&&se(ke,r);var s=me.current,a=k0(s,r.type);s!==a&&(se(Ie,r),se(me,a))}function xn(r){Ie.current===r&&(ue(me),ue(Ie)),ke.current===r&&(ue(ke),dc._currentValue=ae)}var jn=Object.prototype.hasOwnProperty,Os=n.unstable_scheduleCallback,Ms=n.unstable_cancelCallback,ul=n.unstable_shouldYield,mu=n.unstable_requestPaint,zn=n.unstable_now,yd=n.unstable_getCurrentPriorityLevel,hl=n.unstable_ImmediatePriority,ja=n.unstable_UserBlockingPriority,ks=n.unstable_NormalPriority,vd=n.unstable_LowPriority,za=n.unstable_IdlePriority,fl=n.log,pu=n.unstable_setDisableYieldValue,pt=null,Ze=null;function In(r){if(typeof fl=="function"&&pu(r),Ze&&typeof Ze.setStrictMode=="function")try{Ze.setStrictMode(pt,r)}catch{}}var sn=Math.clz32?Math.clz32:Ps,gu=Math.log,_d=Math.LN2;function Ps(r){return r>>>=0,r===0?32:31-(gu(r)/_d|0)|0}var Vs=256,Ls=4194304;function nr(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Ba(r,s,a){var l=r.pendingLanes;if(l===0)return 0;var f=0,m=r.suspendedLanes,b=r.pingedLanes;r=r.warmLanes;var S=l&134217727;return S!==0?(l=S&~m,l!==0?f=nr(l):(b&=S,b!==0?f=nr(b):a||(a=S&~r,a!==0&&(f=nr(a))))):(S=l&~m,S!==0?f=nr(S):b!==0?f=nr(b):a||(a=l&~r,a!==0&&(f=nr(a)))),f===0?0:s!==0&&s!==f&&(s&m)===0&&(m=f&-f,a=s&-s,m>=a||m===32&&(a&4194048)!==0)?s:f}function Us(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function dl(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ml(){var r=Vs;return Vs<<=1,(Vs&4194048)===0&&(Vs=256),r}function pl(){var r=Ls;return Ls<<=1,(Ls&62914560)===0&&(Ls=4194304),r}function zr(r){for(var s=[],a=0;31>a;a++)s.push(r);return s}function Br(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function gl(r,s,a,l,f,m){var b=r.pendingLanes;r.pendingLanes=a,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=a,r.entangledLanes&=a,r.errorRecoveryDisabledLanes&=a,r.shellSuspendCounter=0;var S=r.entanglements,O=r.expirationTimes,G=r.hiddenUpdates;for(a=b&~a;0<a;){var Z=31-sn(a),ne=1<<Z;S[Z]=0,O[Z]=-1;var Y=G[Z];if(Y!==null)for(G[Z]=null,Z=0;Z<Y.length;Z++){var K=Y[Z];K!==null&&(K.lane&=-536870913)}a&=~ne}l!==0&&fr(r,l,0),m!==0&&f===0&&r.tag!==0&&(r.suspendedLanes|=m&~(b&~s))}function fr(r,s,a){r.pendingLanes|=s,r.suspendedLanes&=~s;var l=31-sn(s);r.entangledLanes|=s,r.entanglements[l]=r.entanglements[l]|1073741824|a&4194090}function yl(r,s){var a=r.entangledLanes|=s;for(r=r.entanglements;a;){var l=31-sn(a),f=1<<l;f&s|r[l]&s&&(r[l]|=s),a&=~f}}function Ri(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function qa(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function xi(){var r=le.p;return r!==0?r:(r=window.event,r===void 0?32:J0(r.type))}function yu(r,s){var a=le.p;try{return le.p=r,s()}finally{le.p=a}}var ut=Math.random().toString(36).slice(2),Pt="__reactFiber$"+ut,xt="__reactProps$"+ut,Bn="__reactContainer$"+ut,vl="__reactEvents$"+ut,Ed="__reactListeners$"+ut,Ii="__reactHandles$"+ut,vu="__reactResources$"+ut,js="__reactMarker$"+ut;function Ni(r){delete r[Pt],delete r[xt],delete r[vl],delete r[Ed],delete r[Ii]}function qr(r){var s=r[Pt];if(s)return s;for(var a=r.parentNode;a;){if(s=a[Bn]||a[Pt]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(r=U0(r);r!==null;){if(a=r[Pt])return a;r=U0(r)}return s}r=a,a=r.parentNode}return null}function dr(r){if(r=r[Pt]||r[Bn]){var s=r.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return r}return null}function mr(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function dn(r){var s=r[vu];return s||(s=r[vu]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Tt(r){r[js]=!0}var _l=new Set,Fa={};function rr(r,s){Fr(r,s),Fr(r+"Capture",s)}function Fr(r,s){for(Fa[r]=s,r=0;r<s.length;r++)_l.add(s[r])}var _u=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Eu={},zs={};function bu(r){return jn.call(zs,r)?!0:jn.call(Eu,r)?!1:_u.test(r)?zs[r]=!0:(Eu[r]=!0,!1)}function Ci(r,s,a){if(bu(s))if(a===null)r.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+a)}}function pr(r,s,a){if(a===null)r.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+a)}}function $t(r,s,a,l){if(l===null)r.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(a);return}r.setAttributeNS(s,a,""+l)}}var Bs,Tu;function Hr(r){if(Bs===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);Bs=s&&s[1]||"",Tu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Bs+r+Tu}var Ha=!1;function Ga(r,s){if(!r||Ha)return"";Ha=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(K){var Y=K}Reflect.construct(r,[],ne)}else{try{ne.call()}catch(K){Y=K}r.call(ne.prototype)}}else{try{throw Error()}catch(K){Y=K}(ne=r())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(K){if(K&&Y&&typeof K.stack=="string")return[K.stack,Y.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),b=m[0],S=m[1];if(b&&S){var O=b.split(`
`),G=S.split(`
`);for(f=l=0;l<O.length&&!O[l].includes("DetermineComponentFrameRoot");)l++;for(;f<G.length&&!G[f].includes("DetermineComponentFrameRoot");)f++;if(l===O.length||f===G.length)for(l=O.length-1,f=G.length-1;1<=l&&0<=f&&O[l]!==G[f];)f--;for(;1<=l&&0<=f;l--,f--)if(O[l]!==G[f]){if(l!==1||f!==1)do if(l--,f--,0>f||O[l]!==G[f]){var Z=`
`+O[l].replace(" at new "," at ");return r.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",r.displayName)),Z}while(1<=l&&0<=f);break}}}finally{Ha=!1,Error.prepareStackTrace=a}return(a=r?r.displayName||r.name:"")?Hr(a):""}function El(r){switch(r.tag){case 26:case 27:case 5:return Hr(r.type);case 16:return Hr("Lazy");case 13:return Hr("Suspense");case 19:return Hr("SuspenseList");case 0:case 15:return Ga(r.type,!1);case 11:return Ga(r.type.render,!1);case 1:return Ga(r.type,!0);case 31:return Hr("Activity");default:return""}}function Ya(r){try{var s="";do s+=El(r),r=r.return;while(r);return s}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function mn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function bl(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function bd(r){var s=bl(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),l=""+r[s];if(!r.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,m=a.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return f.call(this)},set:function(b){l=""+b,m.call(this,b)}}),Object.defineProperty(r,s,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(b){l=""+b},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Ka(r){r._valueTracker||(r._valueTracker=bd(r))}function Tl(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return r&&(l=bl(r)?r.checked?"true":"false":r.value),r=l,r!==a?(s.setValue(r),!0):!1}function qs(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Td=/[\n"\\]/g;function It(r){return r.replace(Td,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Nn(r,s,a,l,f,m,b,S){r.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?r.type=b:r.removeAttribute("type"),s!=null?b==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+mn(s)):r.value!==""+mn(s)&&(r.value=""+mn(s)):b!=="submit"&&b!=="reset"||r.removeAttribute("value"),s!=null?Di(r,b,mn(s)):a!=null?Di(r,b,mn(a)):l!=null&&r.removeAttribute("value"),f==null&&m!=null&&(r.defaultChecked=!!m),f!=null&&(r.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?r.name=""+mn(S):r.removeAttribute("name")}function Fs(r,s,a,l,f,m,b,S){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(r.type=m),s!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||s!=null))return;a=a!=null?""+mn(a):"",s=s!=null?""+mn(s):a,S||s===r.value||(r.value=s),r.defaultValue=s}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,r.checked=S?r.checked:!!l,r.defaultChecked=!!l,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(r.name=b)}function Di(r,s,a){s==="number"&&qs(r.ownerDocument)===r||r.defaultValue===""+a||(r.defaultValue=""+a)}function Gr(r,s,a,l){if(r=r.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<r.length;a++)f=s.hasOwnProperty("$"+r[a].value),r[a].selected!==f&&(r[a].selected=f),f&&l&&(r[a].defaultSelected=!0)}else{for(a=""+mn(a),s=null,f=0;f<r.length;f++){if(r[f].value===a){r[f].selected=!0,l&&(r[f].defaultSelected=!0);return}s!==null||r[f].disabled||(s=r[f])}s!==null&&(s.selected=!0)}}function nt(r,s,a){if(s!=null&&(s=""+mn(s),s!==r.value&&(r.value=s),a==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=a!=null?""+mn(a):""}function Hs(r,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(i(92));if(Ke(l)){if(1<l.length)throw Error(i(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=mn(s),r.defaultValue=a,l=r.textContent,l===a&&l!==""&&l!==null&&(r.value=l)}function qn(r,s){if(s){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=s;return}}r.textContent=s}var Gs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wu(r,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":l?r.setProperty(s,a):typeof a!="number"||a===0||Gs.has(s)?s==="float"?r.cssFloat=a:r[s]=(""+a).trim():r[s]=a+"px"}function wl(r,s,a){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?r.setProperty(l,""):l==="float"?r.cssFloat="":r[l]="");for(var f in s)l=s[f],s.hasOwnProperty(f)&&a[f]!==l&&wu(r,f,l)}else for(var m in s)s.hasOwnProperty(m)&&wu(r,m,s[m])}function Sl(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Sd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Qa(r){return Sd.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Yr=null;function Fn(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Kr=null,Qr=null;function Al(r){var s=dr(r);if(s&&(r=s.stateNode)){var a=r[xt]||null;e:switch(r=s.stateNode,s.type){case"input":if(Nn(r,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+It(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==r&&l.form===r.form){var f=l[xt]||null;if(!f)throw Error(i(90));Nn(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===r.form&&Tl(l)}break e;case"textarea":nt(r,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&Gr(r,!!a.multiple,s,!1)}}}var gr=!1;function Su(r,s,a){if(gr)return r(s,a);gr=!0;try{var l=r(s);return l}finally{if(gr=!1,(Kr!==null||Qr!==null)&&(yh(),Kr&&(s=Kr,r=Qr,Qr=Kr=null,Al(s),r)))for(s=0;s<r.length;s++)Al(r[s])}}function Ys(r,s){var a=r.stateNode;if(a===null)return null;var l=a[xt]||null;if(l===null)return null;a=l[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(r=r.type,l=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!l;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(i(231,s,typeof a));return a}var ir=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hn=!1;if(ir)try{var Ks={};Object.defineProperty(Ks,"passive",{get:function(){Hn=!0}}),window.addEventListener("test",Ks,Ks),window.removeEventListener("test",Ks,Ks)}catch{Hn=!1}var yr=null,Oi=null,$r=null;function Rl(){if($r)return $r;var r,s=Oi,a=s.length,l,f="value"in yr?yr.value:yr.textContent,m=f.length;for(r=0;r<a&&s[r]===f[r];r++);var b=a-r;for(l=1;l<=b&&s[a-l]===f[m-l];l++);return $r=f.slice(r,1<l?1-l:void 0)}function vr(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function _r(){return!0}function xl(){return!1}function qt(r){function s(a,l,f,m,b){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=m,this.target=b,this.currentTarget=null;for(var S in r)r.hasOwnProperty(S)&&(a=r[S],this[S]=a?a(m):m[S]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?_r:xl,this.isPropagationStopped=xl,this}return v(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=_r)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=_r)},persist:function(){},isPersistent:_r}),s}var $e={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$a=qt($e),Qs=v({},$e,{view:0,detail:0}),Au=qt(Qs),Xa,Wa,Er,$s=v({},Qs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zs,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Er&&(Er&&r.type==="mousemove"?(Xa=r.screenX-Er.screenX,Wa=r.screenY-Er.screenY):Wa=Xa=0,Er=r),Xa)},movementY:function(r){return"movementY"in r?r.movementY:Wa}}),Gn=qt($s),Ru=v({},$s,{dataTransfer:0}),Ad=qt(Ru),Xs=v({},Qs,{relatedTarget:0}),Za=qt(Xs),Il=v({},$e,{animationName:0,elapsedTime:0,pseudoElement:0}),Ja=qt(Il),xu=v({},$e,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),eo=qt(xu),Rd=v({},$e,{data:0}),Nl=qt(Rd),Ws={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Iu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cl(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Nu[r])?!!s[r]:!1}function Zs(){return Cl}var Cu=v({},Qs,{key:function(r){if(r.key){var s=Ws[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=vr(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Iu[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zs,charCode:function(r){return r.type==="keypress"?vr(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?vr(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),to=qt(Cu),Du=v({},$s,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dl=qt(Du),Xr=v({},Qs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zs}),Ou=qt(Xr),Mu=v({},$e,{propertyName:0,elapsedTime:0,pseudoElement:0}),ku=qt(Mu),Pu=v({},$s,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),no=qt(Pu),pn=v({},$e,{newState:0,oldState:0}),Vu=qt(pn),Lu=[9,13,27,32],br=ir&&"CompositionEvent"in window,u=null;ir&&"documentMode"in document&&(u=document.documentMode);var y=ir&&"TextEvent"in window&&!u,_=ir&&(!br||u&&8<u&&11>=u),A=" ",F=!1;function $(r,s){switch(r){case"keyup":return Lu.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ce(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Be=!1;function Vt(r,s){switch(r){case"compositionend":return ce(s);case"keypress":return s.which!==32?null:(F=!0,A);case"textInput":return r=s.data,r===A&&F?null:r;default:return null}}function qe(r,s){if(Be)return r==="compositionend"||!br&&$(r,s)?(r=Rl(),$r=Oi=yr=null,Be=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return _&&s.locale!=="ko"?null:s.data;default:return null}}var Ft={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lt(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!Ft[r.type]:s==="textarea"}function Wr(r,s,a,l){Kr?Qr?Qr.push(l):Qr=[l]:Kr=l,s=wh(s,"onChange"),0<s.length&&(a=new $a("onChange","change",null,a,l),r.push({event:a,listeners:s}))}var Xt=null,Tr=null;function Ol(r){I0(r,0)}function Uu(r){var s=mr(r);if(Tl(s))return r}function $y(r,s){if(r==="change")return s}var Xy=!1;if(ir){var xd;if(ir){var Id="oninput"in document;if(!Id){var Wy=document.createElement("div");Wy.setAttribute("oninput","return;"),Id=typeof Wy.oninput=="function"}xd=Id}else xd=!1;Xy=xd&&(!document.documentMode||9<document.documentMode)}function Zy(){Xt&&(Xt.detachEvent("onpropertychange",Jy),Tr=Xt=null)}function Jy(r){if(r.propertyName==="value"&&Uu(Tr)){var s=[];Wr(s,Tr,r,Fn(r)),Su(Ol,s)}}function nR(r,s,a){r==="focusin"?(Zy(),Xt=s,Tr=a,Xt.attachEvent("onpropertychange",Jy)):r==="focusout"&&Zy()}function rR(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Uu(Tr)}function iR(r,s){if(r==="click")return Uu(s)}function sR(r,s){if(r==="input"||r==="change")return Uu(s)}function aR(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Cn=typeof Object.is=="function"?Object.is:aR;function Ml(r,s){if(Cn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var a=Object.keys(r),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!jn.call(s,f)||!Cn(r[f],s[f]))return!1}return!0}function ev(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function tv(r,s){var a=ev(r);r=0;for(var l;a;){if(a.nodeType===3){if(l=r+a.textContent.length,r<=s&&l>=s)return{node:a,offset:s-r};r=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ev(a)}}function nv(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?nv(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function rv(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=qs(r.document);s instanceof r.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)r=s.contentWindow;else break;s=qs(r.document)}return s}function Nd(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var oR=ir&&"documentMode"in document&&11>=document.documentMode,ro=null,Cd=null,kl=null,Dd=!1;function iv(r,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Dd||ro==null||ro!==qs(l)||(l=ro,"selectionStart"in l&&Nd(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),kl&&Ml(kl,l)||(kl=l,l=wh(Cd,"onSelect"),0<l.length&&(s=new $a("onSelect","select",null,s,a),r.push({event:s,listeners:l}),s.target=ro)))}function Js(r,s){var a={};return a[r.toLowerCase()]=s.toLowerCase(),a["Webkit"+r]="webkit"+s,a["Moz"+r]="moz"+s,a}var io={animationend:Js("Animation","AnimationEnd"),animationiteration:Js("Animation","AnimationIteration"),animationstart:Js("Animation","AnimationStart"),transitionrun:Js("Transition","TransitionRun"),transitionstart:Js("Transition","TransitionStart"),transitioncancel:Js("Transition","TransitionCancel"),transitionend:Js("Transition","TransitionEnd")},Od={},sv={};ir&&(sv=document.createElement("div").style,"AnimationEvent"in window||(delete io.animationend.animation,delete io.animationiteration.animation,delete io.animationstart.animation),"TransitionEvent"in window||delete io.transitionend.transition);function ea(r){if(Od[r])return Od[r];if(!io[r])return r;var s=io[r],a;for(a in s)if(s.hasOwnProperty(a)&&a in sv)return Od[r]=s[a];return r}var av=ea("animationend"),ov=ea("animationiteration"),lv=ea("animationstart"),lR=ea("transitionrun"),cR=ea("transitionstart"),uR=ea("transitioncancel"),cv=ea("transitionend"),uv=new Map,Md="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Md.push("scrollEnd");function sr(r,s){uv.set(r,s),rr(s,[r])}var hv=new WeakMap;function Yn(r,s){if(typeof r=="object"&&r!==null){var a=hv.get(r);return a!==void 0?a:(s={value:r,source:s,stack:Ya(s)},hv.set(r,s),s)}return{value:r,source:s,stack:Ya(s)}}var Kn=[],so=0,kd=0;function ju(){for(var r=so,s=kd=so=0;s<r;){var a=Kn[s];Kn[s++]=null;var l=Kn[s];Kn[s++]=null;var f=Kn[s];Kn[s++]=null;var m=Kn[s];if(Kn[s++]=null,l!==null&&f!==null){var b=l.pending;b===null?f.next=f:(f.next=b.next,b.next=f),l.pending=f}m!==0&&fv(a,f,m)}}function zu(r,s,a,l){Kn[so++]=r,Kn[so++]=s,Kn[so++]=a,Kn[so++]=l,kd|=l,r.lanes|=l,r=r.alternate,r!==null&&(r.lanes|=l)}function Pd(r,s,a,l){return zu(r,s,a,l),Bu(r)}function ao(r,s){return zu(r,null,null,s),Bu(r)}function fv(r,s,a){r.lanes|=a;var l=r.alternate;l!==null&&(l.lanes|=a);for(var f=!1,m=r.return;m!==null;)m.childLanes|=a,l=m.alternate,l!==null&&(l.childLanes|=a),m.tag===22&&(r=m.stateNode,r===null||r._visibility&1||(f=!0)),r=m,m=m.return;return r.tag===3?(m=r.stateNode,f&&s!==null&&(f=31-sn(a),r=m.hiddenUpdates,l=r[f],l===null?r[f]=[s]:l.push(s),s.lane=a|536870912),m):null}function Bu(r){if(50<sc)throw sc=0,Bm=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var oo={};function hR(r,s,a,l){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(r,s,a,l){return new hR(r,s,a,l)}function Vd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Zr(r,s){var a=r.alternate;return a===null?(a=Dn(r.tag,s,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=s,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&65011712,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,s=r.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a.refCleanup=r.refCleanup,a}function dv(r,s){r.flags&=65011714;var a=r.alternate;return a===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=a.childLanes,r.lanes=a.lanes,r.child=a.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=a.memoizedProps,r.memoizedState=a.memoizedState,r.updateQueue=a.updateQueue,r.type=a.type,s=a.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function qu(r,s,a,l,f,m){var b=0;if(l=r,typeof r=="function")Vd(r)&&(b=1);else if(typeof r=="string")b=dx(r,a,me.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case D:return r=Dn(31,a,s,f),r.elementType=D,r.lanes=m,r;case L:return ta(a.children,f,m,s);case I:b=8,f|=24;break;case x:return r=Dn(12,a,s,f|2),r.elementType=x,r.lanes=m,r;case oe:return r=Dn(13,a,s,f),r.elementType=oe,r.lanes=m,r;case he:return r=Dn(19,a,s,f),r.elementType=he,r.lanes=m,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case B:case W:b=10;break e;case X:b=9;break e;case J:b=11;break e;case M:b=14;break e;case R:b=16,l=null;break e}b=29,a=Error(i(130,r===null?"null":typeof r,"")),l=null}return s=Dn(b,a,s,f),s.elementType=r,s.type=l,s.lanes=m,s}function ta(r,s,a,l){return r=Dn(7,r,l,s),r.lanes=a,r}function Ld(r,s,a){return r=Dn(6,r,null,s),r.lanes=a,r}function Ud(r,s,a){return s=Dn(4,r.children!==null?r.children:[],r.key,s),s.lanes=a,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var lo=[],co=0,Fu=null,Hu=0,Qn=[],$n=0,na=null,Jr=1,ei="";function ra(r,s){lo[co++]=Hu,lo[co++]=Fu,Fu=r,Hu=s}function mv(r,s,a){Qn[$n++]=Jr,Qn[$n++]=ei,Qn[$n++]=na,na=r;var l=Jr;r=ei;var f=32-sn(l)-1;l&=~(1<<f),a+=1;var m=32-sn(s)+f;if(30<m){var b=f-f%5;m=(l&(1<<b)-1).toString(32),l>>=b,f-=b,Jr=1<<32-sn(s)+f|a<<f|l,ei=m+r}else Jr=1<<m|a<<f|l,ei=r}function jd(r){r.return!==null&&(ra(r,1),mv(r,1,0))}function zd(r){for(;r===Fu;)Fu=lo[--co],lo[co]=null,Hu=lo[--co],lo[co]=null;for(;r===na;)na=Qn[--$n],Qn[$n]=null,ei=Qn[--$n],Qn[$n]=null,Jr=Qn[--$n],Qn[$n]=null}var gn=null,gt=null,Qe=!1,ia=null,wr=!1,Bd=Error(i(519));function sa(r){var s=Error(i(418,""));throw Ll(Yn(s,r)),Bd}function pv(r){var s=r.stateNode,a=r.type,l=r.memoizedProps;switch(s[Pt]=r,s[xt]=l,a){case"dialog":Ve("cancel",s),Ve("close",s);break;case"iframe":case"object":case"embed":Ve("load",s);break;case"video":case"audio":for(a=0;a<oc.length;a++)Ve(oc[a],s);break;case"source":Ve("error",s);break;case"img":case"image":case"link":Ve("error",s),Ve("load",s);break;case"details":Ve("toggle",s);break;case"input":Ve("invalid",s),Fs(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ka(s);break;case"select":Ve("invalid",s);break;case"textarea":Ve("invalid",s),Hs(s,l.value,l.defaultValue,l.children),Ka(s)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||O0(s.textContent,a)?(l.popover!=null&&(Ve("beforetoggle",s),Ve("toggle",s)),l.onScroll!=null&&Ve("scroll",s),l.onScrollEnd!=null&&Ve("scrollend",s),l.onClick!=null&&(s.onclick=Sh),s=!0):s=!1,s||sa(r)}function gv(r){for(gn=r.return;gn;)switch(gn.tag){case 5:case 13:wr=!1;return;case 27:case 3:wr=!0;return;default:gn=gn.return}}function Pl(r){if(r!==gn)return!1;if(!Qe)return gv(r),Qe=!0,!1;var s=r.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=r.type,a=!(a!=="form"&&a!=="button")||rp(r.type,r.memoizedProps)),a=!a),a&&gt&&sa(r),gv(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8)if(a=r.data,a==="/$"){if(s===0){gt=or(r.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++;r=r.nextSibling}gt=null}}else s===27?(s=gt,Qi(r.type)?(r=op,op=null,gt=r):gt=s):gt=gn?or(r.stateNode.nextSibling):null;return!0}function Vl(){gt=gn=null,Qe=!1}function yv(){var r=ia;return r!==null&&(En===null?En=r:En.push.apply(En,r),ia=null),r}function Ll(r){ia===null?ia=[r]:ia.push(r)}var qd=ie(null),aa=null,ti=null;function Mi(r,s,a){se(qd,s._currentValue),s._currentValue=a}function ni(r){r._currentValue=qd.current,ue(qd)}function Fd(r,s,a){for(;r!==null;){var l=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),r===a)break;r=r.return}}function Hd(r,s,a,l){var f=r.child;for(f!==null&&(f.return=r);f!==null;){var m=f.dependencies;if(m!==null){var b=f.child;m=m.firstContext;e:for(;m!==null;){var S=m;m=f;for(var O=0;O<s.length;O++)if(S.context===s[O]){m.lanes|=a,S=m.alternate,S!==null&&(S.lanes|=a),Fd(m.return,a,r),l||(b=null);break e}m=S.next}}else if(f.tag===18){if(b=f.return,b===null)throw Error(i(341));b.lanes|=a,m=b.alternate,m!==null&&(m.lanes|=a),Fd(b,a,r),b=null}else b=f.child;if(b!==null)b.return=f;else for(b=f;b!==null;){if(b===r){b=null;break}if(f=b.sibling,f!==null){f.return=b.return,b=f;break}b=b.return}f=b}}function Ul(r,s,a,l){r=null;for(var f=s,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var b=f.alternate;if(b===null)throw Error(i(387));if(b=b.memoizedProps,b!==null){var S=f.type;Cn(f.pendingProps.value,b.value)||(r!==null?r.push(S):r=[S])}}else if(f===ke.current){if(b=f.alternate,b===null)throw Error(i(387));b.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(r!==null?r.push(dc):r=[dc])}f=f.return}r!==null&&Hd(s,r,a,l),s.flags|=262144}function Gu(r){for(r=r.firstContext;r!==null;){if(!Cn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function oa(r){aa=r,ti=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function an(r){return vv(aa,r)}function Yu(r,s){return aa===null&&oa(r),vv(r,s)}function vv(r,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},ti===null){if(r===null)throw Error(i(308));ti=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else ti=ti.next=s;return a}var fR=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(a,l){r.push(l)}};this.abort=function(){s.aborted=!0,r.forEach(function(a){return a()})}},dR=n.unstable_scheduleCallback,mR=n.unstable_NormalPriority,Ut={$$typeof:W,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Gd(){return{controller:new fR,data:new Map,refCount:0}}function jl(r){r.refCount--,r.refCount===0&&dR(mR,function(){r.controller.abort()})}var zl=null,Yd=0,uo=0,ho=null;function pR(r,s){if(zl===null){var a=zl=[];Yd=0,uo=Qm(),ho={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Yd++,s.then(_v,_v),s}function _v(){if(--Yd===0&&zl!==null){ho!==null&&(ho.status="fulfilled");var r=zl;zl=null,uo=0,ho=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function gR(r,s){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return r.then(function(){l.status="fulfilled",l.value=s;for(var f=0;f<a.length;f++)(0,a[f])(s)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var Ev=Q.S;Q.S=function(r,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&pR(r,s),Ev!==null&&Ev(r,s)};var la=ie(null);function Kd(){var r=la.current;return r!==null?r:lt.pooledCache}function Ku(r,s){s===null?se(la,la.current):se(la,s.pool)}function bv(){var r=Kd();return r===null?null:{parent:Ut._currentValue,pool:r}}var Bl=Error(i(460)),Tv=Error(i(474)),Qu=Error(i(542)),Qd={then:function(){}};function wv(r){return r=r.status,r==="fulfilled"||r==="rejected"}function $u(){}function Sv(r,s,a){switch(a=r[a],a===void 0?r.push(s):a!==s&&(s.then($u,$u),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,Rv(r),r;default:if(typeof s.status=="string")s.then($u,$u);else{if(r=lt,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(l){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=l}},function(l){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,Rv(r),r}throw ql=s,Bl}}var ql=null;function Av(){if(ql===null)throw Error(i(459));var r=ql;return ql=null,r}function Rv(r){if(r===Bl||r===Qu)throw Error(i(483))}var ki=!1;function $d(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Xd(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Pi(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Vi(r,s,a){var l=r.updateQueue;if(l===null)return null;if(l=l.shared,(Je&2)!==0){var f=l.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),l.pending=s,s=Bu(r),fv(r,null,a),s}return zu(r,l,s,a),Bu(r)}function Fl(r,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=r.pendingLanes,a|=l,s.lanes=a,yl(r,a)}}function Wd(r,s){var a=r.updateQueue,l=r.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var b={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?f=m=b:m=m.next=b,a=a.next}while(a!==null);m===null?f=m=s:m=m.next=s}else f=m=s;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=s:r.next=s,a.lastBaseUpdate=s}var Zd=!1;function Hl(){if(Zd){var r=ho;if(r!==null)throw r}}function Gl(r,s,a,l){Zd=!1;var f=r.updateQueue;ki=!1;var m=f.firstBaseUpdate,b=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var O=S,G=O.next;O.next=null,b===null?m=G:b.next=G,b=O;var Z=r.alternate;Z!==null&&(Z=Z.updateQueue,S=Z.lastBaseUpdate,S!==b&&(S===null?Z.firstBaseUpdate=G:S.next=G,Z.lastBaseUpdate=O))}if(m!==null){var ne=f.baseState;b=0,Z=G=O=null,S=m;do{var Y=S.lane&-536870913,K=Y!==S.lane;if(K?(Fe&Y)===Y:(l&Y)===Y){Y!==0&&Y===uo&&(Zd=!0),Z!==null&&(Z=Z.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var Ae=r,Ee=S;Y=s;var st=a;switch(Ee.tag){case 1:if(Ae=Ee.payload,typeof Ae=="function"){ne=Ae.call(st,ne,Y);break e}ne=Ae;break e;case 3:Ae.flags=Ae.flags&-65537|128;case 0:if(Ae=Ee.payload,Y=typeof Ae=="function"?Ae.call(st,ne,Y):Ae,Y==null)break e;ne=v({},ne,Y);break e;case 2:ki=!0}}Y=S.callback,Y!==null&&(r.flags|=64,K&&(r.flags|=8192),K=f.callbacks,K===null?f.callbacks=[Y]:K.push(Y))}else K={lane:Y,tag:S.tag,payload:S.payload,callback:S.callback,next:null},Z===null?(G=Z=K,O=ne):Z=Z.next=K,b|=Y;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;K=S,S=K.next,K.next=null,f.lastBaseUpdate=K,f.shared.pending=null}}while(!0);Z===null&&(O=ne),f.baseState=O,f.firstBaseUpdate=G,f.lastBaseUpdate=Z,m===null&&(f.shared.lanes=0),Hi|=b,r.lanes=b,r.memoizedState=ne}}function xv(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function Iv(r,s){var a=r.callbacks;if(a!==null)for(r.callbacks=null,r=0;r<a.length;r++)xv(a[r],s)}var fo=ie(null),Xu=ie(0);function Nv(r,s){r=ci,se(Xu,r),se(fo,s),ci=r|s.baseLanes}function Jd(){se(Xu,ci),se(fo,fo.current)}function em(){ci=Xu.current,ue(fo),ue(Xu)}var Li=0,Ce=null,rt=null,Nt=null,Wu=!1,mo=!1,ca=!1,Zu=0,Yl=0,po=null,yR=0;function wt(){throw Error(i(321))}function tm(r,s){if(s===null)return!1;for(var a=0;a<s.length&&a<r.length;a++)if(!Cn(r[a],s[a]))return!1;return!0}function nm(r,s,a,l,f,m){return Li=m,Ce=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Q.H=r===null||r.memoizedState===null?f_:d_,ca=!1,m=a(l,f),ca=!1,mo&&(m=Dv(s,a,l,f)),Cv(r),m}function Cv(r){Q.H=ih;var s=rt!==null&&rt.next!==null;if(Li=0,Nt=rt=Ce=null,Wu=!1,Yl=0,po=null,s)throw Error(i(300));r===null||Ht||(r=r.dependencies,r!==null&&Gu(r)&&(Ht=!0))}function Dv(r,s,a,l){Ce=r;var f=0;do{if(mo&&(po=null),Yl=0,mo=!1,25<=f)throw Error(i(301));if(f+=1,Nt=rt=null,r.updateQueue!=null){var m=r.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}Q.H=SR,m=s(a,l)}while(mo);return m}function vR(){var r=Q.H,s=r.useState()[0];return s=typeof s.then=="function"?Kl(s):s,r=r.useState()[0],(rt!==null?rt.memoizedState:null)!==r&&(Ce.flags|=1024),s}function rm(){var r=Zu!==0;return Zu=0,r}function im(r,s,a){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~a}function sm(r){if(Wu){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Wu=!1}Li=0,Nt=rt=Ce=null,mo=!1,Yl=Zu=0,po=null}function vn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?Ce.memoizedState=Nt=r:Nt=Nt.next=r,Nt}function Ct(){if(rt===null){var r=Ce.alternate;r=r!==null?r.memoizedState:null}else r=rt.next;var s=Nt===null?Ce.memoizedState:Nt.next;if(s!==null)Nt=s,rt=r;else{if(r===null)throw Ce.alternate===null?Error(i(467)):Error(i(310));rt=r,r={memoizedState:rt.memoizedState,baseState:rt.baseState,baseQueue:rt.baseQueue,queue:rt.queue,next:null},Nt===null?Ce.memoizedState=Nt=r:Nt=Nt.next=r}return Nt}function am(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Kl(r){var s=Yl;return Yl+=1,po===null&&(po=[]),r=Sv(po,r,s),s=Ce,(Nt===null?s.memoizedState:Nt.next)===null&&(s=s.alternate,Q.H=s===null||s.memoizedState===null?f_:d_),r}function Ju(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Kl(r);if(r.$$typeof===W)return an(r)}throw Error(i(438,String(r)))}function om(r){var s=null,a=Ce.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=Ce.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=am(),Ce.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(r),l=0;l<r;l++)a[l]=k;return s.index++,a}function ri(r,s){return typeof s=="function"?s(r):s}function eh(r){var s=Ct();return lm(s,rt,r)}function lm(r,s,a){var l=r.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=a;var f=r.baseQueue,m=l.pending;if(m!==null){if(f!==null){var b=f.next;f.next=m.next,m.next=b}s.baseQueue=f=m,l.pending=null}if(m=r.baseState,f===null)r.memoizedState=m;else{s=f.next;var S=b=null,O=null,G=s,Z=!1;do{var ne=G.lane&-536870913;if(ne!==G.lane?(Fe&ne)===ne:(Li&ne)===ne){var Y=G.revertLane;if(Y===0)O!==null&&(O=O.next={lane:0,revertLane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),ne===uo&&(Z=!0);else if((Li&Y)===Y){G=G.next,Y===uo&&(Z=!0);continue}else ne={lane:0,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},O===null?(S=O=ne,b=m):O=O.next=ne,Ce.lanes|=Y,Hi|=Y;ne=G.action,ca&&a(m,ne),m=G.hasEagerState?G.eagerState:a(m,ne)}else Y={lane:ne,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},O===null?(S=O=Y,b=m):O=O.next=Y,Ce.lanes|=ne,Hi|=ne;G=G.next}while(G!==null&&G!==s);if(O===null?b=m:O.next=S,!Cn(m,r.memoizedState)&&(Ht=!0,Z&&(a=ho,a!==null)))throw a;r.memoizedState=m,r.baseState=b,r.baseQueue=O,l.lastRenderedState=m}return f===null&&(l.lanes=0),[r.memoizedState,l.dispatch]}function cm(r){var s=Ct(),a=s.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=r;var l=a.dispatch,f=a.pending,m=s.memoizedState;if(f!==null){a.pending=null;var b=f=f.next;do m=r(m,b.action),b=b.next;while(b!==f);Cn(m,s.memoizedState)||(Ht=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),a.lastRenderedState=m}return[m,l]}function Ov(r,s,a){var l=Ce,f=Ct(),m=Qe;if(m){if(a===void 0)throw Error(i(407));a=a()}else a=s();var b=!Cn((rt||f).memoizedState,a);b&&(f.memoizedState=a,Ht=!0),f=f.queue;var S=Pv.bind(null,l,f,r);if(Ql(2048,8,S,[r]),f.getSnapshot!==s||b||Nt!==null&&Nt.memoizedState.tag&1){if(l.flags|=2048,go(9,th(),kv.bind(null,l,f,a,s),null),lt===null)throw Error(i(349));m||(Li&124)!==0||Mv(l,s,a)}return a}function Mv(r,s,a){r.flags|=16384,r={getSnapshot:s,value:a},s=Ce.updateQueue,s===null?(s=am(),Ce.updateQueue=s,s.stores=[r]):(a=s.stores,a===null?s.stores=[r]:a.push(r))}function kv(r,s,a,l){s.value=a,s.getSnapshot=l,Vv(s)&&Lv(r)}function Pv(r,s,a){return a(function(){Vv(s)&&Lv(r)})}function Vv(r){var s=r.getSnapshot;r=r.value;try{var a=s();return!Cn(r,a)}catch{return!0}}function Lv(r){var s=ao(r,2);s!==null&&Vn(s,r,2)}function um(r){var s=vn();if(typeof r=="function"){var a=r;if(r=a(),ca){In(!0);try{a()}finally{In(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ri,lastRenderedState:r},s}function Uv(r,s,a,l){return r.baseState=a,lm(r,rt,typeof l=="function"?l:ri)}function _R(r,s,a,l,f){if(rh(r))throw Error(i(485));if(r=s.action,r!==null){var m={payload:f,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){m.listeners.push(b)}};Q.T!==null?a(!0):m.isTransition=!1,l(m),a=s.pending,a===null?(m.next=s.pending=m,jv(s,m)):(m.next=a.next,s.pending=a.next=m)}}function jv(r,s){var a=s.action,l=s.payload,f=r.state;if(s.isTransition){var m=Q.T,b={};Q.T=b;try{var S=a(f,l),O=Q.S;O!==null&&O(b,S),zv(r,s,S)}catch(G){hm(r,s,G)}finally{Q.T=m}}else try{m=a(f,l),zv(r,s,m)}catch(G){hm(r,s,G)}}function zv(r,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Bv(r,s,l)},function(l){return hm(r,s,l)}):Bv(r,s,a)}function Bv(r,s,a){s.status="fulfilled",s.value=a,qv(s),r.state=a,s=r.pending,s!==null&&(a=s.next,a===s?r.pending=null:(a=a.next,s.next=a,jv(r,a)))}function hm(r,s,a){var l=r.pending;if(r.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,qv(s),s=s.next;while(s!==l)}r.action=null}function qv(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function Fv(r,s){return s}function Hv(r,s){if(Qe){var a=lt.formState;if(a!==null){e:{var l=Ce;if(Qe){if(gt){t:{for(var f=gt,m=wr;f.nodeType!==8;){if(!m){f=null;break t}if(f=or(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){gt=or(f.nextSibling),l=f.data==="F!";break e}}sa(l)}l=!1}l&&(s=a[0])}}return a=vn(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fv,lastRenderedState:s},a.queue=l,a=c_.bind(null,Ce,l),l.dispatch=a,l=um(!1),m=gm.bind(null,Ce,!1,l.queue),l=vn(),f={state:s,dispatch:null,action:r,pending:null},l.queue=f,a=_R.bind(null,Ce,f,m,a),f.dispatch=a,l.memoizedState=r,[s,a,!1]}function Gv(r){var s=Ct();return Yv(s,rt,r)}function Yv(r,s,a){if(s=lm(r,s,Fv)[0],r=eh(ri)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=Kl(s)}catch(b){throw b===Bl?Qu:b}else l=s;s=Ct();var f=s.queue,m=f.dispatch;return a!==s.memoizedState&&(Ce.flags|=2048,go(9,th(),ER.bind(null,f,a),null)),[l,m,r]}function ER(r,s){r.action=s}function Kv(r){var s=Ct(),a=rt;if(a!==null)return Yv(s,a,r);Ct(),s=s.memoizedState,a=Ct();var l=a.queue.dispatch;return a.memoizedState=r,[s,l,!1]}function go(r,s,a,l){return r={tag:r,create:a,deps:l,inst:s,next:null},s=Ce.updateQueue,s===null&&(s=am(),Ce.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=r.next=r:(l=a.next,a.next=r,r.next=l,s.lastEffect=r),r}function th(){return{destroy:void 0,resource:void 0}}function Qv(){return Ct().memoizedState}function nh(r,s,a,l){var f=vn();l=l===void 0?null:l,Ce.flags|=r,f.memoizedState=go(1|s,th(),a,l)}function Ql(r,s,a,l){var f=Ct();l=l===void 0?null:l;var m=f.memoizedState.inst;rt!==null&&l!==null&&tm(l,rt.memoizedState.deps)?f.memoizedState=go(s,m,a,l):(Ce.flags|=r,f.memoizedState=go(1|s,m,a,l))}function $v(r,s){nh(8390656,8,r,s)}function Xv(r,s){Ql(2048,8,r,s)}function Wv(r,s){return Ql(4,2,r,s)}function Zv(r,s){return Ql(4,4,r,s)}function Jv(r,s){if(typeof s=="function"){r=r();var a=s(r);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function e_(r,s,a){a=a!=null?a.concat([r]):null,Ql(4,4,Jv.bind(null,s,r),a)}function fm(){}function t_(r,s){var a=Ct();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&tm(s,l[1])?l[0]:(a.memoizedState=[r,s],r)}function n_(r,s){var a=Ct();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&tm(s,l[1]))return l[0];if(l=r(),ca){In(!0);try{r()}finally{In(!1)}}return a.memoizedState=[l,s],l}function dm(r,s,a){return a===void 0||(Li&1073741824)!==0?r.memoizedState=s:(r.memoizedState=a,r=s0(),Ce.lanes|=r,Hi|=r,a)}function r_(r,s,a,l){return Cn(a,s)?a:fo.current!==null?(r=dm(r,a,l),Cn(r,s)||(Ht=!0),r):(Li&42)===0?(Ht=!0,r.memoizedState=a):(r=s0(),Ce.lanes|=r,Hi|=r,s)}function i_(r,s,a,l,f){var m=le.p;le.p=m!==0&&8>m?m:8;var b=Q.T,S={};Q.T=S,gm(r,!1,s,a);try{var O=f(),G=Q.S;if(G!==null&&G(S,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var Z=gR(O,l);$l(r,s,Z,Pn(r))}else $l(r,s,l,Pn(r))}catch(ne){$l(r,s,{then:function(){},status:"rejected",reason:ne},Pn())}finally{le.p=m,Q.T=b}}function bR(){}function mm(r,s,a,l){if(r.tag!==5)throw Error(i(476));var f=s_(r).queue;i_(r,f,s,ae,a===null?bR:function(){return a_(r),a(l)})}function s_(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ri,lastRenderedState:ae},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ri,lastRenderedState:a},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function a_(r){var s=s_(r).next.queue;$l(r,s,{},Pn())}function pm(){return an(dc)}function o_(){return Ct().memoizedState}function l_(){return Ct().memoizedState}function TR(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var a=Pn();r=Pi(a);var l=Vi(s,r,a);l!==null&&(Vn(l,s,a),Fl(l,s,a)),s={cache:Gd()},r.payload=s;return}s=s.return}}function wR(r,s,a){var l=Pn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},rh(r)?u_(s,a):(a=Pd(r,s,a,l),a!==null&&(Vn(a,r,l),h_(a,s,l)))}function c_(r,s,a){var l=Pn();$l(r,s,a,l)}function $l(r,s,a,l){var f={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(rh(r))u_(s,f);else{var m=r.alternate;if(r.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var b=s.lastRenderedState,S=m(b,a);if(f.hasEagerState=!0,f.eagerState=S,Cn(S,b))return zu(r,s,f,0),lt===null&&ju(),!1}catch{}finally{}if(a=Pd(r,s,f,l),a!==null)return Vn(a,r,l),h_(a,s,l),!0}return!1}function gm(r,s,a,l){if(l={lane:2,revertLane:Qm(),action:l,hasEagerState:!1,eagerState:null,next:null},rh(r)){if(s)throw Error(i(479))}else s=Pd(r,a,l,2),s!==null&&Vn(s,r,2)}function rh(r){var s=r.alternate;return r===Ce||s!==null&&s===Ce}function u_(r,s){mo=Wu=!0;var a=r.pending;a===null?s.next=s:(s.next=a.next,a.next=s),r.pending=s}function h_(r,s,a){if((a&4194048)!==0){var l=s.lanes;l&=r.pendingLanes,a|=l,s.lanes=a,yl(r,a)}}var ih={readContext:an,use:Ju,useCallback:wt,useContext:wt,useEffect:wt,useImperativeHandle:wt,useLayoutEffect:wt,useInsertionEffect:wt,useMemo:wt,useReducer:wt,useRef:wt,useState:wt,useDebugValue:wt,useDeferredValue:wt,useTransition:wt,useSyncExternalStore:wt,useId:wt,useHostTransitionStatus:wt,useFormState:wt,useActionState:wt,useOptimistic:wt,useMemoCache:wt,useCacheRefresh:wt},f_={readContext:an,use:Ju,useCallback:function(r,s){return vn().memoizedState=[r,s===void 0?null:s],r},useContext:an,useEffect:$v,useImperativeHandle:function(r,s,a){a=a!=null?a.concat([r]):null,nh(4194308,4,Jv.bind(null,s,r),a)},useLayoutEffect:function(r,s){return nh(4194308,4,r,s)},useInsertionEffect:function(r,s){nh(4,2,r,s)},useMemo:function(r,s){var a=vn();s=s===void 0?null:s;var l=r();if(ca){In(!0);try{r()}finally{In(!1)}}return a.memoizedState=[l,s],l},useReducer:function(r,s,a){var l=vn();if(a!==void 0){var f=a(s);if(ca){In(!0);try{a(s)}finally{In(!1)}}}else f=s;return l.memoizedState=l.baseState=f,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:f},l.queue=r,r=r.dispatch=wR.bind(null,Ce,r),[l.memoizedState,r]},useRef:function(r){var s=vn();return r={current:r},s.memoizedState=r},useState:function(r){r=um(r);var s=r.queue,a=c_.bind(null,Ce,s);return s.dispatch=a,[r.memoizedState,a]},useDebugValue:fm,useDeferredValue:function(r,s){var a=vn();return dm(a,r,s)},useTransition:function(){var r=um(!1);return r=i_.bind(null,Ce,r.queue,!0,!1),vn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,a){var l=Ce,f=vn();if(Qe){if(a===void 0)throw Error(i(407));a=a()}else{if(a=s(),lt===null)throw Error(i(349));(Fe&124)!==0||Mv(l,s,a)}f.memoizedState=a;var m={value:a,getSnapshot:s};return f.queue=m,$v(Pv.bind(null,l,m,r),[r]),l.flags|=2048,go(9,th(),kv.bind(null,l,m,a,s),null),a},useId:function(){var r=vn(),s=lt.identifierPrefix;if(Qe){var a=ei,l=Jr;a=(l&~(1<<32-sn(l)-1)).toString(32)+a,s="«"+s+"R"+a,a=Zu++,0<a&&(s+="H"+a.toString(32)),s+="»"}else a=yR++,s="«"+s+"r"+a.toString(32)+"»";return r.memoizedState=s},useHostTransitionStatus:pm,useFormState:Hv,useActionState:Hv,useOptimistic:function(r){var s=vn();s.memoizedState=s.baseState=r;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=gm.bind(null,Ce,!0,a),a.dispatch=s,[r,s]},useMemoCache:om,useCacheRefresh:function(){return vn().memoizedState=TR.bind(null,Ce)}},d_={readContext:an,use:Ju,useCallback:t_,useContext:an,useEffect:Xv,useImperativeHandle:e_,useInsertionEffect:Wv,useLayoutEffect:Zv,useMemo:n_,useReducer:eh,useRef:Qv,useState:function(){return eh(ri)},useDebugValue:fm,useDeferredValue:function(r,s){var a=Ct();return r_(a,rt.memoizedState,r,s)},useTransition:function(){var r=eh(ri)[0],s=Ct().memoizedState;return[typeof r=="boolean"?r:Kl(r),s]},useSyncExternalStore:Ov,useId:o_,useHostTransitionStatus:pm,useFormState:Gv,useActionState:Gv,useOptimistic:function(r,s){var a=Ct();return Uv(a,rt,r,s)},useMemoCache:om,useCacheRefresh:l_},SR={readContext:an,use:Ju,useCallback:t_,useContext:an,useEffect:Xv,useImperativeHandle:e_,useInsertionEffect:Wv,useLayoutEffect:Zv,useMemo:n_,useReducer:cm,useRef:Qv,useState:function(){return cm(ri)},useDebugValue:fm,useDeferredValue:function(r,s){var a=Ct();return rt===null?dm(a,r,s):r_(a,rt.memoizedState,r,s)},useTransition:function(){var r=cm(ri)[0],s=Ct().memoizedState;return[typeof r=="boolean"?r:Kl(r),s]},useSyncExternalStore:Ov,useId:o_,useHostTransitionStatus:pm,useFormState:Kv,useActionState:Kv,useOptimistic:function(r,s){var a=Ct();return rt!==null?Uv(a,rt,r,s):(a.baseState=r,[r,a.queue.dispatch])},useMemoCache:om,useCacheRefresh:l_},yo=null,Xl=0;function sh(r){var s=Xl;return Xl+=1,yo===null&&(yo=[]),Sv(yo,r,s)}function Wl(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function ah(r,s){throw s.$$typeof===w?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function m_(r){var s=r._init;return s(r._payload)}function p_(r){function s(q,j){if(r){var H=q.deletions;H===null?(q.deletions=[j],q.flags|=16):H.push(j)}}function a(q,j){if(!r)return null;for(;j!==null;)s(q,j),j=j.sibling;return null}function l(q){for(var j=new Map;q!==null;)q.key!==null?j.set(q.key,q):j.set(q.index,q),q=q.sibling;return j}function f(q,j){return q=Zr(q,j),q.index=0,q.sibling=null,q}function m(q,j,H){return q.index=H,r?(H=q.alternate,H!==null?(H=H.index,H<j?(q.flags|=67108866,j):H):(q.flags|=67108866,j)):(q.flags|=1048576,j)}function b(q){return r&&q.alternate===null&&(q.flags|=67108866),q}function S(q,j,H,ee){return j===null||j.tag!==6?(j=Ld(H,q.mode,ee),j.return=q,j):(j=f(j,H),j.return=q,j)}function O(q,j,H,ee){var pe=H.type;return pe===L?Z(q,j,H.props.children,ee,H.key):j!==null&&(j.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===R&&m_(pe)===j.type)?(j=f(j,H.props),Wl(j,H),j.return=q,j):(j=qu(H.type,H.key,H.props,null,q.mode,ee),Wl(j,H),j.return=q,j)}function G(q,j,H,ee){return j===null||j.tag!==4||j.stateNode.containerInfo!==H.containerInfo||j.stateNode.implementation!==H.implementation?(j=Ud(H,q.mode,ee),j.return=q,j):(j=f(j,H.children||[]),j.return=q,j)}function Z(q,j,H,ee,pe){return j===null||j.tag!==7?(j=ta(H,q.mode,ee,pe),j.return=q,j):(j=f(j,H),j.return=q,j)}function ne(q,j,H){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=Ld(""+j,q.mode,H),j.return=q,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case T:return H=qu(j.type,j.key,j.props,null,q.mode,H),Wl(H,j),H.return=q,H;case C:return j=Ud(j,q.mode,H),j.return=q,j;case R:var ee=j._init;return j=ee(j._payload),ne(q,j,H)}if(Ke(j)||z(j))return j=ta(j,q.mode,H,null),j.return=q,j;if(typeof j.then=="function")return ne(q,sh(j),H);if(j.$$typeof===W)return ne(q,Yu(q,j),H);ah(q,j)}return null}function Y(q,j,H,ee){var pe=j!==null?j.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return pe!==null?null:S(q,j,""+H,ee);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case T:return H.key===pe?O(q,j,H,ee):null;case C:return H.key===pe?G(q,j,H,ee):null;case R:return pe=H._init,H=pe(H._payload),Y(q,j,H,ee)}if(Ke(H)||z(H))return pe!==null?null:Z(q,j,H,ee,null);if(typeof H.then=="function")return Y(q,j,sh(H),ee);if(H.$$typeof===W)return Y(q,j,Yu(q,H),ee);ah(q,H)}return null}function K(q,j,H,ee,pe){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return q=q.get(H)||null,S(j,q,""+ee,pe);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case T:return q=q.get(ee.key===null?H:ee.key)||null,O(j,q,ee,pe);case C:return q=q.get(ee.key===null?H:ee.key)||null,G(j,q,ee,pe);case R:var Oe=ee._init;return ee=Oe(ee._payload),K(q,j,H,ee,pe)}if(Ke(ee)||z(ee))return q=q.get(H)||null,Z(j,q,ee,pe,null);if(typeof ee.then=="function")return K(q,j,H,sh(ee),pe);if(ee.$$typeof===W)return K(q,j,H,Yu(j,ee),pe);ah(j,ee)}return null}function Ae(q,j,H,ee){for(var pe=null,Oe=null,ve=j,be=j=0,Yt=null;ve!==null&&be<H.length;be++){ve.index>be?(Yt=ve,ve=null):Yt=ve.sibling;var Ye=Y(q,ve,H[be],ee);if(Ye===null){ve===null&&(ve=Yt);break}r&&ve&&Ye.alternate===null&&s(q,ve),j=m(Ye,j,be),Oe===null?pe=Ye:Oe.sibling=Ye,Oe=Ye,ve=Yt}if(be===H.length)return a(q,ve),Qe&&ra(q,be),pe;if(ve===null){for(;be<H.length;be++)ve=ne(q,H[be],ee),ve!==null&&(j=m(ve,j,be),Oe===null?pe=ve:Oe.sibling=ve,Oe=ve);return Qe&&ra(q,be),pe}for(ve=l(ve);be<H.length;be++)Yt=K(ve,q,be,H[be],ee),Yt!==null&&(r&&Yt.alternate!==null&&ve.delete(Yt.key===null?be:Yt.key),j=m(Yt,j,be),Oe===null?pe=Yt:Oe.sibling=Yt,Oe=Yt);return r&&ve.forEach(function(Ji){return s(q,Ji)}),Qe&&ra(q,be),pe}function Ee(q,j,H,ee){if(H==null)throw Error(i(151));for(var pe=null,Oe=null,ve=j,be=j=0,Yt=null,Ye=H.next();ve!==null&&!Ye.done;be++,Ye=H.next()){ve.index>be?(Yt=ve,ve=null):Yt=ve.sibling;var Ji=Y(q,ve,Ye.value,ee);if(Ji===null){ve===null&&(ve=Yt);break}r&&ve&&Ji.alternate===null&&s(q,ve),j=m(Ji,j,be),Oe===null?pe=Ji:Oe.sibling=Ji,Oe=Ji,ve=Yt}if(Ye.done)return a(q,ve),Qe&&ra(q,be),pe;if(ve===null){for(;!Ye.done;be++,Ye=H.next())Ye=ne(q,Ye.value,ee),Ye!==null&&(j=m(Ye,j,be),Oe===null?pe=Ye:Oe.sibling=Ye,Oe=Ye);return Qe&&ra(q,be),pe}for(ve=l(ve);!Ye.done;be++,Ye=H.next())Ye=K(ve,q,be,Ye.value,ee),Ye!==null&&(r&&Ye.alternate!==null&&ve.delete(Ye.key===null?be:Ye.key),j=m(Ye,j,be),Oe===null?pe=Ye:Oe.sibling=Ye,Oe=Ye);return r&&ve.forEach(function(Ax){return s(q,Ax)}),Qe&&ra(q,be),pe}function st(q,j,H,ee){if(typeof H=="object"&&H!==null&&H.type===L&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case T:e:{for(var pe=H.key;j!==null;){if(j.key===pe){if(pe=H.type,pe===L){if(j.tag===7){a(q,j.sibling),ee=f(j,H.props.children),ee.return=q,q=ee;break e}}else if(j.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===R&&m_(pe)===j.type){a(q,j.sibling),ee=f(j,H.props),Wl(ee,H),ee.return=q,q=ee;break e}a(q,j);break}else s(q,j);j=j.sibling}H.type===L?(ee=ta(H.props.children,q.mode,ee,H.key),ee.return=q,q=ee):(ee=qu(H.type,H.key,H.props,null,q.mode,ee),Wl(ee,H),ee.return=q,q=ee)}return b(q);case C:e:{for(pe=H.key;j!==null;){if(j.key===pe)if(j.tag===4&&j.stateNode.containerInfo===H.containerInfo&&j.stateNode.implementation===H.implementation){a(q,j.sibling),ee=f(j,H.children||[]),ee.return=q,q=ee;break e}else{a(q,j);break}else s(q,j);j=j.sibling}ee=Ud(H,q.mode,ee),ee.return=q,q=ee}return b(q);case R:return pe=H._init,H=pe(H._payload),st(q,j,H,ee)}if(Ke(H))return Ae(q,j,H,ee);if(z(H)){if(pe=z(H),typeof pe!="function")throw Error(i(150));return H=pe.call(H),Ee(q,j,H,ee)}if(typeof H.then=="function")return st(q,j,sh(H),ee);if(H.$$typeof===W)return st(q,j,Yu(q,H),ee);ah(q,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,j!==null&&j.tag===6?(a(q,j.sibling),ee=f(j,H),ee.return=q,q=ee):(a(q,j),ee=Ld(H,q.mode,ee),ee.return=q,q=ee),b(q)):a(q,j)}return function(q,j,H,ee){try{Xl=0;var pe=st(q,j,H,ee);return yo=null,pe}catch(ve){if(ve===Bl||ve===Qu)throw ve;var Oe=Dn(29,ve,null,q.mode);return Oe.lanes=ee,Oe.return=q,Oe}finally{}}}var vo=p_(!0),g_=p_(!1),Xn=ie(null),Sr=null;function Ui(r){var s=r.alternate;se(jt,jt.current&1),se(Xn,r),Sr===null&&(s===null||fo.current!==null||s.memoizedState!==null)&&(Sr=r)}function y_(r){if(r.tag===22){if(se(jt,jt.current),se(Xn,r),Sr===null){var s=r.alternate;s!==null&&s.memoizedState!==null&&(Sr=r)}}else ji()}function ji(){se(jt,jt.current),se(Xn,Xn.current)}function ii(r){ue(Xn),Sr===r&&(Sr=null),ue(jt)}var jt=ie(0);function oh(r){for(var s=r;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||ap(a)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function ym(r,s,a,l){s=r.memoizedState,a=a(l,s),a=a==null?s:v({},s,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var vm={enqueueSetState:function(r,s,a){r=r._reactInternals;var l=Pn(),f=Pi(l);f.payload=s,a!=null&&(f.callback=a),s=Vi(r,f,l),s!==null&&(Vn(s,r,l),Fl(s,r,l))},enqueueReplaceState:function(r,s,a){r=r._reactInternals;var l=Pn(),f=Pi(l);f.tag=1,f.payload=s,a!=null&&(f.callback=a),s=Vi(r,f,l),s!==null&&(Vn(s,r,l),Fl(s,r,l))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var a=Pn(),l=Pi(a);l.tag=2,s!=null&&(l.callback=s),s=Vi(r,l,a),s!==null&&(Vn(s,r,a),Fl(s,r,a))}};function v_(r,s,a,l,f,m,b){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(l,m,b):s.prototype&&s.prototype.isPureReactComponent?!Ml(a,l)||!Ml(f,m):!0}function __(r,s,a,l){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==r&&vm.enqueueReplaceState(s,s.state,null)}function ua(r,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(r=r.defaultProps){a===s&&(a=v({},a));for(var f in r)a[f]===void 0&&(a[f]=r[f])}return a}var lh=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function E_(r){lh(r)}function b_(r){console.error(r)}function T_(r){lh(r)}function ch(r,s){try{var a=r.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function w_(r,s,a){try{var l=r.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function _m(r,s,a){return a=Pi(a),a.tag=3,a.payload={element:null},a.callback=function(){ch(r,s)},a}function S_(r){return r=Pi(r),r.tag=3,r}function A_(r,s,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var m=l.value;r.payload=function(){return f(m)},r.callback=function(){w_(s,a,l)}}var b=a.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(r.callback=function(){w_(s,a,l),typeof f!="function"&&(Gi===null?Gi=new Set([this]):Gi.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function AR(r,s,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&Ul(s,a,f,!0),a=Xn.current,a!==null){switch(a.tag){case 13:return Sr===null?Fm():a.alternate===null&&yt===0&&(yt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Qd?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),Gm(r,l,f)),!1;case 22:return a.flags|=65536,l===Qd?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),Gm(r,l,f)),!1}throw Error(i(435,a.tag))}return Gm(r,l,f),Fm(),!1}if(Qe)return s=Xn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,l!==Bd&&(r=Error(i(422),{cause:l}),Ll(Yn(r,a)))):(l!==Bd&&(s=Error(i(423),{cause:l}),Ll(Yn(s,a))),r=r.current.alternate,r.flags|=65536,f&=-f,r.lanes|=f,l=Yn(l,a),f=_m(r.stateNode,l,f),Wd(r,f),yt!==4&&(yt=2)),!1;var m=Error(i(520),{cause:l});if(m=Yn(m,a),ic===null?ic=[m]:ic.push(m),yt!==4&&(yt=2),s===null)return!0;l=Yn(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,r=f&-f,a.lanes|=r,r=_m(a.stateNode,l,r),Wd(a,r),!1;case 1:if(s=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Gi===null||!Gi.has(m))))return a.flags|=65536,f&=-f,a.lanes|=f,f=S_(f),A_(f,r,a,l),Wd(a,f),!1}a=a.return}while(a!==null);return!1}var R_=Error(i(461)),Ht=!1;function Wt(r,s,a,l){s.child=r===null?g_(s,null,a,l):vo(s,r.child,a,l)}function x_(r,s,a,l,f){a=a.render;var m=s.ref;if("ref"in l){var b={};for(var S in l)S!=="ref"&&(b[S]=l[S])}else b=l;return oa(s),l=nm(r,s,a,b,m,f),S=rm(),r!==null&&!Ht?(im(r,s,f),si(r,s,f)):(Qe&&S&&jd(s),s.flags|=1,Wt(r,s,l,f),s.child)}function I_(r,s,a,l,f){if(r===null){var m=a.type;return typeof m=="function"&&!Vd(m)&&m.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=m,N_(r,s,m,l,f)):(r=qu(a.type,null,l,s,s.mode,f),r.ref=s.ref,r.return=s,s.child=r)}if(m=r.child,!xm(r,f)){var b=m.memoizedProps;if(a=a.compare,a=a!==null?a:Ml,a(b,l)&&r.ref===s.ref)return si(r,s,f)}return s.flags|=1,r=Zr(m,l),r.ref=s.ref,r.return=s,s.child=r}function N_(r,s,a,l,f){if(r!==null){var m=r.memoizedProps;if(Ml(m,l)&&r.ref===s.ref)if(Ht=!1,s.pendingProps=l=m,xm(r,f))(r.flags&131072)!==0&&(Ht=!0);else return s.lanes=r.lanes,si(r,s,f)}return Em(r,s,a,l,f)}function C_(r,s,a){var l=s.pendingProps,f=l.children,m=r!==null?r.memoizedState:null;if(l.mode==="hidden"){if((s.flags&128)!==0){if(l=m!==null?m.baseLanes|a:a,r!==null){for(f=s.child=r.child,m=0;f!==null;)m=m|f.lanes|f.childLanes,f=f.sibling;s.childLanes=m&~l}else s.childLanes=0,s.child=null;return D_(r,s,l,a)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&Ku(s,m!==null?m.cachePool:null),m!==null?Nv(s,m):Jd(),y_(s);else return s.lanes=s.childLanes=536870912,D_(r,s,m!==null?m.baseLanes|a:a,a)}else m!==null?(Ku(s,m.cachePool),Nv(s,m),ji(),s.memoizedState=null):(r!==null&&Ku(s,null),Jd(),ji());return Wt(r,s,f,a),s.child}function D_(r,s,a,l){var f=Kd();return f=f===null?null:{parent:Ut._currentValue,pool:f},s.memoizedState={baseLanes:a,cachePool:f},r!==null&&Ku(s,null),Jd(),y_(s),r!==null&&Ul(r,s,l,!0),null}function uh(r,s){var a=s.ref;if(a===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(i(284));(r===null||r.ref!==a)&&(s.flags|=4194816)}}function Em(r,s,a,l,f){return oa(s),a=nm(r,s,a,l,void 0,f),l=rm(),r!==null&&!Ht?(im(r,s,f),si(r,s,f)):(Qe&&l&&jd(s),s.flags|=1,Wt(r,s,a,f),s.child)}function O_(r,s,a,l,f,m){return oa(s),s.updateQueue=null,a=Dv(s,l,a,f),Cv(r),l=rm(),r!==null&&!Ht?(im(r,s,m),si(r,s,m)):(Qe&&l&&jd(s),s.flags|=1,Wt(r,s,a,m),s.child)}function M_(r,s,a,l,f){if(oa(s),s.stateNode===null){var m=oo,b=a.contextType;typeof b=="object"&&b!==null&&(m=an(b)),m=new a(l,m),s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=vm,s.stateNode=m,m._reactInternals=s,m=s.stateNode,m.props=l,m.state=s.memoizedState,m.refs={},$d(s),b=a.contextType,m.context=typeof b=="object"&&b!==null?an(b):oo,m.state=s.memoizedState,b=a.getDerivedStateFromProps,typeof b=="function"&&(ym(s,a,b,l),m.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(b=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),b!==m.state&&vm.enqueueReplaceState(m,m.state,null),Gl(s,l,m,f),Hl(),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(r===null){m=s.stateNode;var S=s.memoizedProps,O=ua(a,S);m.props=O;var G=m.context,Z=a.contextType;b=oo,typeof Z=="object"&&Z!==null&&(b=an(Z));var ne=a.getDerivedStateFromProps;Z=typeof ne=="function"||typeof m.getSnapshotBeforeUpdate=="function",S=s.pendingProps!==S,Z||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(S||G!==b)&&__(s,m,l,b),ki=!1;var Y=s.memoizedState;m.state=Y,Gl(s,l,m,f),Hl(),G=s.memoizedState,S||Y!==G||ki?(typeof ne=="function"&&(ym(s,a,ne,l),G=s.memoizedState),(O=ki||v_(s,a,O,l,Y,G,b))?(Z||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(s.flags|=4194308)):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=G),m.props=l,m.state=G,m.context=b,l=O):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{m=s.stateNode,Xd(r,s),b=s.memoizedProps,Z=ua(a,b),m.props=Z,ne=s.pendingProps,Y=m.context,G=a.contextType,O=oo,typeof G=="object"&&G!==null&&(O=an(G)),S=a.getDerivedStateFromProps,(G=typeof S=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(b!==ne||Y!==O)&&__(s,m,l,O),ki=!1,Y=s.memoizedState,m.state=Y,Gl(s,l,m,f),Hl();var K=s.memoizedState;b!==ne||Y!==K||ki||r!==null&&r.dependencies!==null&&Gu(r.dependencies)?(typeof S=="function"&&(ym(s,a,S,l),K=s.memoizedState),(Z=ki||v_(s,a,Z,l,Y,K,O)||r!==null&&r.dependencies!==null&&Gu(r.dependencies))?(G||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,K,O),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,K,O)),typeof m.componentDidUpdate=="function"&&(s.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof m.componentDidUpdate!="function"||b===r.memoizedProps&&Y===r.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===r.memoizedProps&&Y===r.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=K),m.props=l,m.state=K,m.context=O,l=Z):(typeof m.componentDidUpdate!="function"||b===r.memoizedProps&&Y===r.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===r.memoizedProps&&Y===r.memoizedState||(s.flags|=1024),l=!1)}return m=l,uh(r,s),l=(s.flags&128)!==0,m||l?(m=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:m.render(),s.flags|=1,r!==null&&l?(s.child=vo(s,r.child,null,f),s.child=vo(s,null,a,f)):Wt(r,s,a,f),s.memoizedState=m.state,r=s.child):r=si(r,s,f),r}function k_(r,s,a,l){return Vl(),s.flags|=256,Wt(r,s,a,l),s.child}var bm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Tm(r){return{baseLanes:r,cachePool:bv()}}function wm(r,s,a){return r=r!==null?r.childLanes&~a:0,s&&(r|=Wn),r}function P_(r,s,a){var l=s.pendingProps,f=!1,m=(s.flags&128)!==0,b;if((b=m)||(b=r!==null&&r.memoizedState===null?!1:(jt.current&2)!==0),b&&(f=!0,s.flags&=-129),b=(s.flags&32)!==0,s.flags&=-33,r===null){if(Qe){if(f?Ui(s):ji(),Qe){var S=gt,O;if(O=S){e:{for(O=S,S=wr;O.nodeType!==8;){if(!S){S=null;break e}if(O=or(O.nextSibling),O===null){S=null;break e}}S=O}S!==null?(s.memoizedState={dehydrated:S,treeContext:na!==null?{id:Jr,overflow:ei}:null,retryLane:536870912,hydrationErrors:null},O=Dn(18,null,null,0),O.stateNode=S,O.return=s,s.child=O,gn=s,gt=null,O=!0):O=!1}O||sa(s)}if(S=s.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return ap(S)?s.lanes=32:s.lanes=536870912,null;ii(s)}return S=l.children,l=l.fallback,f?(ji(),f=s.mode,S=hh({mode:"hidden",children:S},f),l=ta(l,f,a,null),S.return=s,l.return=s,S.sibling=l,s.child=S,f=s.child,f.memoizedState=Tm(a),f.childLanes=wm(r,b,a),s.memoizedState=bm,l):(Ui(s),Sm(s,S))}if(O=r.memoizedState,O!==null&&(S=O.dehydrated,S!==null)){if(m)s.flags&256?(Ui(s),s.flags&=-257,s=Am(r,s,a)):s.memoizedState!==null?(ji(),s.child=r.child,s.flags|=128,s=null):(ji(),f=l.fallback,S=s.mode,l=hh({mode:"visible",children:l.children},S),f=ta(f,S,a,null),f.flags|=2,l.return=s,f.return=s,l.sibling=f,s.child=l,vo(s,r.child,null,a),l=s.child,l.memoizedState=Tm(a),l.childLanes=wm(r,b,a),s.memoizedState=bm,s=f);else if(Ui(s),ap(S)){if(b=S.nextSibling&&S.nextSibling.dataset,b)var G=b.dgst;b=G,l=Error(i(419)),l.stack="",l.digest=b,Ll({value:l,source:null,stack:null}),s=Am(r,s,a)}else if(Ht||Ul(r,s,a,!1),b=(a&r.childLanes)!==0,Ht||b){if(b=lt,b!==null&&(l=a&-a,l=(l&42)!==0?1:Ri(l),l=(l&(b.suspendedLanes|a))!==0?0:l,l!==0&&l!==O.retryLane))throw O.retryLane=l,ao(r,l),Vn(b,r,l),R_;S.data==="$?"||Fm(),s=Am(r,s,a)}else S.data==="$?"?(s.flags|=192,s.child=r.child,s=null):(r=O.treeContext,gt=or(S.nextSibling),gn=s,Qe=!0,ia=null,wr=!1,r!==null&&(Qn[$n++]=Jr,Qn[$n++]=ei,Qn[$n++]=na,Jr=r.id,ei=r.overflow,na=s),s=Sm(s,l.children),s.flags|=4096);return s}return f?(ji(),f=l.fallback,S=s.mode,O=r.child,G=O.sibling,l=Zr(O,{mode:"hidden",children:l.children}),l.subtreeFlags=O.subtreeFlags&65011712,G!==null?f=Zr(G,f):(f=ta(f,S,a,null),f.flags|=2),f.return=s,l.return=s,l.sibling=f,s.child=l,l=f,f=s.child,S=r.child.memoizedState,S===null?S=Tm(a):(O=S.cachePool,O!==null?(G=Ut._currentValue,O=O.parent!==G?{parent:G,pool:G}:O):O=bv(),S={baseLanes:S.baseLanes|a,cachePool:O}),f.memoizedState=S,f.childLanes=wm(r,b,a),s.memoizedState=bm,l):(Ui(s),a=r.child,r=a.sibling,a=Zr(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,r!==null&&(b=s.deletions,b===null?(s.deletions=[r],s.flags|=16):b.push(r)),s.child=a,s.memoizedState=null,a)}function Sm(r,s){return s=hh({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function hh(r,s){return r=Dn(22,r,null,s),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function Am(r,s,a){return vo(s,r.child,null,a),r=Sm(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function V_(r,s,a){r.lanes|=s;var l=r.alternate;l!==null&&(l.lanes|=s),Fd(r.return,s,a)}function Rm(r,s,a,l,f){var m=r.memoizedState;m===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f}:(m.isBackwards=s,m.rendering=null,m.renderingStartTime=0,m.last=l,m.tail=a,m.tailMode=f)}function L_(r,s,a){var l=s.pendingProps,f=l.revealOrder,m=l.tail;if(Wt(r,s,l.children,a),l=jt.current,(l&2)!==0)l=l&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&V_(r,a,s);else if(r.tag===19)V_(r,a,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}l&=1}switch(se(jt,l),f){case"forwards":for(a=s.child,f=null;a!==null;)r=a.alternate,r!==null&&oh(r)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),Rm(s,!1,f,a,m);break;case"backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(r=f.alternate,r!==null&&oh(r)===null){s.child=f;break}r=f.sibling,f.sibling=a,a=f,f=r}Rm(s,!0,a,null,m);break;case"together":Rm(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function si(r,s,a){if(r!==null&&(s.dependencies=r.dependencies),Hi|=s.lanes,(a&s.childLanes)===0)if(r!==null){if(Ul(r,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,a=Zr(r,r.pendingProps),s.child=a,a.return=s;r.sibling!==null;)r=r.sibling,a=a.sibling=Zr(r,r.pendingProps),a.return=s;a.sibling=null}return s.child}function xm(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&Gu(r)))}function RR(r,s,a){switch(s.tag){case 3:We(s,s.stateNode.containerInfo),Mi(s,Ut,r.memoizedState.cache),Vl();break;case 27:case 5:Rn(s);break;case 4:We(s,s.stateNode.containerInfo);break;case 10:Mi(s,s.type,s.memoizedProps.value);break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(Ui(s),s.flags|=128,null):(a&s.child.childLanes)!==0?P_(r,s,a):(Ui(s),r=si(r,s,a),r!==null?r.sibling:null);Ui(s);break;case 19:var f=(r.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(Ul(r,s,a,!1),l=(a&s.childLanes)!==0),f){if(l)return L_(r,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),se(jt,jt.current),l)break;return null;case 22:case 23:return s.lanes=0,C_(r,s,a);case 24:Mi(s,Ut,r.memoizedState.cache)}return si(r,s,a)}function U_(r,s,a){if(r!==null)if(r.memoizedProps!==s.pendingProps)Ht=!0;else{if(!xm(r,a)&&(s.flags&128)===0)return Ht=!1,RR(r,s,a);Ht=(r.flags&131072)!==0}else Ht=!1,Qe&&(s.flags&1048576)!==0&&mv(s,Hu,s.index);switch(s.lanes=0,s.tag){case 16:e:{r=s.pendingProps;var l=s.elementType,f=l._init;if(l=f(l._payload),s.type=l,typeof l=="function")Vd(l)?(r=ua(l,r),s.tag=1,s=M_(null,s,l,r,a)):(s.tag=0,s=Em(null,s,l,r,a));else{if(l!=null){if(f=l.$$typeof,f===J){s.tag=11,s=x_(null,s,l,r,a);break e}else if(f===M){s.tag=14,s=I_(null,s,l,r,a);break e}}throw s=Me(l)||l,Error(i(306,s,""))}}return s;case 0:return Em(r,s,s.type,s.pendingProps,a);case 1:return l=s.type,f=ua(l,s.pendingProps),M_(r,s,l,f,a);case 3:e:{if(We(s,s.stateNode.containerInfo),r===null)throw Error(i(387));l=s.pendingProps;var m=s.memoizedState;f=m.element,Xd(r,s),Gl(s,l,null,a);var b=s.memoizedState;if(l=b.cache,Mi(s,Ut,l),l!==m.cache&&Hd(s,[Ut],a,!0),Hl(),l=b.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:b.cache},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){s=k_(r,s,l,a);break e}else if(l!==f){f=Yn(Error(i(424)),s),Ll(f),s=k_(r,s,l,a);break e}else{switch(r=s.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(gt=or(r.firstChild),gn=s,Qe=!0,ia=null,wr=!0,a=g_(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Vl(),l===f){s=si(r,s,a);break e}Wt(r,s,l,a)}s=s.child}return s;case 26:return uh(r,s),r===null?(a=q0(s.type,null,s.pendingProps,null))?s.memoizedState=a:Qe||(a=s.type,r=s.pendingProps,l=Ah(Te.current).createElement(a),l[Pt]=s,l[xt]=r,Jt(l,a,r),Tt(l),s.stateNode=l):s.memoizedState=q0(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return Rn(s),r===null&&Qe&&(l=s.stateNode=j0(s.type,s.pendingProps,Te.current),gn=s,wr=!0,f=gt,Qi(s.type)?(op=f,gt=or(l.firstChild)):gt=f),Wt(r,s,s.pendingProps.children,a),uh(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&Qe&&((f=l=gt)&&(l=ex(l,s.type,s.pendingProps,wr),l!==null?(s.stateNode=l,gn=s,gt=or(l.firstChild),wr=!1,f=!0):f=!1),f||sa(s)),Rn(s),f=s.type,m=s.pendingProps,b=r!==null?r.memoizedProps:null,l=m.children,rp(f,m)?l=null:b!==null&&rp(f,b)&&(s.flags|=32),s.memoizedState!==null&&(f=nm(r,s,vR,null,null,a),dc._currentValue=f),uh(r,s),Wt(r,s,l,a),s.child;case 6:return r===null&&Qe&&((r=a=gt)&&(a=tx(a,s.pendingProps,wr),a!==null?(s.stateNode=a,gn=s,gt=null,r=!0):r=!1),r||sa(s)),null;case 13:return P_(r,s,a);case 4:return We(s,s.stateNode.containerInfo),l=s.pendingProps,r===null?s.child=vo(s,null,l,a):Wt(r,s,l,a),s.child;case 11:return x_(r,s,s.type,s.pendingProps,a);case 7:return Wt(r,s,s.pendingProps,a),s.child;case 8:return Wt(r,s,s.pendingProps.children,a),s.child;case 12:return Wt(r,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,Mi(s,s.type,l.value),Wt(r,s,l.children,a),s.child;case 9:return f=s.type._context,l=s.pendingProps.children,oa(s),f=an(f),l=l(f),s.flags|=1,Wt(r,s,l,a),s.child;case 14:return I_(r,s,s.type,s.pendingProps,a);case 15:return N_(r,s,s.type,s.pendingProps,a);case 19:return L_(r,s,a);case 31:return l=s.pendingProps,a=s.mode,l={mode:l.mode,children:l.children},r===null?(a=hh(l,a),a.ref=s.ref,s.child=a,a.return=s,s=a):(a=Zr(r.child,l),a.ref=s.ref,s.child=a,a.return=s,s=a),s;case 22:return C_(r,s,a);case 24:return oa(s),l=an(Ut),r===null?(f=Kd(),f===null&&(f=lt,m=Gd(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=a),f=m),s.memoizedState={parent:l,cache:f},$d(s),Mi(s,Ut,f)):((r.lanes&a)!==0&&(Xd(r,s),Gl(s,null,null,a),Hl()),f=r.memoizedState,m=s.memoizedState,f.parent!==l?(f={parent:l,cache:l},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),Mi(s,Ut,l)):(l=m.cache,Mi(s,Ut,l),l!==f.cache&&Hd(s,[Ut],a,!0))),Wt(r,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function ai(r){r.flags|=4}function j_(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!K0(s)){if(s=Xn.current,s!==null&&((Fe&4194048)===Fe?Sr!==null:(Fe&62914560)!==Fe&&(Fe&536870912)===0||s!==Sr))throw ql=Qd,Tv;r.flags|=8192}}function fh(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?pl():536870912,r.lanes|=s,To|=s)}function Zl(r,s){if(!Qe)switch(r.tailMode){case"hidden":s=r.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:l.sibling=null}}function dt(r){var s=r.alternate!==null&&r.alternate.child===r.child,a=0,l=0;if(s)for(var f=r.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=l,r.childLanes=a,s}function xR(r,s,a){var l=s.pendingProps;switch(zd(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dt(s),null;case 1:return dt(s),null;case 3:return a=s.stateNode,l=null,r!==null&&(l=r.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),ni(Ut),fn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(r===null||r.child===null)&&(Pl(s)?ai(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,yv())),dt(s),null;case 26:return a=s.memoizedState,r===null?(ai(s),a!==null?(dt(s),j_(s,a)):(dt(s),s.flags&=-16777217)):a?a!==r.memoizedState?(ai(s),dt(s),j_(s,a)):(dt(s),s.flags&=-16777217):(r.memoizedProps!==l&&ai(s),dt(s),s.flags&=-16777217),null;case 27:xn(s),a=Te.current;var f=s.type;if(r!==null&&s.stateNode!=null)r.memoizedProps!==l&&ai(s);else{if(!l){if(s.stateNode===null)throw Error(i(166));return dt(s),null}r=me.current,Pl(s)?pv(s):(r=j0(f,l,a),s.stateNode=r,ai(s))}return dt(s),null;case 5:if(xn(s),a=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==l&&ai(s);else{if(!l){if(s.stateNode===null)throw Error(i(166));return dt(s),null}if(r=me.current,Pl(s))pv(s);else{switch(f=Ah(Te.current),r){case 1:r=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:r=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":r=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":r=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":r=f.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?r.multiple=!0:l.size&&(r.size=l.size);break;default:r=typeof l.is=="string"?f.createElement(a,{is:l.is}):f.createElement(a)}}r[Pt]=s,r[xt]=l;e:for(f=s.child;f!==null;){if(f.tag===5||f.tag===6)r.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===s)break e;for(;f.sibling===null;){if(f.return===null||f.return===s)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}s.stateNode=r;e:switch(Jt(r,a,l),a){case"button":case"input":case"select":case"textarea":r=!!l.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&ai(s)}}return dt(s),s.flags&=-16777217,null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==l&&ai(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(i(166));if(r=Te.current,Pl(s)){if(r=s.stateNode,a=s.memoizedProps,l=null,f=gn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}r[Pt]=s,r=!!(r.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||O0(r.nodeValue,a)),r||sa(s)}else r=Ah(r).createTextNode(l),r[Pt]=s,s.stateNode=r}return dt(s),null;case 13:if(l=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(f=Pl(s),l!==null&&l.dehydrated!==null){if(r===null){if(!f)throw Error(i(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));f[Pt]=s}else Vl(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;dt(s),f=!1}else f=yv(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(ii(s),s):(ii(s),null)}if(ii(s),(s.flags&128)!==0)return s.lanes=a,s;if(a=l!==null,r=r!==null&&r.memoizedState!==null,a){l=s.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var m=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==f&&(l.flags|=2048)}return a!==r&&a&&(s.child.flags|=8192),fh(s,s.updateQueue),dt(s),null;case 4:return fn(),r===null&&Zm(s.stateNode.containerInfo),dt(s),null;case 10:return ni(s.type),dt(s),null;case 19:if(ue(jt),f=s.memoizedState,f===null)return dt(s),null;if(l=(s.flags&128)!==0,m=f.rendering,m===null)if(l)Zl(f,!1);else{if(yt!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(m=oh(r),m!==null){for(s.flags|=128,Zl(f,!1),r=m.updateQueue,s.updateQueue=r,fh(s,r),s.subtreeFlags=0,r=a,a=s.child;a!==null;)dv(a,r),a=a.sibling;return se(jt,jt.current&1|2),s.child}r=r.sibling}f.tail!==null&&zn()>ph&&(s.flags|=128,l=!0,Zl(f,!1),s.lanes=4194304)}else{if(!l)if(r=oh(m),r!==null){if(s.flags|=128,l=!0,r=r.updateQueue,s.updateQueue=r,fh(s,r),Zl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!m.alternate&&!Qe)return dt(s),null}else 2*zn()-f.renderingStartTime>ph&&a!==536870912&&(s.flags|=128,l=!0,Zl(f,!1),s.lanes=4194304);f.isBackwards?(m.sibling=s.child,s.child=m):(r=f.last,r!==null?r.sibling=m:s.child=m,f.last=m)}return f.tail!==null?(s=f.tail,f.rendering=s,f.tail=s.sibling,f.renderingStartTime=zn(),s.sibling=null,r=jt.current,se(jt,l?r&1|2:r&1),s):(dt(s),null);case 22:case 23:return ii(s),em(),l=s.memoizedState!==null,r!==null?r.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(dt(s),s.subtreeFlags&6&&(s.flags|=8192)):dt(s),a=s.updateQueue,a!==null&&fh(s,a.retryQueue),a=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(a=r.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),r!==null&&ue(la),null;case 24:return a=null,r!==null&&(a=r.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),ni(Ut),dt(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function IR(r,s){switch(zd(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return ni(Ut),fn(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return xn(s),null;case 13:if(ii(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));Vl()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return ue(jt),null;case 4:return fn(),null;case 10:return ni(s.type),null;case 22:case 23:return ii(s),em(),r!==null&&ue(la),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return ni(Ut),null;case 25:return null;default:return null}}function z_(r,s){switch(zd(s),s.tag){case 3:ni(Ut),fn();break;case 26:case 27:case 5:xn(s);break;case 4:fn();break;case 13:ii(s);break;case 19:ue(jt);break;case 10:ni(s.type);break;case 22:case 23:ii(s),em(),r!==null&&ue(la);break;case 24:ni(Ut)}}function Jl(r,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&r)===r){l=void 0;var m=a.create,b=a.inst;l=m(),b.destroy=l}a=a.next}while(a!==f)}}catch(S){ot(s,s.return,S)}}function zi(r,s,a){try{var l=s.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var m=f.next;l=m;do{if((l.tag&r)===r){var b=l.inst,S=b.destroy;if(S!==void 0){b.destroy=void 0,f=s;var O=a,G=S;try{G()}catch(Z){ot(f,O,Z)}}}l=l.next}while(l!==m)}}catch(Z){ot(s,s.return,Z)}}function B_(r){var s=r.updateQueue;if(s!==null){var a=r.stateNode;try{Iv(s,a)}catch(l){ot(r,r.return,l)}}}function q_(r,s,a){a.props=ua(r.type,r.memoizedProps),a.state=r.memoizedState;try{a.componentWillUnmount()}catch(l){ot(r,s,l)}}function ec(r,s){try{var a=r.ref;if(a!==null){switch(r.tag){case 26:case 27:case 5:var l=r.stateNode;break;case 30:l=r.stateNode;break;default:l=r.stateNode}typeof a=="function"?r.refCleanup=a(l):a.current=l}}catch(f){ot(r,s,f)}}function Ar(r,s){var a=r.ref,l=r.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){ot(r,s,f)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){ot(r,s,f)}else a.current=null}function F_(r){var s=r.type,a=r.memoizedProps,l=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){ot(r,r.return,f)}}function Im(r,s,a){try{var l=r.stateNode;$R(l,r.type,a,s),l[xt]=s}catch(f){ot(r,r.return,f)}}function H_(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Qi(r.type)||r.tag===4}function Nm(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||H_(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Qi(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Cm(r,s,a){var l=r.tag;if(l===5||l===6)r=r.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(r,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(r),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Sh));else if(l!==4&&(l===27&&Qi(r.type)&&(a=r.stateNode,s=null),r=r.child,r!==null))for(Cm(r,s,a),r=r.sibling;r!==null;)Cm(r,s,a),r=r.sibling}function dh(r,s,a){var l=r.tag;if(l===5||l===6)r=r.stateNode,s?a.insertBefore(r,s):a.appendChild(r);else if(l!==4&&(l===27&&Qi(r.type)&&(a=r.stateNode),r=r.child,r!==null))for(dh(r,s,a),r=r.sibling;r!==null;)dh(r,s,a),r=r.sibling}function G_(r){var s=r.stateNode,a=r.memoizedProps;try{for(var l=r.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);Jt(s,l,a),s[Pt]=r,s[xt]=a}catch(m){ot(r,r.return,m)}}var oi=!1,St=!1,Dm=!1,Y_=typeof WeakSet=="function"?WeakSet:Set,Gt=null;function NR(r,s){if(r=r.containerInfo,tp=Dh,r=rv(r),Nd(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var b=0,S=-1,O=-1,G=0,Z=0,ne=r,Y=null;t:for(;;){for(var K;ne!==a||f!==0&&ne.nodeType!==3||(S=b+f),ne!==m||l!==0&&ne.nodeType!==3||(O=b+l),ne.nodeType===3&&(b+=ne.nodeValue.length),(K=ne.firstChild)!==null;)Y=ne,ne=K;for(;;){if(ne===r)break t;if(Y===a&&++G===f&&(S=b),Y===m&&++Z===l&&(O=b),(K=ne.nextSibling)!==null)break;ne=Y,Y=ne.parentNode}ne=K}a=S===-1||O===-1?null:{start:S,end:O}}else a=null}a=a||{start:0,end:0}}else a=null;for(np={focusedElem:r,selectionRange:a},Dh=!1,Gt=s;Gt!==null;)if(s=Gt,r=s.child,(s.subtreeFlags&1024)!==0&&r!==null)r.return=s,Gt=r;else for(;Gt!==null;){switch(s=Gt,m=s.alternate,r=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&m!==null){r=void 0,a=s,f=m.memoizedProps,m=m.memoizedState,l=a.stateNode;try{var Ae=ua(a.type,f,a.elementType===a.type);r=l.getSnapshotBeforeUpdate(Ae,m),l.__reactInternalSnapshotBeforeUpdate=r}catch(Ee){ot(a,a.return,Ee)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,a=r.nodeType,a===9)sp(r);else if(a===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":sp(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,Gt=r;break}Gt=s.return}}function K_(r,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Bi(r,a),l&4&&Jl(5,a);break;case 1:if(Bi(r,a),l&4)if(r=a.stateNode,s===null)try{r.componentDidMount()}catch(b){ot(a,a.return,b)}else{var f=ua(a.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(f,s,r.__reactInternalSnapshotBeforeUpdate)}catch(b){ot(a,a.return,b)}}l&64&&B_(a),l&512&&ec(a,a.return);break;case 3:if(Bi(r,a),l&64&&(r=a.updateQueue,r!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{Iv(r,s)}catch(b){ot(a,a.return,b)}}break;case 27:s===null&&l&4&&G_(a);case 26:case 5:Bi(r,a),s===null&&l&4&&F_(a),l&512&&ec(a,a.return);break;case 12:Bi(r,a);break;case 13:Bi(r,a),l&4&&X_(r,a),l&64&&(r=a.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(a=UR.bind(null,a),nx(r,a))));break;case 22:if(l=a.memoizedState!==null||oi,!l){s=s!==null&&s.memoizedState!==null||St,f=oi;var m=St;oi=l,(St=s)&&!m?qi(r,a,(a.subtreeFlags&8772)!==0):Bi(r,a),oi=f,St=m}break;case 30:break;default:Bi(r,a)}}function Q_(r){var s=r.alternate;s!==null&&(r.alternate=null,Q_(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&Ni(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var ht=null,_n=!1;function li(r,s,a){for(a=a.child;a!==null;)$_(r,s,a),a=a.sibling}function $_(r,s,a){if(Ze&&typeof Ze.onCommitFiberUnmount=="function")try{Ze.onCommitFiberUnmount(pt,a)}catch{}switch(a.tag){case 26:St||Ar(a,s),li(r,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:St||Ar(a,s);var l=ht,f=_n;Qi(a.type)&&(ht=a.stateNode,_n=!1),li(r,s,a),cc(a.stateNode),ht=l,_n=f;break;case 5:St||Ar(a,s);case 6:if(l=ht,f=_n,ht=null,li(r,s,a),ht=l,_n=f,ht!==null)if(_n)try{(ht.nodeType===9?ht.body:ht.nodeName==="HTML"?ht.ownerDocument.body:ht).removeChild(a.stateNode)}catch(m){ot(a,s,m)}else try{ht.removeChild(a.stateNode)}catch(m){ot(a,s,m)}break;case 18:ht!==null&&(_n?(r=ht,L0(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,a.stateNode),yc(r)):L0(ht,a.stateNode));break;case 4:l=ht,f=_n,ht=a.stateNode.containerInfo,_n=!0,li(r,s,a),ht=l,_n=f;break;case 0:case 11:case 14:case 15:St||zi(2,a,s),St||zi(4,a,s),li(r,s,a);break;case 1:St||(Ar(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&q_(a,s,l)),li(r,s,a);break;case 21:li(r,s,a);break;case 22:St=(l=St)||a.memoizedState!==null,li(r,s,a),St=l;break;default:li(r,s,a)}}function X_(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{yc(r)}catch(a){ot(s,s.return,a)}}function CR(r){switch(r.tag){case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new Y_),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new Y_),s;default:throw Error(i(435,r.tag))}}function Om(r,s){var a=CR(r);s.forEach(function(l){var f=jR.bind(null,r,l);a.has(l)||(a.add(l),l.then(f,f))})}function On(r,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],m=r,b=s,S=b;e:for(;S!==null;){switch(S.tag){case 27:if(Qi(S.type)){ht=S.stateNode,_n=!1;break e}break;case 5:ht=S.stateNode,_n=!1;break e;case 3:case 4:ht=S.stateNode.containerInfo,_n=!0;break e}S=S.return}if(ht===null)throw Error(i(160));$_(m,b,f),ht=null,_n=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)W_(s,r),s=s.sibling}var ar=null;function W_(r,s){var a=r.alternate,l=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:On(s,r),Mn(r),l&4&&(zi(3,r,r.return),Jl(3,r),zi(5,r,r.return));break;case 1:On(s,r),Mn(r),l&512&&(St||a===null||Ar(a,a.return)),l&64&&oi&&(r=r.updateQueue,r!==null&&(l=r.callbacks,l!==null&&(a=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=ar;if(On(s,r),Mn(r),l&512&&(St||a===null||Ar(a,a.return)),l&4){var m=a!==null?a.memoizedState:null;if(l=r.memoizedState,a===null)if(l===null)if(r.stateNode===null){e:{l=r.type,a=r.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":m=f.getElementsByTagName("title")[0],(!m||m[js]||m[Pt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(l),f.head.insertBefore(m,f.querySelector("head > title"))),Jt(m,l,a),m[Pt]=r,Tt(m),l=m;break e;case"link":var b=G0("link","href",f).get(l+(a.href||""));if(b){for(var S=0;S<b.length;S++)if(m=b[S],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){b.splice(S,1);break t}}m=f.createElement(l),Jt(m,l,a),f.head.appendChild(m);break;case"meta":if(b=G0("meta","content",f).get(l+(a.content||""))){for(S=0;S<b.length;S++)if(m=b[S],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){b.splice(S,1);break t}}m=f.createElement(l),Jt(m,l,a),f.head.appendChild(m);break;default:throw Error(i(468,l))}m[Pt]=r,Tt(m),l=m}r.stateNode=l}else Y0(f,r.type,r.stateNode);else r.stateNode=H0(f,l,r.memoizedProps);else m!==l?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,l===null?Y0(f,r.type,r.stateNode):H0(f,l,r.memoizedProps)):l===null&&r.stateNode!==null&&Im(r,r.memoizedProps,a.memoizedProps)}break;case 27:On(s,r),Mn(r),l&512&&(St||a===null||Ar(a,a.return)),a!==null&&l&4&&Im(r,r.memoizedProps,a.memoizedProps);break;case 5:if(On(s,r),Mn(r),l&512&&(St||a===null||Ar(a,a.return)),r.flags&32){f=r.stateNode;try{qn(f,"")}catch(K){ot(r,r.return,K)}}l&4&&r.stateNode!=null&&(f=r.memoizedProps,Im(r,f,a!==null?a.memoizedProps:f)),l&1024&&(Dm=!0);break;case 6:if(On(s,r),Mn(r),l&4){if(r.stateNode===null)throw Error(i(162));l=r.memoizedProps,a=r.stateNode;try{a.nodeValue=l}catch(K){ot(r,r.return,K)}}break;case 3:if(Ih=null,f=ar,ar=Rh(s.containerInfo),On(s,r),ar=f,Mn(r),l&4&&a!==null&&a.memoizedState.isDehydrated)try{yc(s.containerInfo)}catch(K){ot(r,r.return,K)}Dm&&(Dm=!1,Z_(r));break;case 4:l=ar,ar=Rh(r.stateNode.containerInfo),On(s,r),Mn(r),ar=l;break;case 12:On(s,r),Mn(r);break;case 13:On(s,r),Mn(r),r.child.flags&8192&&r.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Um=zn()),l&4&&(l=r.updateQueue,l!==null&&(r.updateQueue=null,Om(r,l)));break;case 22:f=r.memoizedState!==null;var O=a!==null&&a.memoizedState!==null,G=oi,Z=St;if(oi=G||f,St=Z||O,On(s,r),St=Z,oi=G,Mn(r),l&8192)e:for(s=r.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(a===null||O||oi||St||ha(r)),a=null,s=r;;){if(s.tag===5||s.tag===26){if(a===null){O=a=s;try{if(m=O.stateNode,f)b=m.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{S=O.stateNode;var ne=O.memoizedProps.style,Y=ne!=null&&ne.hasOwnProperty("display")?ne.display:null;S.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(K){ot(O,O.return,K)}}}else if(s.tag===6){if(a===null){O=s;try{O.stateNode.nodeValue=f?"":O.memoizedProps}catch(K){ot(O,O.return,K)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=r.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Om(r,a))));break;case 19:On(s,r),Mn(r),l&4&&(l=r.updateQueue,l!==null&&(r.updateQueue=null,Om(r,l)));break;case 30:break;case 21:break;default:On(s,r),Mn(r)}}function Mn(r){var s=r.flags;if(s&2){try{for(var a,l=r.return;l!==null;){if(H_(l)){a=l;break}l=l.return}if(a==null)throw Error(i(160));switch(a.tag){case 27:var f=a.stateNode,m=Nm(r);dh(r,m,f);break;case 5:var b=a.stateNode;a.flags&32&&(qn(b,""),a.flags&=-33);var S=Nm(r);dh(r,S,b);break;case 3:case 4:var O=a.stateNode.containerInfo,G=Nm(r);Cm(r,G,O);break;default:throw Error(i(161))}}catch(Z){ot(r,r.return,Z)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function Z_(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;Z_(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function Bi(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)K_(r,s.alternate,s),s=s.sibling}function ha(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:zi(4,s,s.return),ha(s);break;case 1:Ar(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&q_(s,s.return,a),ha(s);break;case 27:cc(s.stateNode);case 26:case 5:Ar(s,s.return),ha(s);break;case 22:s.memoizedState===null&&ha(s);break;case 30:ha(s);break;default:ha(s)}r=r.sibling}}function qi(r,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,f=r,m=s,b=m.flags;switch(m.tag){case 0:case 11:case 15:qi(f,m,a),Jl(4,m);break;case 1:if(qi(f,m,a),l=m,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(G){ot(l,l.return,G)}if(l=m,f=l.updateQueue,f!==null){var S=l.stateNode;try{var O=f.shared.hiddenCallbacks;if(O!==null)for(f.shared.hiddenCallbacks=null,f=0;f<O.length;f++)xv(O[f],S)}catch(G){ot(l,l.return,G)}}a&&b&64&&B_(m),ec(m,m.return);break;case 27:G_(m);case 26:case 5:qi(f,m,a),a&&l===null&&b&4&&F_(m),ec(m,m.return);break;case 12:qi(f,m,a);break;case 13:qi(f,m,a),a&&b&4&&X_(f,m);break;case 22:m.memoizedState===null&&qi(f,m,a),ec(m,m.return);break;case 30:break;default:qi(f,m,a)}s=s.sibling}}function Mm(r,s){var a=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(a=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==a&&(r!=null&&r.refCount++,a!=null&&jl(a))}function km(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&jl(r))}function Rr(r,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)J_(r,s,a,l),s=s.sibling}function J_(r,s,a,l){var f=s.flags;switch(s.tag){case 0:case 11:case 15:Rr(r,s,a,l),f&2048&&Jl(9,s);break;case 1:Rr(r,s,a,l);break;case 3:Rr(r,s,a,l),f&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&jl(r)));break;case 12:if(f&2048){Rr(r,s,a,l),r=s.stateNode;try{var m=s.memoizedProps,b=m.id,S=m.onPostCommit;typeof S=="function"&&S(b,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(O){ot(s,s.return,O)}}else Rr(r,s,a,l);break;case 13:Rr(r,s,a,l);break;case 23:break;case 22:m=s.stateNode,b=s.alternate,s.memoizedState!==null?m._visibility&2?Rr(r,s,a,l):tc(r,s):m._visibility&2?Rr(r,s,a,l):(m._visibility|=2,_o(r,s,a,l,(s.subtreeFlags&10256)!==0)),f&2048&&Mm(b,s);break;case 24:Rr(r,s,a,l),f&2048&&km(s.alternate,s);break;default:Rr(r,s,a,l)}}function _o(r,s,a,l,f){for(f=f&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var m=r,b=s,S=a,O=l,G=b.flags;switch(b.tag){case 0:case 11:case 15:_o(m,b,S,O,f),Jl(8,b);break;case 23:break;case 22:var Z=b.stateNode;b.memoizedState!==null?Z._visibility&2?_o(m,b,S,O,f):tc(m,b):(Z._visibility|=2,_o(m,b,S,O,f)),f&&G&2048&&Mm(b.alternate,b);break;case 24:_o(m,b,S,O,f),f&&G&2048&&km(b.alternate,b);break;default:_o(m,b,S,O,f)}s=s.sibling}}function tc(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=r,l=s,f=l.flags;switch(l.tag){case 22:tc(a,l),f&2048&&Mm(l.alternate,l);break;case 24:tc(a,l),f&2048&&km(l.alternate,l);break;default:tc(a,l)}s=s.sibling}}var nc=8192;function Eo(r){if(r.subtreeFlags&nc)for(r=r.child;r!==null;)e0(r),r=r.sibling}function e0(r){switch(r.tag){case 26:Eo(r),r.flags&nc&&r.memoizedState!==null&&px(ar,r.memoizedState,r.memoizedProps);break;case 5:Eo(r);break;case 3:case 4:var s=ar;ar=Rh(r.stateNode.containerInfo),Eo(r),ar=s;break;case 22:r.memoizedState===null&&(s=r.alternate,s!==null&&s.memoizedState!==null?(s=nc,nc=16777216,Eo(r),nc=s):Eo(r));break;default:Eo(r)}}function t0(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function rc(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];Gt=l,r0(l,r)}t0(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)n0(r),r=r.sibling}function n0(r){switch(r.tag){case 0:case 11:case 15:rc(r),r.flags&2048&&zi(9,r,r.return);break;case 3:rc(r);break;case 12:rc(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,mh(r)):rc(r);break;default:rc(r)}}function mh(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];Gt=l,r0(l,r)}t0(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:zi(8,s,s.return),mh(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,mh(s));break;default:mh(s)}r=r.sibling}}function r0(r,s){for(;Gt!==null;){var a=Gt;switch(a.tag){case 0:case 11:case 15:zi(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:jl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Gt=l;else e:for(a=r;Gt!==null;){l=Gt;var f=l.sibling,m=l.return;if(Q_(l),l===a){Gt=null;break e}if(f!==null){f.return=m,Gt=f;break e}Gt=m}}}var DR={getCacheForType:function(r){var s=an(Ut),a=s.data.get(r);return a===void 0&&(a=r(),s.data.set(r,a)),a}},OR=typeof WeakMap=="function"?WeakMap:Map,Je=0,lt=null,Pe=null,Fe=0,et=0,kn=null,Fi=!1,bo=!1,Pm=!1,ci=0,yt=0,Hi=0,fa=0,Vm=0,Wn=0,To=0,ic=null,En=null,Lm=!1,Um=0,ph=1/0,gh=null,Gi=null,Zt=0,Yi=null,wo=null,So=0,jm=0,zm=null,i0=null,sc=0,Bm=null;function Pn(){if((Je&2)!==0&&Fe!==0)return Fe&-Fe;if(Q.T!==null){var r=uo;return r!==0?r:Qm()}return xi()}function s0(){Wn===0&&(Wn=(Fe&536870912)===0||Qe?ml():536870912);var r=Xn.current;return r!==null&&(r.flags|=32),Wn}function Vn(r,s,a){(r===lt&&(et===2||et===9)||r.cancelPendingCommit!==null)&&(Ao(r,0),Ki(r,Fe,Wn,!1)),Br(r,a),((Je&2)===0||r!==lt)&&(r===lt&&((Je&2)===0&&(fa|=a),yt===4&&Ki(r,Fe,Wn,!1)),xr(r))}function a0(r,s,a){if((Je&6)!==0)throw Error(i(327));var l=!a&&(s&124)===0&&(s&r.expiredLanes)===0||Us(r,s),f=l?PR(r,s):Hm(r,s,!0),m=l;do{if(f===0){bo&&!l&&Ki(r,s,0,!1);break}else{if(a=r.current.alternate,m&&!MR(a)){f=Hm(r,s,!1),m=!1;continue}if(f===2){if(m=s,r.errorRecoveryDisabledLanes&m)var b=0;else b=r.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){s=b;e:{var S=r;f=ic;var O=S.current.memoizedState.isDehydrated;if(O&&(Ao(S,b).flags|=256),b=Hm(S,b,!1),b!==2){if(Pm&&!O){S.errorRecoveryDisabledLanes|=m,fa|=m,f=4;break e}m=En,En=f,m!==null&&(En===null?En=m:En.push.apply(En,m))}f=b}if(m=!1,f!==2)continue}}if(f===1){Ao(r,0),Ki(r,s,0,!0);break}e:{switch(l=r,m=f,m){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:Ki(l,s,Wn,!Fi);break e;case 2:En=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(f=Um+300-zn(),10<f)){if(Ki(l,s,Wn,!Fi),Ba(l,0,!0)!==0)break e;l.timeoutHandle=P0(o0.bind(null,l,a,En,gh,Lm,s,Wn,fa,To,Fi,m,2,-0,0),f);break e}o0(l,a,En,gh,Lm,s,Wn,fa,To,Fi,m,0,-0,0)}}break}while(!0);xr(r)}function o0(r,s,a,l,f,m,b,S,O,G,Z,ne,Y,K){if(r.timeoutHandle=-1,ne=s.subtreeFlags,(ne&8192||(ne&16785408)===16785408)&&(fc={stylesheets:null,count:0,unsuspend:mx},e0(s),ne=gx(),ne!==null)){r.cancelPendingCommit=ne(m0.bind(null,r,s,m,a,l,f,b,S,O,Z,1,Y,K)),Ki(r,m,b,!G);return}m0(r,s,m,a,l,f,b,S,O)}function MR(r){for(var s=r;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],m=f.getSnapshot;f=f.value;try{if(!Cn(m(),f))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ki(r,s,a,l){s&=~Vm,s&=~fa,r.suspendedLanes|=s,r.pingedLanes&=~s,l&&(r.warmLanes|=s),l=r.expirationTimes;for(var f=s;0<f;){var m=31-sn(f),b=1<<m;l[m]=-1,f&=~b}a!==0&&fr(r,a,s)}function yh(){return(Je&6)===0?(ac(0),!1):!0}function qm(){if(Pe!==null){if(et===0)var r=Pe.return;else r=Pe,ti=aa=null,sm(r),yo=null,Xl=0,r=Pe;for(;r!==null;)z_(r.alternate,r),r=r.return;Pe=null}}function Ao(r,s){var a=r.timeoutHandle;a!==-1&&(r.timeoutHandle=-1,WR(a)),a=r.cancelPendingCommit,a!==null&&(r.cancelPendingCommit=null,a()),qm(),lt=r,Pe=a=Zr(r.current,null),Fe=s,et=0,kn=null,Fi=!1,bo=Us(r,s),Pm=!1,To=Wn=Vm=fa=Hi=yt=0,En=ic=null,Lm=!1,(s&8)!==0&&(s|=s&32);var l=r.entangledLanes;if(l!==0)for(r=r.entanglements,l&=s;0<l;){var f=31-sn(l),m=1<<f;s|=r[f],l&=~m}return ci=s,ju(),a}function l0(r,s){Ce=null,Q.H=ih,s===Bl||s===Qu?(s=Av(),et=3):s===Tv?(s=Av(),et=4):et=s===R_?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,kn=s,Pe===null&&(yt=1,ch(r,Yn(s,r.current)))}function c0(){var r=Q.H;return Q.H=ih,r===null?ih:r}function u0(){var r=Q.A;return Q.A=DR,r}function Fm(){yt=4,Fi||(Fe&4194048)!==Fe&&Xn.current!==null||(bo=!0),(Hi&134217727)===0&&(fa&134217727)===0||lt===null||Ki(lt,Fe,Wn,!1)}function Hm(r,s,a){var l=Je;Je|=2;var f=c0(),m=u0();(lt!==r||Fe!==s)&&(gh=null,Ao(r,s)),s=!1;var b=yt;e:do try{if(et!==0&&Pe!==null){var S=Pe,O=kn;switch(et){case 8:qm(),b=6;break e;case 3:case 2:case 9:case 6:Xn.current===null&&(s=!0);var G=et;if(et=0,kn=null,Ro(r,S,O,G),a&&bo){b=0;break e}break;default:G=et,et=0,kn=null,Ro(r,S,O,G)}}kR(),b=yt;break}catch(Z){l0(r,Z)}while(!0);return s&&r.shellSuspendCounter++,ti=aa=null,Je=l,Q.H=f,Q.A=m,Pe===null&&(lt=null,Fe=0,ju()),b}function kR(){for(;Pe!==null;)h0(Pe)}function PR(r,s){var a=Je;Je|=2;var l=c0(),f=u0();lt!==r||Fe!==s?(gh=null,ph=zn()+500,Ao(r,s)):bo=Us(r,s);e:do try{if(et!==0&&Pe!==null){s=Pe;var m=kn;t:switch(et){case 1:et=0,kn=null,Ro(r,s,m,1);break;case 2:case 9:if(wv(m)){et=0,kn=null,f0(s);break}s=function(){et!==2&&et!==9||lt!==r||(et=7),xr(r)},m.then(s,s);break e;case 3:et=7;break e;case 4:et=5;break e;case 7:wv(m)?(et=0,kn=null,f0(s)):(et=0,kn=null,Ro(r,s,m,7));break;case 5:var b=null;switch(Pe.tag){case 26:b=Pe.memoizedState;case 5:case 27:var S=Pe;if(!b||K0(b)){et=0,kn=null;var O=S.sibling;if(O!==null)Pe=O;else{var G=S.return;G!==null?(Pe=G,vh(G)):Pe=null}break t}}et=0,kn=null,Ro(r,s,m,5);break;case 6:et=0,kn=null,Ro(r,s,m,6);break;case 8:qm(),yt=6;break e;default:throw Error(i(462))}}VR();break}catch(Z){l0(r,Z)}while(!0);return ti=aa=null,Q.H=l,Q.A=f,Je=a,Pe!==null?0:(lt=null,Fe=0,ju(),yt)}function VR(){for(;Pe!==null&&!ul();)h0(Pe)}function h0(r){var s=U_(r.alternate,r,ci);r.memoizedProps=r.pendingProps,s===null?vh(r):Pe=s}function f0(r){var s=r,a=s.alternate;switch(s.tag){case 15:case 0:s=O_(a,s,s.pendingProps,s.type,void 0,Fe);break;case 11:s=O_(a,s,s.pendingProps,s.type.render,s.ref,Fe);break;case 5:sm(s);default:z_(a,s),s=Pe=dv(s,ci),s=U_(a,s,ci)}r.memoizedProps=r.pendingProps,s===null?vh(r):Pe=s}function Ro(r,s,a,l){ti=aa=null,sm(s),yo=null,Xl=0;var f=s.return;try{if(AR(r,f,s,a,Fe)){yt=1,ch(r,Yn(a,r.current)),Pe=null;return}}catch(m){if(f!==null)throw Pe=f,m;yt=1,ch(r,Yn(a,r.current)),Pe=null;return}s.flags&32768?(Qe||l===1?r=!0:bo||(Fe&536870912)!==0?r=!1:(Fi=r=!0,(l===2||l===9||l===3||l===6)&&(l=Xn.current,l!==null&&l.tag===13&&(l.flags|=16384))),d0(s,r)):vh(s)}function vh(r){var s=r;do{if((s.flags&32768)!==0){d0(s,Fi);return}r=s.return;var a=xR(s.alternate,s,ci);if(a!==null){Pe=a;return}if(s=s.sibling,s!==null){Pe=s;return}Pe=s=r}while(s!==null);yt===0&&(yt=5)}function d0(r,s){do{var a=IR(r.alternate,r);if(a!==null){a.flags&=32767,Pe=a;return}if(a=r.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(r=r.sibling,r!==null)){Pe=r;return}Pe=r=a}while(r!==null);yt=6,Pe=null}function m0(r,s,a,l,f,m,b,S,O){r.cancelPendingCommit=null;do _h();while(Zt!==0);if((Je&6)!==0)throw Error(i(327));if(s!==null){if(s===r.current)throw Error(i(177));if(m=s.lanes|s.childLanes,m|=kd,gl(r,a,m,b,S,O),r===lt&&(Pe=lt=null,Fe=0),wo=s,Yi=r,So=a,jm=m,zm=f,i0=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,zR(ks,function(){return _0(),null})):(r.callbackNode=null,r.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,f=le.p,le.p=2,b=Je,Je|=4;try{NR(r,s,a)}finally{Je=b,le.p=f,Q.T=l}}Zt=1,p0(),g0(),y0()}}function p0(){if(Zt===1){Zt=0;var r=Yi,s=wo,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var l=le.p;le.p=2;var f=Je;Je|=4;try{W_(s,r);var m=np,b=rv(r.containerInfo),S=m.focusedElem,O=m.selectionRange;if(b!==S&&S&&S.ownerDocument&&nv(S.ownerDocument.documentElement,S)){if(O!==null&&Nd(S)){var G=O.start,Z=O.end;if(Z===void 0&&(Z=G),"selectionStart"in S)S.selectionStart=G,S.selectionEnd=Math.min(Z,S.value.length);else{var ne=S.ownerDocument||document,Y=ne&&ne.defaultView||window;if(Y.getSelection){var K=Y.getSelection(),Ae=S.textContent.length,Ee=Math.min(O.start,Ae),st=O.end===void 0?Ee:Math.min(O.end,Ae);!K.extend&&Ee>st&&(b=st,st=Ee,Ee=b);var q=tv(S,Ee),j=tv(S,st);if(q&&j&&(K.rangeCount!==1||K.anchorNode!==q.node||K.anchorOffset!==q.offset||K.focusNode!==j.node||K.focusOffset!==j.offset)){var H=ne.createRange();H.setStart(q.node,q.offset),K.removeAllRanges(),Ee>st?(K.addRange(H),K.extend(j.node,j.offset)):(H.setEnd(j.node,j.offset),K.addRange(H))}}}}for(ne=[],K=S;K=K.parentNode;)K.nodeType===1&&ne.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<ne.length;S++){var ee=ne[S];ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}}Dh=!!tp,np=tp=null}finally{Je=f,le.p=l,Q.T=a}}r.current=s,Zt=2}}function g0(){if(Zt===2){Zt=0;var r=Yi,s=wo,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var l=le.p;le.p=2;var f=Je;Je|=4;try{K_(r,s.alternate,s)}finally{Je=f,le.p=l,Q.T=a}}Zt=3}}function y0(){if(Zt===4||Zt===3){Zt=0,mu();var r=Yi,s=wo,a=So,l=i0;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Zt=5:(Zt=0,wo=Yi=null,v0(r,r.pendingLanes));var f=r.pendingLanes;if(f===0&&(Gi=null),qa(a),s=s.stateNode,Ze&&typeof Ze.onCommitFiberRoot=="function")try{Ze.onCommitFiberRoot(pt,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=Q.T,f=le.p,le.p=2,Q.T=null;try{for(var m=r.onRecoverableError,b=0;b<l.length;b++){var S=l[b];m(S.value,{componentStack:S.stack})}}finally{Q.T=s,le.p=f}}(So&3)!==0&&_h(),xr(r),f=r.pendingLanes,(a&4194090)!==0&&(f&42)!==0?r===Bm?sc++:(sc=0,Bm=r):sc=0,ac(0)}}function v0(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,jl(s)))}function _h(r){return p0(),g0(),y0(),_0()}function _0(){if(Zt!==5)return!1;var r=Yi,s=jm;jm=0;var a=qa(So),l=Q.T,f=le.p;try{le.p=32>a?32:a,Q.T=null,a=zm,zm=null;var m=Yi,b=So;if(Zt=0,wo=Yi=null,So=0,(Je&6)!==0)throw Error(i(331));var S=Je;if(Je|=4,n0(m.current),J_(m,m.current,b,a),Je=S,ac(0,!1),Ze&&typeof Ze.onPostCommitFiberRoot=="function")try{Ze.onPostCommitFiberRoot(pt,m)}catch{}return!0}finally{le.p=f,Q.T=l,v0(r,s)}}function E0(r,s,a){s=Yn(a,s),s=_m(r.stateNode,s,2),r=Vi(r,s,2),r!==null&&(Br(r,2),xr(r))}function ot(r,s,a){if(r.tag===3)E0(r,r,a);else for(;s!==null;){if(s.tag===3){E0(s,r,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Gi===null||!Gi.has(l))){r=Yn(a,r),a=S_(2),l=Vi(s,a,2),l!==null&&(A_(a,l,s,r),Br(l,2),xr(l));break}}s=s.return}}function Gm(r,s,a){var l=r.pingCache;if(l===null){l=r.pingCache=new OR;var f=new Set;l.set(s,f)}else f=l.get(s),f===void 0&&(f=new Set,l.set(s,f));f.has(a)||(Pm=!0,f.add(a),r=LR.bind(null,r,s,a),s.then(r,r))}function LR(r,s,a){var l=r.pingCache;l!==null&&l.delete(s),r.pingedLanes|=r.suspendedLanes&a,r.warmLanes&=~a,lt===r&&(Fe&a)===a&&(yt===4||yt===3&&(Fe&62914560)===Fe&&300>zn()-Um?(Je&2)===0&&Ao(r,0):Vm|=a,To===Fe&&(To=0)),xr(r)}function b0(r,s){s===0&&(s=pl()),r=ao(r,s),r!==null&&(Br(r,s),xr(r))}function UR(r){var s=r.memoizedState,a=0;s!==null&&(a=s.retryLane),b0(r,a)}function jR(r,s){var a=0;switch(r.tag){case 13:var l=r.stateNode,f=r.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=r.stateNode;break;case 22:l=r.stateNode._retryCache;break;default:throw Error(i(314))}l!==null&&l.delete(s),b0(r,a)}function zR(r,s){return Os(r,s)}var Eh=null,xo=null,Ym=!1,bh=!1,Km=!1,da=0;function xr(r){r!==xo&&r.next===null&&(xo===null?Eh=xo=r:xo=xo.next=r),bh=!0,Ym||(Ym=!0,qR())}function ac(r,s){if(!Km&&bh){Km=!0;do for(var a=!1,l=Eh;l!==null;){if(r!==0){var f=l.pendingLanes;if(f===0)var m=0;else{var b=l.suspendedLanes,S=l.pingedLanes;m=(1<<31-sn(42|r)+1)-1,m&=f&~(b&~S),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,A0(l,m))}else m=Fe,m=Ba(l,l===lt?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||Us(l,m)||(a=!0,A0(l,m));l=l.next}while(a);Km=!1}}function BR(){T0()}function T0(){bh=Ym=!1;var r=0;da!==0&&(XR()&&(r=da),da=0);for(var s=zn(),a=null,l=Eh;l!==null;){var f=l.next,m=w0(l,s);m===0?(l.next=null,a===null?Eh=f:a.next=f,f===null&&(xo=a)):(a=l,(r!==0||(m&3)!==0)&&(bh=!0)),l=f}ac(r)}function w0(r,s){for(var a=r.suspendedLanes,l=r.pingedLanes,f=r.expirationTimes,m=r.pendingLanes&-62914561;0<m;){var b=31-sn(m),S=1<<b,O=f[b];O===-1?((S&a)===0||(S&l)!==0)&&(f[b]=dl(S,s)):O<=s&&(r.expiredLanes|=S),m&=~S}if(s=lt,a=Fe,a=Ba(r,r===s?a:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),l=r.callbackNode,a===0||r===s&&(et===2||et===9)||r.cancelPendingCommit!==null)return l!==null&&l!==null&&Ms(l),r.callbackNode=null,r.callbackPriority=0;if((a&3)===0||Us(r,a)){if(s=a&-a,s===r.callbackPriority)return s;switch(l!==null&&Ms(l),qa(a)){case 2:case 8:a=ja;break;case 32:a=ks;break;case 268435456:a=za;break;default:a=ks}return l=S0.bind(null,r),a=Os(a,l),r.callbackPriority=s,r.callbackNode=a,s}return l!==null&&l!==null&&Ms(l),r.callbackPriority=2,r.callbackNode=null,2}function S0(r,s){if(Zt!==0&&Zt!==5)return r.callbackNode=null,r.callbackPriority=0,null;var a=r.callbackNode;if(_h()&&r.callbackNode!==a)return null;var l=Fe;return l=Ba(r,r===lt?l:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),l===0?null:(a0(r,l,s),w0(r,zn()),r.callbackNode!=null&&r.callbackNode===a?S0.bind(null,r):null)}function A0(r,s){if(_h())return null;a0(r,s,!0)}function qR(){ZR(function(){(Je&6)!==0?Os(hl,BR):T0()})}function Qm(){return da===0&&(da=ml()),da}function R0(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Qa(""+r)}function x0(r,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,r.id&&a.setAttribute("form",r.id),s.parentNode.insertBefore(a,s),r=new FormData(r),a.parentNode.removeChild(a),r}function FR(r,s,a,l,f){if(s==="submit"&&a&&a.stateNode===f){var m=R0((f[xt]||null).action),b=l.submitter;b&&(s=(s=b[xt]||null)?R0(s.formAction):b.getAttribute("formAction"),s!==null&&(m=s,b=null));var S=new $a("action","action",null,l,f);r.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(da!==0){var O=b?x0(f,b):new FormData(f);mm(a,{pending:!0,data:O,method:f.method,action:m},null,O)}}else typeof m=="function"&&(S.preventDefault(),O=b?x0(f,b):new FormData(f),mm(a,{pending:!0,data:O,method:f.method,action:m},m,O))},currentTarget:f}]})}}for(var $m=0;$m<Md.length;$m++){var Xm=Md[$m],HR=Xm.toLowerCase(),GR=Xm[0].toUpperCase()+Xm.slice(1);sr(HR,"on"+GR)}sr(av,"onAnimationEnd"),sr(ov,"onAnimationIteration"),sr(lv,"onAnimationStart"),sr("dblclick","onDoubleClick"),sr("focusin","onFocus"),sr("focusout","onBlur"),sr(lR,"onTransitionRun"),sr(cR,"onTransitionStart"),sr(uR,"onTransitionCancel"),sr(cv,"onTransitionEnd"),Fr("onMouseEnter",["mouseout","mouseover"]),Fr("onMouseLeave",["mouseout","mouseover"]),Fr("onPointerEnter",["pointerout","pointerover"]),Fr("onPointerLeave",["pointerout","pointerover"]),rr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rr("onBeforeInput",["compositionend","keypress","textInput","paste"]),rr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var oc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(oc));function I0(r,s){s=(s&4)!==0;for(var a=0;a<r.length;a++){var l=r[a],f=l.event;l=l.listeners;e:{var m=void 0;if(s)for(var b=l.length-1;0<=b;b--){var S=l[b],O=S.instance,G=S.currentTarget;if(S=S.listener,O!==m&&f.isPropagationStopped())break e;m=S,f.currentTarget=G;try{m(f)}catch(Z){lh(Z)}f.currentTarget=null,m=O}else for(b=0;b<l.length;b++){if(S=l[b],O=S.instance,G=S.currentTarget,S=S.listener,O!==m&&f.isPropagationStopped())break e;m=S,f.currentTarget=G;try{m(f)}catch(Z){lh(Z)}f.currentTarget=null,m=O}}}}function Ve(r,s){var a=s[vl];a===void 0&&(a=s[vl]=new Set);var l=r+"__bubble";a.has(l)||(N0(s,r,2,!1),a.add(l))}function Wm(r,s,a){var l=0;s&&(l|=4),N0(a,r,l,s)}var Th="_reactListening"+Math.random().toString(36).slice(2);function Zm(r){if(!r[Th]){r[Th]=!0,_l.forEach(function(a){a!=="selectionchange"&&(YR.has(a)||Wm(a,!1,r),Wm(a,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Th]||(s[Th]=!0,Wm("selectionchange",!1,s))}}function N0(r,s,a,l){switch(J0(s)){case 2:var f=_x;break;case 8:f=Ex;break;default:f=fp}a=f.bind(null,s,a,r),f=void 0,!Hn||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),l?f!==void 0?r.addEventListener(s,a,{capture:!0,passive:f}):r.addEventListener(s,a,!0):f!==void 0?r.addEventListener(s,a,{passive:f}):r.addEventListener(s,a,!1)}function Jm(r,s,a,l,f){var m=l;if((s&1)===0&&(s&2)===0&&l!==null)e:for(;;){if(l===null)return;var b=l.tag;if(b===3||b===4){var S=l.stateNode.containerInfo;if(S===f)break;if(b===4)for(b=l.return;b!==null;){var O=b.tag;if((O===3||O===4)&&b.stateNode.containerInfo===f)return;b=b.return}for(;S!==null;){if(b=qr(S),b===null)return;if(O=b.tag,O===5||O===6||O===26||O===27){l=m=b;continue e}S=S.parentNode}}l=l.return}Su(function(){var G=m,Z=Fn(a),ne=[];e:{var Y=uv.get(r);if(Y!==void 0){var K=$a,Ae=r;switch(r){case"keypress":if(vr(a)===0)break e;case"keydown":case"keyup":K=to;break;case"focusin":Ae="focus",K=Za;break;case"focusout":Ae="blur",K=Za;break;case"beforeblur":case"afterblur":K=Za;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=Gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=Ad;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=Ou;break;case av:case ov:case lv:K=Ja;break;case cv:K=ku;break;case"scroll":case"scrollend":K=Au;break;case"wheel":K=no;break;case"copy":case"cut":case"paste":K=eo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=Dl;break;case"toggle":case"beforetoggle":K=Vu}var Ee=(s&4)!==0,st=!Ee&&(r==="scroll"||r==="scrollend"),q=Ee?Y!==null?Y+"Capture":null:Y;Ee=[];for(var j=G,H;j!==null;){var ee=j;if(H=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||H===null||q===null||(ee=Ys(j,q),ee!=null&&Ee.push(lc(j,ee,H))),st)break;j=j.return}0<Ee.length&&(Y=new K(Y,Ae,null,a,Z),ne.push({event:Y,listeners:Ee}))}}if((s&7)===0){e:{if(Y=r==="mouseover"||r==="pointerover",K=r==="mouseout"||r==="pointerout",Y&&a!==Yr&&(Ae=a.relatedTarget||a.fromElement)&&(qr(Ae)||Ae[Bn]))break e;if((K||Y)&&(Y=Z.window===Z?Z:(Y=Z.ownerDocument)?Y.defaultView||Y.parentWindow:window,K?(Ae=a.relatedTarget||a.toElement,K=G,Ae=Ae?qr(Ae):null,Ae!==null&&(st=c(Ae),Ee=Ae.tag,Ae!==st||Ee!==5&&Ee!==27&&Ee!==6)&&(Ae=null)):(K=null,Ae=G),K!==Ae)){if(Ee=Gn,ee="onMouseLeave",q="onMouseEnter",j="mouse",(r==="pointerout"||r==="pointerover")&&(Ee=Dl,ee="onPointerLeave",q="onPointerEnter",j="pointer"),st=K==null?Y:mr(K),H=Ae==null?Y:mr(Ae),Y=new Ee(ee,j+"leave",K,a,Z),Y.target=st,Y.relatedTarget=H,ee=null,qr(Z)===G&&(Ee=new Ee(q,j+"enter",Ae,a,Z),Ee.target=H,Ee.relatedTarget=st,ee=Ee),st=ee,K&&Ae)t:{for(Ee=K,q=Ae,j=0,H=Ee;H;H=Io(H))j++;for(H=0,ee=q;ee;ee=Io(ee))H++;for(;0<j-H;)Ee=Io(Ee),j--;for(;0<H-j;)q=Io(q),H--;for(;j--;){if(Ee===q||q!==null&&Ee===q.alternate)break t;Ee=Io(Ee),q=Io(q)}Ee=null}else Ee=null;K!==null&&C0(ne,Y,K,Ee,!1),Ae!==null&&st!==null&&C0(ne,st,Ae,Ee,!0)}}e:{if(Y=G?mr(G):window,K=Y.nodeName&&Y.nodeName.toLowerCase(),K==="select"||K==="input"&&Y.type==="file")var pe=$y;else if(Lt(Y))if(Xy)pe=sR;else{pe=rR;var Oe=nR}else K=Y.nodeName,!K||K.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?G&&Sl(G.elementType)&&(pe=$y):pe=iR;if(pe&&(pe=pe(r,G))){Wr(ne,pe,a,Z);break e}Oe&&Oe(r,Y,G),r==="focusout"&&G&&Y.type==="number"&&G.memoizedProps.value!=null&&Di(Y,"number",Y.value)}switch(Oe=G?mr(G):window,r){case"focusin":(Lt(Oe)||Oe.contentEditable==="true")&&(ro=Oe,Cd=G,kl=null);break;case"focusout":kl=Cd=ro=null;break;case"mousedown":Dd=!0;break;case"contextmenu":case"mouseup":case"dragend":Dd=!1,iv(ne,a,Z);break;case"selectionchange":if(oR)break;case"keydown":case"keyup":iv(ne,a,Z)}var ve;if(br)e:{switch(r){case"compositionstart":var be="onCompositionStart";break e;case"compositionend":be="onCompositionEnd";break e;case"compositionupdate":be="onCompositionUpdate";break e}be=void 0}else Be?$(r,a)&&(be="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(be="onCompositionStart");be&&(_&&a.locale!=="ko"&&(Be||be!=="onCompositionStart"?be==="onCompositionEnd"&&Be&&(ve=Rl()):(yr=Z,Oi="value"in yr?yr.value:yr.textContent,Be=!0)),Oe=wh(G,be),0<Oe.length&&(be=new Nl(be,r,null,a,Z),ne.push({event:be,listeners:Oe}),ve?be.data=ve:(ve=ce(a),ve!==null&&(be.data=ve)))),(ve=y?Vt(r,a):qe(r,a))&&(be=wh(G,"onBeforeInput"),0<be.length&&(Oe=new Nl("onBeforeInput","beforeinput",null,a,Z),ne.push({event:Oe,listeners:be}),Oe.data=ve)),FR(ne,r,G,a,Z)}I0(ne,s)})}function lc(r,s,a){return{instance:r,listener:s,currentTarget:a}}function wh(r,s){for(var a=s+"Capture",l=[];r!==null;){var f=r,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=Ys(r,a),f!=null&&l.unshift(lc(r,f,m)),f=Ys(r,s),f!=null&&l.push(lc(r,f,m))),r.tag===3)return l;r=r.return}return[]}function Io(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function C0(r,s,a,l,f){for(var m=s._reactName,b=[];a!==null&&a!==l;){var S=a,O=S.alternate,G=S.stateNode;if(S=S.tag,O!==null&&O===l)break;S!==5&&S!==26&&S!==27||G===null||(O=G,f?(G=Ys(a,m),G!=null&&b.unshift(lc(a,G,O))):f||(G=Ys(a,m),G!=null&&b.push(lc(a,G,O)))),a=a.return}b.length!==0&&r.push({event:s,listeners:b})}var KR=/\r\n?/g,QR=/\u0000|\uFFFD/g;function D0(r){return(typeof r=="string"?r:""+r).replace(KR,`
`).replace(QR,"")}function O0(r,s){return s=D0(s),D0(r)===s}function Sh(){}function it(r,s,a,l,f,m){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||qn(r,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&qn(r,""+l);break;case"className":pr(r,"class",l);break;case"tabIndex":pr(r,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":pr(r,a,l);break;case"style":wl(r,l,m);break;case"data":if(s!=="object"){pr(r,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){r.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){r.removeAttribute(a);break}l=Qa(""+l),r.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){r.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(s!=="input"&&it(r,s,"name",f.name,f,null),it(r,s,"formEncType",f.formEncType,f,null),it(r,s,"formMethod",f.formMethod,f,null),it(r,s,"formTarget",f.formTarget,f,null)):(it(r,s,"encType",f.encType,f,null),it(r,s,"method",f.method,f,null),it(r,s,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){r.removeAttribute(a);break}l=Qa(""+l),r.setAttribute(a,l);break;case"onClick":l!=null&&(r.onclick=Sh);break;case"onScroll":l!=null&&Ve("scroll",r);break;case"onScrollEnd":l!=null&&Ve("scrollend",r);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(i(60));r.innerHTML=a}}break;case"multiple":r.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":r.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){r.removeAttribute("xlink:href");break}a=Qa(""+l),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?r.setAttribute(a,""+l):r.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?r.setAttribute(a,""):r.removeAttribute(a);break;case"capture":case"download":l===!0?r.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?r.setAttribute(a,l):r.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?r.setAttribute(a,l):r.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?r.removeAttribute(a):r.setAttribute(a,l);break;case"popover":Ve("beforetoggle",r),Ve("toggle",r),Ci(r,"popover",l);break;case"xlinkActuate":$t(r,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":$t(r,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":$t(r,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":$t(r,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":$t(r,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":$t(r,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":$t(r,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":$t(r,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":$t(r,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ci(r,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=wd.get(a)||a,Ci(r,a,l))}}function ep(r,s,a,l,f,m){switch(a){case"style":wl(r,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(i(60));r.innerHTML=a}}break;case"children":typeof l=="string"?qn(r,l):(typeof l=="number"||typeof l=="bigint")&&qn(r,""+l);break;case"onScroll":l!=null&&Ve("scroll",r);break;case"onScrollEnd":l!=null&&Ve("scrollend",r);break;case"onClick":l!=null&&(r.onclick=Sh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Fa.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),s=a.slice(2,f?a.length-7:void 0),m=r[xt]||null,m=m!=null?m[a]:null,typeof m=="function"&&r.removeEventListener(s,m,f),typeof l=="function")){typeof m!="function"&&m!==null&&(a in r?r[a]=null:r.hasAttribute(a)&&r.removeAttribute(a)),r.addEventListener(s,l,f);break e}a in r?r[a]=l:l===!0?r.setAttribute(a,""):Ci(r,a,l)}}}function Jt(r,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",r),Ve("load",r);var l=!1,f=!1,m;for(m in a)if(a.hasOwnProperty(m)){var b=a[m];if(b!=null)switch(m){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:it(r,s,m,b,a,null)}}f&&it(r,s,"srcSet",a.srcSet,a,null),l&&it(r,s,"src",a.src,a,null);return;case"input":Ve("invalid",r);var S=m=b=f=null,O=null,G=null;for(l in a)if(a.hasOwnProperty(l)){var Z=a[l];if(Z!=null)switch(l){case"name":f=Z;break;case"type":b=Z;break;case"checked":O=Z;break;case"defaultChecked":G=Z;break;case"value":m=Z;break;case"defaultValue":S=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,s));break;default:it(r,s,l,Z,a,null)}}Fs(r,m,S,O,G,b,f,!1),Ka(r);return;case"select":Ve("invalid",r),l=b=m=null;for(f in a)if(a.hasOwnProperty(f)&&(S=a[f],S!=null))switch(f){case"value":m=S;break;case"defaultValue":b=S;break;case"multiple":l=S;default:it(r,s,f,S,a,null)}s=m,a=b,r.multiple=!!l,s!=null?Gr(r,!!l,s,!1):a!=null&&Gr(r,!!l,a,!0);return;case"textarea":Ve("invalid",r),m=f=l=null;for(b in a)if(a.hasOwnProperty(b)&&(S=a[b],S!=null))switch(b){case"value":l=S;break;case"defaultValue":f=S;break;case"children":m=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:it(r,s,b,S,a,null)}Hs(r,l,f,m),Ka(r);return;case"option":for(O in a)if(a.hasOwnProperty(O)&&(l=a[O],l!=null))switch(O){case"selected":r.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:it(r,s,O,l,a,null)}return;case"dialog":Ve("beforetoggle",r),Ve("toggle",r),Ve("cancel",r),Ve("close",r);break;case"iframe":case"object":Ve("load",r);break;case"video":case"audio":for(l=0;l<oc.length;l++)Ve(oc[l],r);break;case"image":Ve("error",r),Ve("load",r);break;case"details":Ve("toggle",r);break;case"embed":case"source":case"link":Ve("error",r),Ve("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in a)if(a.hasOwnProperty(G)&&(l=a[G],l!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:it(r,s,G,l,a,null)}return;default:if(Sl(s)){for(Z in a)a.hasOwnProperty(Z)&&(l=a[Z],l!==void 0&&ep(r,s,Z,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&it(r,s,S,l,a,null))}function $R(r,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,b=null,S=null,O=null,G=null,Z=null;for(K in a){var ne=a[K];if(a.hasOwnProperty(K)&&ne!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":O=ne;default:l.hasOwnProperty(K)||it(r,s,K,null,l,ne)}}for(var Y in l){var K=l[Y];if(ne=a[Y],l.hasOwnProperty(Y)&&(K!=null||ne!=null))switch(Y){case"type":m=K;break;case"name":f=K;break;case"checked":G=K;break;case"defaultChecked":Z=K;break;case"value":b=K;break;case"defaultValue":S=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(i(137,s));break;default:K!==ne&&it(r,s,Y,K,l,ne)}}Nn(r,b,S,O,G,Z,m,f);return;case"select":K=b=S=Y=null;for(m in a)if(O=a[m],a.hasOwnProperty(m)&&O!=null)switch(m){case"value":break;case"multiple":K=O;default:l.hasOwnProperty(m)||it(r,s,m,null,l,O)}for(f in l)if(m=l[f],O=a[f],l.hasOwnProperty(f)&&(m!=null||O!=null))switch(f){case"value":Y=m;break;case"defaultValue":S=m;break;case"multiple":b=m;default:m!==O&&it(r,s,f,m,l,O)}s=S,a=b,l=K,Y!=null?Gr(r,!!a,Y,!1):!!l!=!!a&&(s!=null?Gr(r,!!a,s,!0):Gr(r,!!a,a?[]:"",!1));return;case"textarea":K=Y=null;for(S in a)if(f=a[S],a.hasOwnProperty(S)&&f!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:it(r,s,S,null,l,f)}for(b in l)if(f=l[b],m=a[b],l.hasOwnProperty(b)&&(f!=null||m!=null))switch(b){case"value":Y=f;break;case"defaultValue":K=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(i(91));break;default:f!==m&&it(r,s,b,f,l,m)}nt(r,Y,K);return;case"option":for(var Ae in a)if(Y=a[Ae],a.hasOwnProperty(Ae)&&Y!=null&&!l.hasOwnProperty(Ae))switch(Ae){case"selected":r.selected=!1;break;default:it(r,s,Ae,null,l,Y)}for(O in l)if(Y=l[O],K=a[O],l.hasOwnProperty(O)&&Y!==K&&(Y!=null||K!=null))switch(O){case"selected":r.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:it(r,s,O,Y,l,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in a)Y=a[Ee],a.hasOwnProperty(Ee)&&Y!=null&&!l.hasOwnProperty(Ee)&&it(r,s,Ee,null,l,Y);for(G in l)if(Y=l[G],K=a[G],l.hasOwnProperty(G)&&Y!==K&&(Y!=null||K!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(i(137,s));break;default:it(r,s,G,Y,l,K)}return;default:if(Sl(s)){for(var st in a)Y=a[st],a.hasOwnProperty(st)&&Y!==void 0&&!l.hasOwnProperty(st)&&ep(r,s,st,void 0,l,Y);for(Z in l)Y=l[Z],K=a[Z],!l.hasOwnProperty(Z)||Y===K||Y===void 0&&K===void 0||ep(r,s,Z,Y,l,K);return}}for(var q in a)Y=a[q],a.hasOwnProperty(q)&&Y!=null&&!l.hasOwnProperty(q)&&it(r,s,q,null,l,Y);for(ne in l)Y=l[ne],K=a[ne],!l.hasOwnProperty(ne)||Y===K||Y==null&&K==null||it(r,s,ne,Y,l,K)}var tp=null,np=null;function Ah(r){return r.nodeType===9?r:r.ownerDocument}function M0(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function k0(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function rp(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var ip=null;function XR(){var r=window.event;return r&&r.type==="popstate"?r===ip?!1:(ip=r,!0):(ip=null,!1)}var P0=typeof setTimeout=="function"?setTimeout:void 0,WR=typeof clearTimeout=="function"?clearTimeout:void 0,V0=typeof Promise=="function"?Promise:void 0,ZR=typeof queueMicrotask=="function"?queueMicrotask:typeof V0<"u"?function(r){return V0.resolve(null).then(r).catch(JR)}:P0;function JR(r){setTimeout(function(){throw r})}function Qi(r){return r==="head"}function L0(r,s){var a=s,l=0,f=0;do{var m=a.nextSibling;if(r.removeChild(a),m&&m.nodeType===8)if(a=m.data,a==="/$"){if(0<l&&8>l){a=l;var b=r.ownerDocument;if(a&1&&cc(b.documentElement),a&2&&cc(b.body),a&4)for(a=b.head,cc(a),b=a.firstChild;b;){var S=b.nextSibling,O=b.nodeName;b[js]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&b.rel.toLowerCase()==="stylesheet"||a.removeChild(b),b=S}}if(f===0){r.removeChild(m),yc(s);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:l=a.charCodeAt(0)-48;else l=0;a=m}while(a);yc(s)}function sp(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":sp(a),Ni(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}r.removeChild(a)}}function ex(r,s,a,l){for(;r.nodeType===1;){var f=a;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(l){if(!r[js])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(m=r.getAttribute("rel"),m==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(m!==f.rel||r.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||r.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||r.getAttribute("title")!==(f.title==null?null:f.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(m=r.getAttribute("src"),(m!==(f.src==null?null:f.src)||r.getAttribute("type")!==(f.type==null?null:f.type)||r.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&r.getAttribute("name")===m)return r}else return r;if(r=or(r.nextSibling),r===null)break}return null}function tx(r,s,a){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!a||(r=or(r.nextSibling),r===null))return null;return r}function ap(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function nx(r,s){var a=r.ownerDocument;if(r.data!=="$?"||a.readyState==="complete")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),r._reactRetry=l}}function or(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return r}var op=null;function U0(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return r;s--}else a==="/$"&&s++}r=r.previousSibling}return null}function j0(r,s,a){switch(s=Ah(a),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function cc(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);Ni(r)}var Zn=new Map,z0=new Set;function Rh(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var ui=le.d;le.d={f:rx,r:ix,D:sx,C:ax,L:ox,m:lx,X:ux,S:cx,M:hx};function rx(){var r=ui.f(),s=yh();return r||s}function ix(r){var s=dr(r);s!==null&&s.tag===5&&s.type==="form"?a_(s):ui.r(r)}var No=typeof document>"u"?null:document;function B0(r,s,a){var l=No;if(l&&typeof s=="string"&&s){var f=It(s);f='link[rel="'+r+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),z0.has(f)||(z0.add(f),r={rel:r,crossOrigin:a,href:s},l.querySelector(f)===null&&(s=l.createElement("link"),Jt(s,"link",r),Tt(s),l.head.appendChild(s)))}}function sx(r){ui.D(r),B0("dns-prefetch",r,null)}function ax(r,s){ui.C(r,s),B0("preconnect",r,s)}function ox(r,s,a){ui.L(r,s,a);var l=No;if(l&&r&&s){var f='link[rel="preload"][as="'+It(s)+'"]';s==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+It(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+It(a.imageSizes)+'"]')):f+='[href="'+It(r)+'"]';var m=f;switch(s){case"style":m=Co(r);break;case"script":m=Do(r)}Zn.has(m)||(r=v({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:r,as:s},a),Zn.set(m,r),l.querySelector(f)!==null||s==="style"&&l.querySelector(uc(m))||s==="script"&&l.querySelector(hc(m))||(s=l.createElement("link"),Jt(s,"link",r),Tt(s),l.head.appendChild(s)))}}function lx(r,s){ui.m(r,s);var a=No;if(a&&r){var l=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+It(l)+'"][href="'+It(r)+'"]',m=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Do(r)}if(!Zn.has(m)&&(r=v({rel:"modulepreload",href:r},s),Zn.set(m,r),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(hc(m)))return}l=a.createElement("link"),Jt(l,"link",r),Tt(l),a.head.appendChild(l)}}}function cx(r,s,a){ui.S(r,s,a);var l=No;if(l&&r){var f=dn(l).hoistableStyles,m=Co(r);s=s||"default";var b=f.get(m);if(!b){var S={loading:0,preload:null};if(b=l.querySelector(uc(m)))S.loading=5;else{r=v({rel:"stylesheet",href:r,"data-precedence":s},a),(a=Zn.get(m))&&lp(r,a);var O=b=l.createElement("link");Tt(O),Jt(O,"link",r),O._p=new Promise(function(G,Z){O.onload=G,O.onerror=Z}),O.addEventListener("load",function(){S.loading|=1}),O.addEventListener("error",function(){S.loading|=2}),S.loading|=4,xh(b,s,l)}b={type:"stylesheet",instance:b,count:1,state:S},f.set(m,b)}}}function ux(r,s){ui.X(r,s);var a=No;if(a&&r){var l=dn(a).hoistableScripts,f=Do(r),m=l.get(f);m||(m=a.querySelector(hc(f)),m||(r=v({src:r,async:!0},s),(s=Zn.get(f))&&cp(r,s),m=a.createElement("script"),Tt(m),Jt(m,"link",r),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function hx(r,s){ui.M(r,s);var a=No;if(a&&r){var l=dn(a).hoistableScripts,f=Do(r),m=l.get(f);m||(m=a.querySelector(hc(f)),m||(r=v({src:r,async:!0,type:"module"},s),(s=Zn.get(f))&&cp(r,s),m=a.createElement("script"),Tt(m),Jt(m,"link",r),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function q0(r,s,a,l){var f=(f=Te.current)?Rh(f):null;if(!f)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=Co(a.href),a=dn(f).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){r=Co(a.href);var m=dn(f).hoistableStyles,b=m.get(r);if(b||(f=f.ownerDocument||f,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(r,b),(m=f.querySelector(uc(r)))&&!m._p&&(b.instance=m,b.state.loading=5),Zn.has(r)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Zn.set(r,a),m||fx(f,r,a,b.state))),s&&l===null)throw Error(i(528,""));return b}if(s&&l!==null)throw Error(i(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Do(a),a=dn(f).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Co(r){return'href="'+It(r)+'"'}function uc(r){return'link[rel="stylesheet"]['+r+"]"}function F0(r){return v({},r,{"data-precedence":r.precedence,precedence:null})}function fx(r,s,a,l){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=r.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),Jt(s,"link",a),Tt(s),r.head.appendChild(s))}function Do(r){return'[src="'+It(r)+'"]'}function hc(r){return"script[async]"+r}function H0(r,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=r.querySelector('style[data-href~="'+It(a.href)+'"]');if(l)return s.instance=l,Tt(l),l;var f=v({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(r.ownerDocument||r).createElement("style"),Tt(l),Jt(l,"style",f),xh(l,a.precedence,r),s.instance=l;case"stylesheet":f=Co(a.href);var m=r.querySelector(uc(f));if(m)return s.state.loading|=4,s.instance=m,Tt(m),m;l=F0(a),(f=Zn.get(f))&&lp(l,f),m=(r.ownerDocument||r).createElement("link"),Tt(m);var b=m;return b._p=new Promise(function(S,O){b.onload=S,b.onerror=O}),Jt(m,"link",l),s.state.loading|=4,xh(m,a.precedence,r),s.instance=m;case"script":return m=Do(a.src),(f=r.querySelector(hc(m)))?(s.instance=f,Tt(f),f):(l=a,(f=Zn.get(m))&&(l=v({},a),cp(l,f)),r=r.ownerDocument||r,f=r.createElement("script"),Tt(f),Jt(f,"link",l),r.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,xh(l,a.precedence,r));return s.instance}function xh(r,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,m=f,b=0;b<l.length;b++){var S=l[b];if(S.dataset.precedence===s)m=S;else if(m!==f)break}m?m.parentNode.insertBefore(r,m.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(r,s.firstChild))}function lp(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function cp(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var Ih=null;function G0(r,s,a){if(Ih===null){var l=new Map,f=Ih=new Map;f.set(a,l)}else f=Ih,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(r))return l;for(l.set(r,null),a=a.getElementsByTagName(r),f=0;f<a.length;f++){var m=a[f];if(!(m[js]||m[Pt]||r==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var b=m.getAttribute(s)||"";b=r+b;var S=l.get(b);S?S.push(m):l.set(b,[m])}}return l}function Y0(r,s,a){r=r.ownerDocument||r,r.head.insertBefore(a,s==="title"?r.querySelector("head > title"):null)}function dx(r,s,a){if(a===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function K0(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var fc=null;function mx(){}function px(r,s,a){if(fc===null)throw Error(i(475));var l=fc;if(s.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var f=Co(a.href),m=r.querySelector(uc(f));if(m){r=m._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(l.count++,l=Nh.bind(l),r.then(l,l)),s.state.loading|=4,s.instance=m,Tt(m);return}m=r.ownerDocument||r,a=F0(a),(f=Zn.get(f))&&lp(a,f),m=m.createElement("link"),Tt(m);var b=m;b._p=new Promise(function(S,O){b.onload=S,b.onerror=O}),Jt(m,"link",a),s.instance=m}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(l.count++,s=Nh.bind(l),r.addEventListener("load",s),r.addEventListener("error",s))}}function gx(){if(fc===null)throw Error(i(475));var r=fc;return r.stylesheets&&r.count===0&&up(r,r.stylesheets),0<r.count?function(s){var a=setTimeout(function(){if(r.stylesheets&&up(r,r.stylesheets),r.unsuspend){var l=r.unsuspend;r.unsuspend=null,l()}},6e4);return r.unsuspend=s,function(){r.unsuspend=null,clearTimeout(a)}}:null}function Nh(){if(this.count--,this.count===0){if(this.stylesheets)up(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Ch=null;function up(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Ch=new Map,s.forEach(yx,r),Ch=null,Nh.call(r))}function yx(r,s){if(!(s.state.loading&4)){var a=Ch.get(r);if(a)var l=a.get(null);else{a=new Map,Ch.set(r,a);for(var f=r.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var b=f[m];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(a.set(b.dataset.precedence,b),l=b)}l&&a.set(null,l)}f=s.instance,b=f.getAttribute("data-precedence"),m=a.get(b)||l,m===l&&a.set(null,f),a.set(b,f),this.count++,l=Nh.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),m?m.parentNode.insertBefore(f,m.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(f,r.firstChild)),s.state.loading|=4}}var dc={$$typeof:W,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function vx(r,s,a,l,f,m,b,S){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=zr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zr(0),this.hiddenUpdates=zr(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function Q0(r,s,a,l,f,m,b,S,O,G,Z,ne){return r=new vx(r,s,a,b,S,O,G,ne),s=1,m===!0&&(s|=24),m=Dn(3,null,null,s),r.current=m,m.stateNode=r,s=Gd(),s.refCount++,r.pooledCache=s,s.refCount++,m.memoizedState={element:l,isDehydrated:a,cache:s},$d(m),r}function $0(r){return r?(r=oo,r):oo}function X0(r,s,a,l,f,m){f=$0(f),l.context===null?l.context=f:l.pendingContext=f,l=Pi(s),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=Vi(r,l,s),a!==null&&(Vn(a,r,s),Fl(a,r,s))}function W0(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<s?a:s}}function hp(r,s){W0(r,s),(r=r.alternate)&&W0(r,s)}function Z0(r){if(r.tag===13){var s=ao(r,67108864);s!==null&&Vn(s,r,67108864),hp(r,67108864)}}var Dh=!0;function _x(r,s,a,l){var f=Q.T;Q.T=null;var m=le.p;try{le.p=2,fp(r,s,a,l)}finally{le.p=m,Q.T=f}}function Ex(r,s,a,l){var f=Q.T;Q.T=null;var m=le.p;try{le.p=8,fp(r,s,a,l)}finally{le.p=m,Q.T=f}}function fp(r,s,a,l){if(Dh){var f=dp(l);if(f===null)Jm(r,s,l,Oh,a),eE(r,l);else if(Tx(f,r,s,a,l))l.stopPropagation();else if(eE(r,l),s&4&&-1<bx.indexOf(r)){for(;f!==null;){var m=dr(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var b=nr(m.pendingLanes);if(b!==0){var S=m;for(S.pendingLanes|=2,S.entangledLanes|=2;b;){var O=1<<31-sn(b);S.entanglements[1]|=O,b&=~O}xr(m),(Je&6)===0&&(ph=zn()+500,ac(0))}}break;case 13:S=ao(m,2),S!==null&&Vn(S,m,2),yh(),hp(m,2)}if(m=dp(l),m===null&&Jm(r,s,l,Oh,a),m===f)break;f=m}f!==null&&l.stopPropagation()}else Jm(r,s,l,null,a)}}function dp(r){return r=Fn(r),mp(r)}var Oh=null;function mp(r){if(Oh=null,r=qr(r),r!==null){var s=c(r);if(s===null)r=null;else{var a=s.tag;if(a===13){if(r=h(s),r!==null)return r;r=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return Oh=r,null}function J0(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(yd()){case hl:return 2;case ja:return 8;case ks:case vd:return 32;case za:return 268435456;default:return 32}default:return 32}}var pp=!1,$i=null,Xi=null,Wi=null,mc=new Map,pc=new Map,Zi=[],bx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function eE(r,s){switch(r){case"focusin":case"focusout":$i=null;break;case"dragenter":case"dragleave":Xi=null;break;case"mouseover":case"mouseout":Wi=null;break;case"pointerover":case"pointerout":mc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":pc.delete(s.pointerId)}}function gc(r,s,a,l,f,m){return r===null||r.nativeEvent!==m?(r={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:m,targetContainers:[f]},s!==null&&(s=dr(s),s!==null&&Z0(s)),r):(r.eventSystemFlags|=l,s=r.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),r)}function Tx(r,s,a,l,f){switch(s){case"focusin":return $i=gc($i,r,s,a,l,f),!0;case"dragenter":return Xi=gc(Xi,r,s,a,l,f),!0;case"mouseover":return Wi=gc(Wi,r,s,a,l,f),!0;case"pointerover":var m=f.pointerId;return mc.set(m,gc(mc.get(m)||null,r,s,a,l,f)),!0;case"gotpointercapture":return m=f.pointerId,pc.set(m,gc(pc.get(m)||null,r,s,a,l,f)),!0}return!1}function tE(r){var s=qr(r.target);if(s!==null){var a=c(s);if(a!==null){if(s=a.tag,s===13){if(s=h(a),s!==null){r.blockedOn=s,yu(r.priority,function(){if(a.tag===13){var l=Pn();l=Ri(l);var f=ao(a,l);f!==null&&Vn(f,a,l),hp(a,l)}});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Mh(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var a=dp(r.nativeEvent);if(a===null){a=r.nativeEvent;var l=new a.constructor(a.type,a);Yr=l,a.target.dispatchEvent(l),Yr=null}else return s=dr(a),s!==null&&Z0(s),r.blockedOn=a,!1;s.shift()}return!0}function nE(r,s,a){Mh(r)&&a.delete(s)}function wx(){pp=!1,$i!==null&&Mh($i)&&($i=null),Xi!==null&&Mh(Xi)&&(Xi=null),Wi!==null&&Mh(Wi)&&(Wi=null),mc.forEach(nE),pc.forEach(nE)}function kh(r,s){r.blockedOn===s&&(r.blockedOn=null,pp||(pp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,wx)))}var Ph=null;function rE(r){Ph!==r&&(Ph=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Ph===r&&(Ph=null);for(var s=0;s<r.length;s+=3){var a=r[s],l=r[s+1],f=r[s+2];if(typeof l!="function"){if(mp(l||a)===null)continue;break}var m=dr(a);m!==null&&(r.splice(s,3),s-=3,mm(m,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function yc(r){function s(O){return kh(O,r)}$i!==null&&kh($i,r),Xi!==null&&kh(Xi,r),Wi!==null&&kh(Wi,r),mc.forEach(s),pc.forEach(s);for(var a=0;a<Zi.length;a++){var l=Zi[a];l.blockedOn===r&&(l.blockedOn=null)}for(;0<Zi.length&&(a=Zi[0],a.blockedOn===null);)tE(a),a.blockedOn===null&&Zi.shift();if(a=(r.ownerDocument||r).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],m=a[l+1],b=f[xt]||null;if(typeof m=="function")b||rE(a);else if(b){var S=null;if(m&&m.hasAttribute("formAction")){if(f=m,b=m[xt]||null)S=b.formAction;else if(mp(f)!==null)continue}else S=b.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),rE(a)}}}function gp(r){this._internalRoot=r}Vh.prototype.render=gp.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var a=s.current,l=Pn();X0(a,l,r,s,null,null)},Vh.prototype.unmount=gp.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;X0(r.current,2,null,r,null,null),yh(),s[Bn]=null}};function Vh(r){this._internalRoot=r}Vh.prototype.unstable_scheduleHydration=function(r){if(r){var s=xi();r={blockedOn:null,target:r,priority:s};for(var a=0;a<Zi.length&&s!==0&&s<Zi[a].priority;a++);Zi.splice(a,0,r),a===0&&tE(r)}};var iE=e.version;if(iE!=="19.1.0")throw Error(i(527,iE,"19.1.0"));le.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=p(s),r=r!==null?g(r):null,r=r===null?null:r.stateNode,r};var Sx={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lh.isDisabled&&Lh.supportsFiber)try{pt=Lh.inject(Sx),Ze=Lh}catch{}}return _c.createRoot=function(r,s){if(!o(r))throw Error(i(299));var a=!1,l="",f=E_,m=b_,b=T_,S=null;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(S=s.unstable_transitionCallbacks)),s=Q0(r,1,!1,null,null,a,l,f,m,b,S,null),r[Bn]=s.current,Zm(r),new gp(s)},_c.hydrateRoot=function(r,s,a){if(!o(r))throw Error(i(299));var l=!1,f="",m=E_,b=b_,S=T_,O=null,G=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(b=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(O=a.unstable_transitionCallbacks),a.formState!==void 0&&(G=a.formState)),s=Q0(r,1,!0,s,a??null,l,f,m,b,S,O,G),s.context=$0(null),a=s.current,l=Pn(),l=Ri(l),f=Pi(l),f.callback=null,Vi(a,f,l),a=l,s.current.lanes=a,Br(s,a),xr(s),r[Bn]=s.current,Zm(r),new Vh(s)},_c.version="19.1.0",_c}var mE;function kx(){if(mE)return _p.exports;mE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),_p.exports=Mx(),_p.exports}var Px=kx();/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vx=()=>{};var pE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},Lx=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const o=n[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const c=n[t++];e[i++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=n[t++],h=n[t++],d=n[t++],p=((o&7)<<18|(c&63)<<12|(h&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const c=n[t++],h=n[t++];e[i++]=String.fromCharCode((o&15)<<12|(c&63)<<6|h&63)}}return e.join("")},UT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const c=n[o],h=o+1<n.length,d=h?n[o+1]:0,p=o+2<n.length,g=p?n[o+2]:0,v=c>>2,w=(c&3)<<4|d>>4;let T=(d&15)<<2|g>>6,C=g&63;p||(C=64,h||(T=64)),i.push(t[v],t[w],t[T],t[C])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(LT(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):Lx(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const c=t[n.charAt(o++)],d=o<n.length?t[n.charAt(o)]:0;++o;const g=o<n.length?t[n.charAt(o)]:64;++o;const w=o<n.length?t[n.charAt(o)]:64;if(++o,c==null||d==null||g==null||w==null)throw new Ux;const T=c<<2|d>>4;if(i.push(T),g!==64){const C=d<<4&240|g>>2;if(i.push(C),w!==64){const L=g<<6&192|w;i.push(L)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Ux extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const jx=function(n){const e=LT(n);return UT.encodeByteArray(e,!0)},pf=function(n){return jx(n).replace(/\./g,"")},jT=function(n){try{return UT.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bx=()=>zx().__FIREBASE_DEFAULTS__,qx=()=>{if(typeof process>"u"||typeof pE>"u")return;const n=pE.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Fx=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&jT(n[1]);return e&&JSON.parse(e)},Bf=()=>{try{return Vx()||Bx()||qx()||Fx()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},zT=n=>{var e,t;return(t=(e=Bf())==null?void 0:e.emulatorHosts)==null?void 0:t[n]},BT=n=>{const e=zT(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},qT=()=>{var n;return(n=Bf())==null?void 0:n.config},FT=n=>{var e;return(e=Bf())==null?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function As(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Vg(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HT(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=n.iat||0,c=n.sub||n.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...n};return[pf(JSON.stringify(t)),pf(JSON.stringify(h)),""].join(".")}const Dc={};function Gx(){const n={prod:[],emulator:[]};for(const e of Object.keys(Dc))Dc[e]?n.emulator.push(e):n.prod.push(e);return n}function Yx(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let gE=!1;function Lg(n,e){if(typeof window>"u"||typeof document>"u"||!As(window.location.host)||Dc[n]===e||Dc[n]||gE)return;Dc[n]=e;function t(T){return`__firebase__banner__${T}`}const i="__firebase__banner",c=Gx().prod.length>0;function h(){const T=document.getElementById(i);T&&T.remove()}function d(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function p(T,C){T.setAttribute("width","24"),T.setAttribute("id",C),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function g(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{gE=!0,h()},T}function v(T,C){T.setAttribute("id",C),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function w(){const T=Yx(i),C=t("text"),L=document.getElementById(C)||document.createElement("span"),I=t("learnmore"),x=document.getElementById(I)||document.createElement("a"),B=t("preprendIcon"),X=document.getElementById(B)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const W=T.element;d(W),v(x,I);const J=g();p(X,B),W.append(X,L,x,J),document.body.appendChild(W)}c?(L.innerText="Preview backend disconnected.",X.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(X.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,L.innerText="Preview backend running in this workspace."),L.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Kx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(hn())}function Qx(){var e;const n=(e=Bf())==null?void 0:e.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $x(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Xx(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function Wx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Zx(){const n=hn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function Jx(){return!Qx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function eI(){try{return typeof indexedDB=="object"}catch{return!1}}function tI(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var c;e(((c=o.error)==null?void 0:c.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI="FirebaseError";class jr extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=nI,Object.setPrototypeOf(this,jr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zc.prototype.create)}}class Zc{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,c=this.errors[e],h=c?rI(c,i):"Error",d=`${this.serviceName}: ${h} (${o}).`;return new jr(o,d,i)}}function rI(n,e){return n.replace(iI,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const iI=/\{\$([^}]+)}/g;function sI(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Sa(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const c=n[o],h=e[o];if(yE(c)&&yE(h)){if(!Sa(c,h))return!1}else if(c!==h)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function yE(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jc(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Ac(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[o,c]=i.split("=");e[decodeURIComponent(o)]=decodeURIComponent(c)}}),e}function Rc(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function aI(n,e){const t=new oI(n,e);return t.subscribe.bind(t)}class oI{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");lI(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=wp),o.error===void 0&&(o.error=wp),o.complete===void 0&&(o.complete=wp);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function lI(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function wp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ft(n){return n&&n._delegate?n._delegate:n}class ys{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new Hx;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(e==null?void 0:e.optional)??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(hI(e))try{this.getOrInitializeService({instanceIdentifier:ga})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const c=this.getOrInitializeService({instanceIdentifier:o});i.resolve(c)}catch{}}}}clearInstance(e=ga){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ga){return this.instances.has(e)}getOptions(e=ga){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[c,h]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(c);i===d&&h.resolve(o)}return o}onInit(e,t){const i=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(i)??new Set;o.add(e),this.onInitCallbacks.set(i,o);const c=this.instances.get(i);return c&&e(c,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:uI(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=ga){return this.component?this.component.multipleInstances?e:ga:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function uI(n){return n===ga?void 0:n}function hI(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new cI(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Le||(Le={}));const dI={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},mI=Le.INFO,pI={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},gI=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),o=pI[e];if(o)console[o](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ug{constructor(e){this.name=e,this._logLevel=mI,this._logHandler=gI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?dI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const yI=(n,e)=>e.some(t=>n instanceof t);let vE,_E;function vI(){return vE||(vE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _I(){return _E||(_E=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const GT=new WeakMap,Jp=new WeakMap,YT=new WeakMap,Sp=new WeakMap,jg=new WeakMap;function EI(n){const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("success",c),n.removeEventListener("error",h)},c=()=>{t(ds(n.result)),o()},h=()=>{i(n.error),o()};n.addEventListener("success",c),n.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&GT.set(t,n)}).catch(()=>{}),jg.set(e,n),e}function bI(n){if(Jp.has(n))return;const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("complete",c),n.removeEventListener("error",h),n.removeEventListener("abort",h)},c=()=>{t(),o()},h=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",c),n.addEventListener("error",h),n.addEventListener("abort",h)});Jp.set(n,e)}let eg={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Jp.get(n);if(e==="objectStoreNames")return n.objectStoreNames||YT.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ds(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function TI(n){eg=n(eg)}function wI(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(Ap(this),e,...t);return YT.set(i,e.sort?e.sort():[e]),ds(i)}:_I().includes(n)?function(...e){return n.apply(Ap(this),e),ds(GT.get(this))}:function(...e){return ds(n.apply(Ap(this),e))}}function SI(n){return typeof n=="function"?wI(n):(n instanceof IDBTransaction&&bI(n),yI(n,vI())?new Proxy(n,eg):n)}function ds(n){if(n instanceof IDBRequest)return EI(n);if(Sp.has(n))return Sp.get(n);const e=SI(n);return e!==n&&(Sp.set(n,e),jg.set(e,n)),e}const Ap=n=>jg.get(n);function AI(n,e,{blocked:t,upgrade:i,blocking:o,terminated:c}={}){const h=indexedDB.open(n,e),d=ds(h);return i&&h.addEventListener("upgradeneeded",p=>{i(ds(h.result),p.oldVersion,p.newVersion,ds(h.transaction),p)}),t&&h.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{c&&p.addEventListener("close",()=>c()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const RI=["get","getKey","getAll","getAllKeys","count"],xI=["put","add","delete","clear"],Rp=new Map;function EE(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Rp.get(e))return Rp.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=xI.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||RI.includes(t)))return;const c=async function(h,...d){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return i&&(g=g.index(d.shift())),(await Promise.all([g[t](...d),o&&p.done]))[0]};return Rp.set(e,c),c}TI(n=>({...n,get:(e,t,i)=>EE(e,t)||n.get(e,t,i),has:(e,t)=>!!EE(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(NI(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function NI(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const tg="@firebase/app",bE="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _i=new Ug("@firebase/app"),CI="@firebase/app-compat",DI="@firebase/analytics-compat",OI="@firebase/analytics",MI="@firebase/app-check-compat",kI="@firebase/app-check",PI="@firebase/auth",VI="@firebase/auth-compat",LI="@firebase/database",UI="@firebase/data-connect",jI="@firebase/database-compat",zI="@firebase/functions",BI="@firebase/functions-compat",qI="@firebase/installations",FI="@firebase/installations-compat",HI="@firebase/messaging",GI="@firebase/messaging-compat",YI="@firebase/performance",KI="@firebase/performance-compat",QI="@firebase/remote-config",$I="@firebase/remote-config-compat",XI="@firebase/storage",WI="@firebase/storage-compat",ZI="@firebase/firestore",JI="@firebase/ai",eN="@firebase/firestore-compat",tN="firebase",nN="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ng="[DEFAULT]",rN={[tg]:"fire-core",[CI]:"fire-core-compat",[OI]:"fire-analytics",[DI]:"fire-analytics-compat",[kI]:"fire-app-check",[MI]:"fire-app-check-compat",[PI]:"fire-auth",[VI]:"fire-auth-compat",[LI]:"fire-rtdb",[UI]:"fire-data-connect",[jI]:"fire-rtdb-compat",[zI]:"fire-fn",[BI]:"fire-fn-compat",[qI]:"fire-iid",[FI]:"fire-iid-compat",[HI]:"fire-fcm",[GI]:"fire-fcm-compat",[YI]:"fire-perf",[KI]:"fire-perf-compat",[QI]:"fire-rc",[$I]:"fire-rc-compat",[XI]:"fire-gcs",[WI]:"fire-gcs-compat",[ZI]:"fire-fst",[eN]:"fire-fst-compat",[JI]:"fire-vertex","fire-js":"fire-js",[tN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gf=new Map,iN=new Map,rg=new Map;function TE(n,e){try{n.container.addComponent(e)}catch(t){_i.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Aa(n){const e=n.name;if(rg.has(e))return _i.debug(`There were multiple attempts to register component ${e}.`),!1;rg.set(e,n);for(const t of gf.values())TE(t,n);for(const t of iN.values())TE(t,n);return!0}function qf(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Tn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ms=new Zc("app","Firebase",sN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(e,t,i){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ys("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ms.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Va=nN;function KT(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i={name:ng,automaticDataCollectionEnabled:!0,...e},o=i.name;if(typeof o!="string"||!o)throw ms.create("bad-app-name",{appName:String(o)});if(t||(t=qT()),!t)throw ms.create("no-options");const c=gf.get(o);if(c){if(Sa(t,c.options)&&Sa(i,c.config))return c;throw ms.create("duplicate-app",{appName:o})}const h=new fI(o);for(const p of rg.values())h.addComponent(p);const d=new aN(t,i,h);return gf.set(o,d),d}function zg(n=ng){const e=gf.get(n);if(!e&&n===ng&&qT())return KT();if(!e)throw ms.create("no-app",{appName:n});return e}function Dr(n,e,t){let i=rN[n]??n;t&&(i+=`-${t}`);const o=i.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const h=[`Unable to register library "${i}" with version "${e}":`];o&&h.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&c&&h.push("and"),c&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),_i.warn(h.join(" "));return}Aa(new ys(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN="firebase-heartbeat-database",lN=1,zc="firebase-heartbeat-store";let xp=null;function QT(){return xp||(xp=AI(oN,lN,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(zc)}catch(t){console.warn(t)}}}}).catch(n=>{throw ms.create("idb-open",{originalErrorMessage:n.message})})),xp}async function cN(n){try{const t=(await QT()).transaction(zc),i=await t.objectStore(zc).get($T(n));return await t.done,i}catch(e){if(e instanceof jr)_i.warn(e.message);else{const t=ms.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});_i.warn(t.message)}}}async function wE(n,e){try{const i=(await QT()).transaction(zc,"readwrite");await i.objectStore(zc).put(e,$T(n)),await i.done}catch(t){if(t instanceof jr)_i.warn(t.message);else{const i=ms.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});_i.warn(i.message)}}}function $T(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uN=1024,hN=30;class fN{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new mN(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=SE();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(h=>h.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:o}),this._heartbeatsCache.heartbeats.length>hN){const h=pN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){_i.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=SE(),{heartbeatsToSend:i,unsentEntries:o}=dN(this._heartbeatsCache.heartbeats),c=pf(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(t){return _i.warn(t),""}}}function SE(){return new Date().toISOString().substring(0,10)}function dN(n,e=uN){const t=[];let i=n.slice();for(const o of n){const c=t.find(h=>h.agent===o.agent);if(c){if(c.dates.push(o.date),AE(t)>e){c.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),AE(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class mN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return eI()?tI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await cN(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return wE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return wE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function AE(n){return pf(JSON.stringify({version:2,heartbeats:n})).length}function pN(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gN(n){Aa(new ys("platform-logger",e=>new II(e),"PRIVATE")),Aa(new ys("heartbeat",e=>new fN(e),"PRIVATE")),Dr(tg,bE,n),Dr(tg,bE,"esm2020"),Dr("fire-js","")}gN("");function XT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const yN=XT,WT=new Zc("auth","Firebase",XT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yf=new Ug("@firebase/auth");function vN(n,...e){yf.logLevel<=Le.WARN&&yf.warn(`Auth (${Va}): ${n}`,...e)}function ef(n,...e){yf.logLevel<=Le.ERROR&&yf.error(`Auth (${Va}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tr(n,...e){throw qg(n,...e)}function cr(n,...e){return qg(n,...e)}function Bg(n,e,t){const i={...yN(),[e]:t};return new Zc("auth","Firebase",i).create(e,{appName:n.name})}function gi(n){return Bg(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _N(n,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&tr(n,"argument-error"),Bg(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function qg(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return WT.create(n,...e)}function we(n,e,...t){if(!n)throw qg(e,...t)}function di(n){const e="INTERNAL ASSERTION FAILED: "+n;throw ef(e),new Error(e)}function Ei(n,e){n||di(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ig(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.href)||""}function EN(){return RE()==="http:"||RE()==="https:"}function RE(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(EN()||Xx()||"connection"in navigator)?navigator.onLine:!0}function TN(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ei(t>e,"Short delay should be less than long delay!"),this.isMobile=Kx()||Wx()}get(){return bN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fg(n,e){Ei(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;di("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;di("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;di("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],AN=new eu(3e4,6e4);function Rs(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Ai(n,e,t,i,o={}){return JT(n,o,async()=>{let c={},h={};i&&(e==="GET"?h=i:c={body:JSON.stringify(i)});const d=Jc({key:n.config.apiKey,...h}).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const g={method:e,headers:p,...c};return $x()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&As(n.emulatorConfig.host)&&(g.credentials="include"),ZT.fetch()(await ew(n,n.config.apiHost,t,d),g)})}async function JT(n,e,t){n._canInitEmulator=!1;const i={...wN,...e};try{const o=new xN(n),c=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await c.json();if("needConfirmation"in h)throw Uh(n,"account-exists-with-different-credential",h);if(c.ok&&!("errorMessage"in h))return h;{const d=c.ok?h.errorMessage:h.error.message,[p,g]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Uh(n,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw Uh(n,"email-already-in-use",h);if(p==="USER_DISABLED")throw Uh(n,"user-disabled",h);const v=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Bg(n,v,g);tr(n,v)}}catch(o){if(o instanceof jr)throw o;tr(n,"network-request-failed",{message:String(o)})}}async function tu(n,e,t,i,o={}){const c=await Ai(n,e,t,i,o);return"mfaPendingCredential"in c&&tr(n,"multi-factor-auth-required",{_serverResponse:c}),c}async function ew(n,e,t,i){const o=`${e}${t}?${i}`,c=n,h=c.config.emulator?Fg(n.config,o):`${n.config.apiScheme}://${o}`;return SN.includes(t)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(h).toString():h}function RN(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class xN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(cr(this.auth,"network-request-failed")),AN.get())})}}function Uh(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=cr(n,e,i);return o.customData._tokenResponse=t,o}function xE(n){return n!==void 0&&n.enterprise!==void 0}class IN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return RN(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function NN(n,e){return Ai(n,"GET","/v2/recaptchaConfig",Rs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CN(n,e){return Ai(n,"POST","/v1/accounts:delete",e)}async function vf(n,e){return Ai(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function DN(n,e=!1){const t=ft(n),i=await t.getIdToken(e),o=Hg(i);we(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,h=c==null?void 0:c.sign_in_provider;return{claims:o,token:i,authTime:Oc(Ip(o.auth_time)),issuedAtTime:Oc(Ip(o.iat)),expirationTime:Oc(Ip(o.exp)),signInProvider:h||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function Ip(n){return Number(n)*1e3}function Hg(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return ef("JWT malformed, contained fewer than 3 sections"),null;try{const o=jT(t);return o?JSON.parse(o):(ef("Failed to decode base64 JWT payload"),null)}catch(o){return ef("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function IE(n){const e=Hg(n);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $o(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof jr&&ON(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function ON({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Oc(this.lastLoginAt),this.creationTime=Oc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _f(n){var w;const e=n.auth,t=await n.getIdToken(),i=await $o(n,vf(e,{idToken:t}));we(i==null?void 0:i.users.length,e,"internal-error");const o=i.users[0];n._notifyReloadListener(o);const c=(w=o.providerUserInfo)!=null&&w.length?tw(o.providerUserInfo):[],h=PN(n.providerData,c),d=n.isAnonymous,p=!(n.email&&o.passwordHash)&&!(h!=null&&h.length),g=d?p:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new sg(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(n,v)}async function kN(n){const e=ft(n);await _f(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function PN(n,e){return[...n.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function tw(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VN(n,e){const t=await JT(n,{},async()=>{const i=Jc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=n.config,h=await ew(n,o,"/v1/token",`key=${c}`),d=await n._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:d,body:i};return n.emulatorConfig&&As(n.emulatorConfig.host)&&(p.credentials="include"),ZT.fetch()(h,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function LN(n,e){return Ai(n,"POST","/v2/accounts:revokeToken",Rs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):IE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){we(e.length!==0,"internal-error");const t=IE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:c}=await VN(e,t);this.updateTokensAndExpiration(i,o,Number(c))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:c}=t,h=new Fo;return i&&(we(typeof i=="string","internal-error",{appName:e}),h.refreshToken=i),o&&(we(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),c&&(we(typeof c=="number","internal-error",{appName:e}),h.expirationTime=c),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Fo,this.toJSON())}_performRefresh(){return di("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function es(n,e){we(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class lr{constructor({uid:e,auth:t,stsTokenManager:i,...o}){this.providerId="firebase",this.proactiveRefresh=new MN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new sg(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await $o(this,this.stsTokenManager.getToken(this.auth,e));return we(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return DN(this,e)}reload(){return kN(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new lr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await _f(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Tn(this.auth.app))return Promise.reject(gi(this.auth));const e=await this.getIdToken();return await $o(this,CN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const i=t.displayName??void 0,o=t.email??void 0,c=t.phoneNumber??void 0,h=t.photoURL??void 0,d=t.tenantId??void 0,p=t._redirectEventId??void 0,g=t.createdAt??void 0,v=t.lastLoginAt??void 0,{uid:w,emailVerified:T,isAnonymous:C,providerData:L,stsTokenManager:I}=t;we(w&&I,e,"internal-error");const x=Fo.fromJSON(this.name,I);we(typeof w=="string",e,"internal-error"),es(i,e.name),es(o,e.name),we(typeof T=="boolean",e,"internal-error"),we(typeof C=="boolean",e,"internal-error"),es(c,e.name),es(h,e.name),es(d,e.name),es(p,e.name),es(g,e.name),es(v,e.name);const B=new lr({uid:w,auth:e,email:o,emailVerified:T,displayName:i,isAnonymous:C,photoURL:h,phoneNumber:c,tenantId:d,stsTokenManager:x,createdAt:g,lastLoginAt:v});return L&&Array.isArray(L)&&(B.providerData=L.map(X=>({...X}))),p&&(B._redirectEventId=p),B}static async _fromIdTokenResponse(e,t,i=!1){const o=new Fo;o.updateFromServerResponse(t);const c=new lr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await _f(c),c}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];we(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?tw(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(c!=null&&c.length),d=new Fo;d.updateFromIdToken(i);const p=new lr({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new sg(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(c!=null&&c.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE=new Map;function mi(n){Ei(n instanceof Function,"Expected a class definition");let e=NE.get(n);return e?(Ei(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,NE.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}nw.type="NONE";const CE=nw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tf(n,e,t){return`firebase:${n}:${e}:${t}`}class Ho{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:c}=this.auth;this.fullUserKey=tf(this.userKey,o.apiKey,c),this.fullPersistenceKey=tf("persistence",o.apiKey,c),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await vf(this.auth,{idToken:e}).catch(()=>{});return t?lr._fromGetAccountInfoResponse(this.auth,t,e):null}return lr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Ho(mi(CE),e,i);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let c=o[0]||mi(CE);const h=tf(i,e.config.apiKey,e.name);let d=null;for(const g of t)try{const v=await g._get(h);if(v){let w;if(typeof v=="string"){const T=await vf(e,{idToken:v}).catch(()=>{});if(!T)break;w=await lr._fromGetAccountInfoResponse(e,T,v)}else w=lr._fromJSON(e,v);g!==c&&(d=w),c=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new Ho(c,e,i):(c=p[0],d&&await c._set(h,d.toJSON()),await Promise.all(t.map(async g=>{if(g!==c)try{await g._remove(h)}catch{}})),new Ho(c,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DE(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(aw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(rw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(lw(e))return"Blackberry";if(cw(e))return"Webos";if(iw(e))return"Safari";if((e.includes("chrome/")||sw(e))&&!e.includes("edge/"))return"Chrome";if(ow(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function rw(n=hn()){return/firefox\//i.test(n)}function iw(n=hn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function sw(n=hn()){return/crios\//i.test(n)}function aw(n=hn()){return/iemobile/i.test(n)}function ow(n=hn()){return/android/i.test(n)}function lw(n=hn()){return/blackberry/i.test(n)}function cw(n=hn()){return/webos/i.test(n)}function Gg(n=hn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function UN(n=hn()){var e;return Gg(n)&&!!((e=window.navigator)!=null&&e.standalone)}function jN(){return Zx()&&document.documentMode===10}function uw(n=hn()){return Gg(n)||ow(n)||cw(n)||lw(n)||/windows phone/i.test(n)||aw(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hw(n,e=[]){let t;switch(n){case"Browser":t=DE(hn());break;case"Worker":t=`${DE(hn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Va}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=c=>new Promise((h,d)=>{try{const p=e(c);h(p)}catch(p){d(p)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BN(n,e={}){return Ai(n,"GET","/v2/passwordPolicy",Rs(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qN=6;class FN{constructor(e){var i;const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??qN,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((i=e.allowedNonAlphanumericCharacters)==null?void 0:i.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new OE(this),this.idTokenSubscription=new OE(this),this.beforeStateQueue=new zN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=WT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=mi(t)),this._initializationPromise=this.queue(async()=>{var i,o,c;if(!this._deleted&&(this.persistenceManager=await Ho.create(this,e),(i=this._resolvePersistenceManagerAvailable)==null||i.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((c=this.currentUser)==null?void 0:c.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await vf(this,{idToken:e}),i=await lr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var c;if(Tn(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(d,d))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let i=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(c=this.redirectUser)==null?void 0:c._redirectEventId,d=i==null?void 0:i._redirectEventId,p=await this.tryRedirectSignIn(e);(!h||h===d)&&(p!=null&&p.user)&&(i=p.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(h){i=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await _f(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=TN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Tn(this.app))return Promise.reject(gi(this));const t=e?ft(e):null;return t&&we(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Tn(this.app)?Promise.reject(gi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Tn(this.app)?Promise.reject(gi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(mi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await BN(this),t=new FN(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Zc("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await LN(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&mi(e)||this._popupRedirectResolver;we(t,this,"argument-error"),this.redirectPersistenceManager=await Ho.create(this,[mi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)==null?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)==null?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((t=this.currentUser)==null?void 0:t.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const c=typeof t=="function"?t:t.next.bind(t);let h=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(d,this,"internal-error"),d.then(()=>{h||c(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,i,o);return()=>{h=!0,p()}}else{const p=e.addObserver(t);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=hw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var o;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await((o=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){var t;if(Tn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:t.getToken());return e!=null&&e.error&&vN(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function xs(n){return ft(n)}class OE{constructor(e){this.auth=e,this.observer=null,this.addObserver=aI(t=>this.observer=t)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ff={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function GN(n){Ff=n}function fw(n){return Ff.loadJS(n)}function YN(){return Ff.recaptchaEnterpriseScript}function KN(){return Ff.gapiScript}function QN(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class $N{constructor(){this.enterprise=new XN}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class XN{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const WN="recaptcha-enterprise",dw="NO_RECAPTCHA";class ZN{constructor(e){this.type=WN,this.auth=xs(e)}async verify(e="verify",t=!1){async function i(c){if(!t){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(h,d)=>{NN(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new IN(p);return c.tenantId==null?c._agentRecaptchaConfig=g:c._tenantRecaptchaConfigs[c.tenantId]=g,h(g.siteKey)}}).catch(p=>{d(p)})})}function o(c,h,d){const p=window.grecaptcha;xE(p)?p.enterprise.ready(()=>{p.enterprise.execute(c,{action:e}).then(g=>{h(g)}).catch(()=>{h(dw)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new $N().execute("siteKey",{action:"verify"}):new Promise((c,h)=>{i(this.auth).then(d=>{if(!t&&xE(window.grecaptcha))o(d,c,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=YN();p.length!==0&&(p+=d),fw(p).then(()=>{o(d,c,h)}).catch(g=>{h(g)})}}).catch(d=>{h(d)})})}}async function ME(n,e,t,i=!1,o=!1){const c=new ZN(n);let h;if(o)h=dw;else try{h=await c.verify(t)}catch{h=await c.verify(t,!0)}const d={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return i?Object.assign(d,{captchaResp:h}):Object.assign(d,{captchaResponse:h}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function ag(n,e,t,i,o){var c;if((c=n._getRecaptchaConfig())!=null&&c.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await ME(n,e,t,t==="getOobCode");return i(n,h)}else return i(n,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await ME(n,e,t,t==="getOobCode");return i(n,d)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JN(n,e){const t=qf(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),c=t.getOptions();if(Sa(c,e??{}))return o;tr(o,"already-initialized")}return t.initialize({options:e})}function eC(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(mi);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function tC(n,e,t){const i=xs(n);we(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,c=mw(e),{host:h,port:d}=nC(e),p=d===null?"":`:${d}`,g={url:`${c}//${h}${p}/`},v=Object.freeze({host:h,port:d,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!i._canInitEmulator){we(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),we(Sa(g,i.config.emulator)&&Sa(v,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=g,i.emulatorConfig=v,i.settings.appVerificationDisabledForTesting=!0,As(h)?(Vg(`${c}//${h}${p}`),Lg("Auth",!0)):rC()}function mw(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function nC(n){const e=mw(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const c=o[1];return{host:c,port:kE(i.substr(c.length+1))}}else{const[c,h]=i.split(":");return{host:c,port:kE(h)}}}function kE(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function rC(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return di("not implemented")}_getIdTokenResponse(e){return di("not implemented")}_linkToIdToken(e,t){return di("not implemented")}_getReauthenticationResolver(e){return di("not implemented")}}async function iC(n,e){return Ai(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sC(n,e){return tu(n,"POST","/v1/accounts:signInWithPassword",Rs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aC(n,e){return tu(n,"POST","/v1/accounts:signInWithEmailLink",Rs(n,e))}async function oC(n,e){return tu(n,"POST","/v1/accounts:signInWithEmailLink",Rs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc extends Yg{constructor(e,t,i,o=null){super("password",i),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Bc(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new Bc(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ag(e,t,"signInWithPassword",sC);case"emailLink":return aC(e,{email:this._email,oobCode:this._password});default:tr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ag(e,i,"signUpPassword",iC);case"emailLink":return oC(e,{idToken:t,email:this._email,oobCode:this._password});default:tr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Go(n,e){return tu(n,"POST","/v1/accounts:signInWithIdp",Rs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC="http://localhost";class Ra extends Yg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ra(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):tr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o,...c}=t;if(!i||!o)return null;const h=new Ra(i,o);return h.idToken=c.idToken||void 0,h.accessToken=c.accessToken||void 0,h.secret=c.secret,h.nonce=c.nonce,h.pendingToken=c.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return Go(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Go(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Go(e,t)}buildRequest(){const e={requestUri:lC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Jc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cC(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function uC(n){const e=Ac(Rc(n)).link,t=e?Ac(Rc(e)).deep_link_id:null,i=Ac(Rc(n)).deep_link_id;return(i?Ac(Rc(i)).link:null)||i||t||e||n}class Kg{constructor(e){const t=Ac(Rc(e)),i=t.apiKey??null,o=t.oobCode??null,c=cC(t.mode??null);we(i&&o&&c,"argument-error"),this.apiKey=i,this.operation=c,this.code=o,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=uC(e);try{return new Kg(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(){this.providerId=nl.PROVIDER_ID}static credential(e,t){return Bc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=Kg.parseLink(t);return we(i,"argument-error"),Bc._fromEmailAndCode(e,i.code,i.tenantId)}}nl.PROVIDER_ID="password";nl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";nl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu extends Qg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss extends nu{constructor(){super("facebook.com")}static credential(e){return Ra._fromParams({providerId:ss.PROVIDER_ID,signInMethod:ss.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ss.credentialFromTaggedObject(e)}static credentialFromError(e){return ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ss.credential(e.oauthAccessToken)}catch{return null}}}ss.FACEBOOK_SIGN_IN_METHOD="facebook.com";ss.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi extends nu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ra._fromParams({providerId:fi.PROVIDER_ID,signInMethod:fi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return fi.credentialFromTaggedObject(e)}static credentialFromError(e){return fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return fi.credential(t,i)}catch{return null}}}fi.GOOGLE_SIGN_IN_METHOD="google.com";fi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as extends nu{constructor(){super("github.com")}static credential(e){return Ra._fromParams({providerId:as.PROVIDER_ID,signInMethod:as.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return as.credentialFromTaggedObject(e)}static credentialFromError(e){return as.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return as.credential(e.oauthAccessToken)}catch{return null}}}as.GITHUB_SIGN_IN_METHOD="github.com";as.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os extends nu{constructor(){super("twitter.com")}static credential(e,t){return Ra._fromParams({providerId:os.PROVIDER_ID,signInMethod:os.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return os.credentialFromTaggedObject(e)}static credentialFromError(e){return os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return os.credential(t,i)}catch{return null}}}os.TWITTER_SIGN_IN_METHOD="twitter.com";os.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hC(n,e){return tu(n,"POST","/v1/accounts:signUp",Rs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const c=await lr._fromIdTokenResponse(e,i,o),h=PE(i);return new xa({user:c,providerId:h,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=PE(i);return new xa({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function PE(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef extends jr{constructor(e,t,i,o){super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,Ef.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new Ef(e,t,i,o)}}function pw(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Ef._fromErrorAndOperation(n,c,e,i):c})}async function fC(n,e,t=!1){const i=await $o(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return xa._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dC(n,e,t=!1){const{auth:i}=n;if(Tn(i.app))return Promise.reject(gi(i));const o="reauthenticate";try{const c=await $o(n,pw(i,o,e,n),t);we(c.idToken,i,"internal-error");const h=Hg(c.idToken);we(h,i,"internal-error");const{sub:d}=h;return we(n.uid===d,i,"user-mismatch"),xa._forOperation(n,o,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&tr(i,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gw(n,e,t=!1){if(Tn(n.app))return Promise.reject(gi(n));const i="signIn",o=await pw(n,i,e),c=await xa._fromIdTokenResponse(n,i,o);return t||await n._updateCurrentUser(c.user),c}async function mC(n,e){return gw(xs(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yw(n){const e=xs(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function pC(n,e,t){if(Tn(n.app))return Promise.reject(gi(n));const i=xs(n),h=await ag(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",hC).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&yw(n),p}),d=await xa._fromIdTokenResponse(i,"signIn",h);return await i._updateCurrentUser(d.user),d}function gC(n,e,t){return Tn(n.app)?Promise.reject(gi(n)):mC(ft(n),nl.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&yw(n),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yC(n,e){return Ai(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function og(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const i=ft(n),c={idToken:await i.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},h=await $o(i,yC(i.auth,c));i.displayName=h.displayName||null,i.photoURL=h.photoUrl||null;const d=i.providerData.find(({providerId:p})=>p==="password");d&&(d.displayName=i.displayName,d.photoURL=i.photoURL),await i._updateTokensIfNecessary(h)}function vC(n,e,t,i){return ft(n).onIdTokenChanged(e,t,i)}function _C(n,e,t){return ft(n).beforeAuthStateChanged(e,t)}function EC(n,e,t,i){return ft(n).onAuthStateChanged(e,t,i)}function bC(n){return ft(n).signOut()}const bf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(bf,"1"),this.storage.removeItem(bf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC=1e3,wC=10;class _w extends vw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=uw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,d,p)=>{this.notifyListeners(h,p)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(i);!t&&this.localCache[i]===h||this.notifyListeners(i,h)},c=this.storage.getItem(i);jN()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,wC):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},TC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}_w.type="LOCAL";const SC=_w;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew extends vw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Ew.type="SESSION";const bw=Ew;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AC(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new Hf(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:c}=t.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const d=Array.from(h).map(async g=>g(t.origin,c)),p=await AC(d);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Hf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $g(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,h;return new Promise((d,p)=>{const g=$g("",20);o.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},i);h={messageChannel:o,onMessage(w){const T=w;if(T.data.eventId===g)switch(T.data.status){case"ack":clearTimeout(v),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),d(T.data.response);break;default:clearTimeout(v),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Or(){return window}function xC(n){Or().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tw(){return typeof Or().WorkerGlobalScope<"u"&&typeof Or().importScripts=="function"}async function IC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function NC(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)==null?void 0:n.controller)||null}function CC(){return Tw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ww="firebaseLocalStorageDb",DC=1,Tf="firebaseLocalStorage",Sw="fbase_key";class ru{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Gf(n,e){return n.transaction([Tf],e?"readwrite":"readonly").objectStore(Tf)}function OC(){const n=indexedDB.deleteDatabase(ww);return new ru(n).toPromise()}function lg(){const n=indexedDB.open(ww,DC);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Tf,{keyPath:Sw})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Tf)?e(i):(i.close(),await OC(),e(await lg()))})})}async function VE(n,e,t){const i=Gf(n,!0).put({[Sw]:e,value:t});return new ru(i).toPromise()}async function MC(n,e){const t=Gf(n,!1).get(e),i=await new ru(t).toPromise();return i===void 0?null:i.value}function LE(n,e){const t=Gf(n,!0).delete(e);return new ru(t).toPromise()}const kC=800,PC=3;class Aw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await lg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>PC)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Tw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Hf._getInstance(CC()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var t,i;if(this.activeServiceWorker=await IC(),!this.activeServiceWorker)return;this.sender=new RC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(t=e[0])!=null&&t.fulfilled&&(i=e[0])!=null&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||NC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await lg();return await VE(e,bf,"1"),await LE(e,bf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>VE(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>MC(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>LE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=Gf(o,!1).getAll();return new ru(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),kC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Aw.type="LOCAL";const VC=Aw;new eu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rw(n,e){return e?mi(e):(we(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg extends Yg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Go(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Go(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Go(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function LC(n){return gw(n.auth,new Xg(n),n.bypassAuthState)}function UC(n){const{auth:e,user:t}=n;return we(t,e,"internal-error"),dC(t,new Xg(n),n.bypassAuthState)}async function jC(n){const{auth:e,user:t}=n;return we(t,e,"internal-error"),fC(t,new Xg(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(e,t,i,o,c=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:c,error:h,type:d}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:t,sessionId:i,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return LC;case"linkViaPopup":case"linkViaRedirect":return jC;case"reauthViaPopup":case"reauthViaRedirect":return UC;default:tr(this.auth,"internal-error")}}resolve(e){Ei(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ei(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC=new eu(2e3,1e4);async function BC(n,e,t){if(Tn(n.app))return Promise.reject(cr(n,"operation-not-supported-in-this-environment"));const i=xs(n);_N(n,e,Qg);const o=Rw(i,t);return new va(i,"signInViaPopup",e,o).executeNotNull()}class va extends xw{constructor(e,t,i,o,c){super(e,t,o,c),this.provider=i,this.authWindow=null,this.pollId=null,va.currentPopupAction&&va.currentPopupAction.cancel(),va.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){Ei(this.filter.length===1,"Popup operations only handle one event");const e=$g();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(cr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(cr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,va.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if((i=(t=this.authWindow)==null?void 0:t.window)!=null&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(cr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,zC.get())};e()}}va.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qC="pendingRedirect",nf=new Map;class FC extends xw{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=nf.get(this.auth._key());if(!e){try{const i=await HC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}nf.set(this.auth._key(),e)}return this.bypassAuthState||nf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function HC(n,e){const t=KC(e),i=YC(n);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function GC(n,e){nf.set(n._key(),e)}function YC(n){return mi(n._redirectPersistence)}function KC(n){return tf(qC,n.config.apiKey,n.name)}async function QC(n,e,t=!1){if(Tn(n.app))return Promise.reject(gi(n));const i=xs(n),o=Rw(i,e),h=await new FC(i,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await i._persistUserIfCurrent(h.user),await i._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C=10*60*1e3;class XC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!WC(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!Iw(e)){const o=((i=e.error.code)==null?void 0:i.split("auth/")[1])||"internal-error";t.onError(cr(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=$C&&this.cachedEventUids.clear(),this.cachedEventUids.has(UE(e))}saveEventToCache(e){this.cachedEventUids.add(UE(e)),this.lastProcessedEventTime=Date.now()}}function UE(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Iw({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function WC(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Iw(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZC(n,e={}){return Ai(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,e2=/^https?/;async function t2(n){if(n.config.emulator)return;const{authorizedDomains:e}=await ZC(n);for(const t of e)try{if(n2(t))return}catch{}tr(n,"unauthorized-domain")}function n2(n){const e=ig(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const h=new URL(n);return h.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===i}if(!e2.test(t))return!1;if(JC.test(n))return i===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2=new eu(3e4,6e4);function jE(){const n=Or().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function i2(n){return new Promise((e,t)=>{var o,c,h;function i(){jE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{jE(),t(cr(n,"network-request-failed"))},timeout:r2.get()})}if((c=(o=Or().gapi)==null?void 0:o.iframes)!=null&&c.Iframe)e(gapi.iframes.getContext());else if((h=Or().gapi)!=null&&h.load)i();else{const d=QN("iframefcb");return Or()[d]=()=>{gapi.load?i():t(cr(n,"network-request-failed"))},fw(`${KN()}?onload=${d}`).catch(p=>t(p))}}).catch(e=>{throw rf=null,e})}let rf=null;function s2(n){return rf=rf||i2(n),rf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a2=new eu(5e3,15e3),o2="__/auth/iframe",l2="emulator/auth/iframe",c2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},u2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function h2(n){const e=n.config;we(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Fg(e,l2):`https://${n.config.authDomain}/${o2}`,i={apiKey:e.apiKey,appName:n.name,v:Va},o=u2.get(n.config.apiHost);o&&(i.eid=o);const c=n._getFrameworks();return c.length&&(i.fw=c.join(",")),`${t}?${Jc(i).slice(1)}`}async function f2(n){const e=await s2(n),t=Or().gapi;return we(t,n,"internal-error"),e.open({where:document.body,url:h2(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:c2,dontclear:!0},i=>new Promise(async(o,c)=>{await i.restyle({setHideOnLeave:!1});const h=cr(n,"network-request-failed"),d=Or().setTimeout(()=>{c(h)},a2.get());function p(){Or().clearTimeout(d),o(i)}i.ping(p).then(p,()=>{c(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},m2=500,p2=600,g2="_blank",y2="http://localhost";class zE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function v2(n,e,t,i=m2,o=p2){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const p={...d2,width:i.toString(),height:o.toString(),top:c,left:h},g=hn().toLowerCase();t&&(d=sw(g)?g2:t),rw(g)&&(e=e||y2,p.scrollbars="yes");const v=Object.entries(p).reduce((T,[C,L])=>`${T}${C}=${L},`,"");if(UN(g)&&d!=="_self")return _2(e||"",d),new zE(null);const w=window.open(e||"",d,v);we(w,n,"popup-blocked");try{w.focus()}catch{}return new zE(w)}function _2(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2="__/auth/handler",b2="emulator/auth/handler",T2=encodeURIComponent("fac");async function BE(n,e,t,i,o,c){we(n.config.authDomain,n,"auth-domain-config-required"),we(n.config.apiKey,n,"invalid-api-key");const h={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:Va,eventId:o};if(e instanceof Qg){e.setDefaultLanguage(n.languageCode),h.providerId=e.providerId||"",sI(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,w]of Object.entries({}))h[v]=w}if(e instanceof nu){const v=e.getScopes().filter(w=>w!=="");v.length>0&&(h.scopes=v.join(","))}n.tenantId&&(h.tid=n.tenantId);const d=h;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const p=await n._getAppCheckToken(),g=p?`#${T2}=${encodeURIComponent(p)}`:"";return`${w2(n)}?${Jc(d).slice(1)}${g}`}function w2({config:n}){return n.emulator?Fg(n,b2):`https://${n.authDomain}/${E2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Np="webStorageSupport";class S2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=bw,this._completeRedirectFn=QC,this._overrideRedirectResult=GC}async _openPopup(e,t,i,o){var h;Ei((h=this.eventManagers[e._key()])==null?void 0:h.manager,"_initialize() not called before _openPopup()");const c=await BE(e,t,i,ig(),o);return v2(e,c,$g())}async _openRedirect(e,t,i,o){await this._originValidation(e);const c=await BE(e,t,i,ig(),o);return xC(c),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:c}=this.eventManagers[t];return o?Promise.resolve(o):(Ei(c,"If manager is not set, promise should be"),c)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await f2(e),i=new XC(e);return t.register("authEvent",o=>(we(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Np,{type:Np},o=>{var h;const c=(h=o==null?void 0:o[0])==null?void 0:h[Np];c!==void 0&&t(!!c),tr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=t2(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return uw()||iw()||Gg()}}const A2=S2;var qE="@firebase/auth",FE="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x2(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function I2(n){Aa(new ys("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:h,authDomain:d}=i.options;we(h&&!h.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:h,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hw(n)},g=new HN(i,o,c,p);return eC(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Aa(new ys("auth-internal",e=>{const t=xs(e.getProvider("auth").getImmediate());return(i=>new R2(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Dr(qE,FE,x2(n)),Dr(qE,FE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2=5*60,C2=FT("authIdTokenMaxAge")||N2;let HE=null;const D2=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>C2)return;const o=t==null?void 0:t.token;HE!==o&&(HE=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function O2(n=zg()){const e=qf(n,"auth");if(e.isInitialized())return e.getImmediate();const t=JN(n,{popupRedirectResolver:A2,persistence:[VC,SC,bw]}),i=FT("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(i,location.origin);if(location.origin===c.origin){const h=D2(c.toString());_C(t,h,()=>h(t.currentUser)),vC(t,d=>h(d))}}const o=zT("auth");return o&&tC(t,`http://${o}`),t}function M2(){var n;return((n=document.getElementsByTagName("head"))==null?void 0:n[0])??document}GN({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=o=>{const c=cr("internal-error");c.customData=o,t(c)},i.type="text/javascript",i.charset="UTF-8",M2().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});I2("Browser");var GE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ps,Nw;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,R){function D(){}D.prototype=R.prototype,M.D=R.prototype,M.prototype=new D,M.prototype.constructor=M,M.C=function(k,V,z){for(var N=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)N[Me-2]=arguments[Me];return R.prototype[V].apply(k,N)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(M,R,D){D||(D=0);var k=Array(16);if(typeof R=="string")for(var V=0;16>V;++V)k[V]=R.charCodeAt(D++)|R.charCodeAt(D++)<<8|R.charCodeAt(D++)<<16|R.charCodeAt(D++)<<24;else for(V=0;16>V;++V)k[V]=R[D++]|R[D++]<<8|R[D++]<<16|R[D++]<<24;R=M.g[0],D=M.g[1],V=M.g[2];var z=M.g[3],N=R+(z^D&(V^z))+k[0]+3614090360&4294967295;R=D+(N<<7&4294967295|N>>>25),N=z+(V^R&(D^V))+k[1]+3905402710&4294967295,z=R+(N<<12&4294967295|N>>>20),N=V+(D^z&(R^D))+k[2]+606105819&4294967295,V=z+(N<<17&4294967295|N>>>15),N=D+(R^V&(z^R))+k[3]+3250441966&4294967295,D=V+(N<<22&4294967295|N>>>10),N=R+(z^D&(V^z))+k[4]+4118548399&4294967295,R=D+(N<<7&4294967295|N>>>25),N=z+(V^R&(D^V))+k[5]+1200080426&4294967295,z=R+(N<<12&4294967295|N>>>20),N=V+(D^z&(R^D))+k[6]+2821735955&4294967295,V=z+(N<<17&4294967295|N>>>15),N=D+(R^V&(z^R))+k[7]+4249261313&4294967295,D=V+(N<<22&4294967295|N>>>10),N=R+(z^D&(V^z))+k[8]+1770035416&4294967295,R=D+(N<<7&4294967295|N>>>25),N=z+(V^R&(D^V))+k[9]+2336552879&4294967295,z=R+(N<<12&4294967295|N>>>20),N=V+(D^z&(R^D))+k[10]+4294925233&4294967295,V=z+(N<<17&4294967295|N>>>15),N=D+(R^V&(z^R))+k[11]+2304563134&4294967295,D=V+(N<<22&4294967295|N>>>10),N=R+(z^D&(V^z))+k[12]+1804603682&4294967295,R=D+(N<<7&4294967295|N>>>25),N=z+(V^R&(D^V))+k[13]+4254626195&4294967295,z=R+(N<<12&4294967295|N>>>20),N=V+(D^z&(R^D))+k[14]+2792965006&4294967295,V=z+(N<<17&4294967295|N>>>15),N=D+(R^V&(z^R))+k[15]+1236535329&4294967295,D=V+(N<<22&4294967295|N>>>10),N=R+(V^z&(D^V))+k[1]+4129170786&4294967295,R=D+(N<<5&4294967295|N>>>27),N=z+(D^V&(R^D))+k[6]+3225465664&4294967295,z=R+(N<<9&4294967295|N>>>23),N=V+(R^D&(z^R))+k[11]+643717713&4294967295,V=z+(N<<14&4294967295|N>>>18),N=D+(z^R&(V^z))+k[0]+3921069994&4294967295,D=V+(N<<20&4294967295|N>>>12),N=R+(V^z&(D^V))+k[5]+3593408605&4294967295,R=D+(N<<5&4294967295|N>>>27),N=z+(D^V&(R^D))+k[10]+38016083&4294967295,z=R+(N<<9&4294967295|N>>>23),N=V+(R^D&(z^R))+k[15]+3634488961&4294967295,V=z+(N<<14&4294967295|N>>>18),N=D+(z^R&(V^z))+k[4]+3889429448&4294967295,D=V+(N<<20&4294967295|N>>>12),N=R+(V^z&(D^V))+k[9]+568446438&4294967295,R=D+(N<<5&4294967295|N>>>27),N=z+(D^V&(R^D))+k[14]+3275163606&4294967295,z=R+(N<<9&4294967295|N>>>23),N=V+(R^D&(z^R))+k[3]+4107603335&4294967295,V=z+(N<<14&4294967295|N>>>18),N=D+(z^R&(V^z))+k[8]+1163531501&4294967295,D=V+(N<<20&4294967295|N>>>12),N=R+(V^z&(D^V))+k[13]+2850285829&4294967295,R=D+(N<<5&4294967295|N>>>27),N=z+(D^V&(R^D))+k[2]+4243563512&4294967295,z=R+(N<<9&4294967295|N>>>23),N=V+(R^D&(z^R))+k[7]+1735328473&4294967295,V=z+(N<<14&4294967295|N>>>18),N=D+(z^R&(V^z))+k[12]+2368359562&4294967295,D=V+(N<<20&4294967295|N>>>12),N=R+(D^V^z)+k[5]+4294588738&4294967295,R=D+(N<<4&4294967295|N>>>28),N=z+(R^D^V)+k[8]+2272392833&4294967295,z=R+(N<<11&4294967295|N>>>21),N=V+(z^R^D)+k[11]+1839030562&4294967295,V=z+(N<<16&4294967295|N>>>16),N=D+(V^z^R)+k[14]+4259657740&4294967295,D=V+(N<<23&4294967295|N>>>9),N=R+(D^V^z)+k[1]+2763975236&4294967295,R=D+(N<<4&4294967295|N>>>28),N=z+(R^D^V)+k[4]+1272893353&4294967295,z=R+(N<<11&4294967295|N>>>21),N=V+(z^R^D)+k[7]+4139469664&4294967295,V=z+(N<<16&4294967295|N>>>16),N=D+(V^z^R)+k[10]+3200236656&4294967295,D=V+(N<<23&4294967295|N>>>9),N=R+(D^V^z)+k[13]+681279174&4294967295,R=D+(N<<4&4294967295|N>>>28),N=z+(R^D^V)+k[0]+3936430074&4294967295,z=R+(N<<11&4294967295|N>>>21),N=V+(z^R^D)+k[3]+3572445317&4294967295,V=z+(N<<16&4294967295|N>>>16),N=D+(V^z^R)+k[6]+76029189&4294967295,D=V+(N<<23&4294967295|N>>>9),N=R+(D^V^z)+k[9]+3654602809&4294967295,R=D+(N<<4&4294967295|N>>>28),N=z+(R^D^V)+k[12]+3873151461&4294967295,z=R+(N<<11&4294967295|N>>>21),N=V+(z^R^D)+k[15]+530742520&4294967295,V=z+(N<<16&4294967295|N>>>16),N=D+(V^z^R)+k[2]+3299628645&4294967295,D=V+(N<<23&4294967295|N>>>9),N=R+(V^(D|~z))+k[0]+4096336452&4294967295,R=D+(N<<6&4294967295|N>>>26),N=z+(D^(R|~V))+k[7]+1126891415&4294967295,z=R+(N<<10&4294967295|N>>>22),N=V+(R^(z|~D))+k[14]+2878612391&4294967295,V=z+(N<<15&4294967295|N>>>17),N=D+(z^(V|~R))+k[5]+4237533241&4294967295,D=V+(N<<21&4294967295|N>>>11),N=R+(V^(D|~z))+k[12]+1700485571&4294967295,R=D+(N<<6&4294967295|N>>>26),N=z+(D^(R|~V))+k[3]+2399980690&4294967295,z=R+(N<<10&4294967295|N>>>22),N=V+(R^(z|~D))+k[10]+4293915773&4294967295,V=z+(N<<15&4294967295|N>>>17),N=D+(z^(V|~R))+k[1]+2240044497&4294967295,D=V+(N<<21&4294967295|N>>>11),N=R+(V^(D|~z))+k[8]+1873313359&4294967295,R=D+(N<<6&4294967295|N>>>26),N=z+(D^(R|~V))+k[15]+4264355552&4294967295,z=R+(N<<10&4294967295|N>>>22),N=V+(R^(z|~D))+k[6]+2734768916&4294967295,V=z+(N<<15&4294967295|N>>>17),N=D+(z^(V|~R))+k[13]+1309151649&4294967295,D=V+(N<<21&4294967295|N>>>11),N=R+(V^(D|~z))+k[4]+4149444226&4294967295,R=D+(N<<6&4294967295|N>>>26),N=z+(D^(R|~V))+k[11]+3174756917&4294967295,z=R+(N<<10&4294967295|N>>>22),N=V+(R^(z|~D))+k[2]+718787259&4294967295,V=z+(N<<15&4294967295|N>>>17),N=D+(z^(V|~R))+k[9]+3951481745&4294967295,M.g[0]=M.g[0]+R&4294967295,M.g[1]=M.g[1]+(V+(N<<21&4294967295|N>>>11))&4294967295,M.g[2]=M.g[2]+V&4294967295,M.g[3]=M.g[3]+z&4294967295}i.prototype.u=function(M,R){R===void 0&&(R=M.length);for(var D=R-this.blockSize,k=this.B,V=this.h,z=0;z<R;){if(V==0)for(;z<=D;)o(this,M,z),z+=this.blockSize;if(typeof M=="string"){for(;z<R;)if(k[V++]=M.charCodeAt(z++),V==this.blockSize){o(this,k),V=0;break}}else for(;z<R;)if(k[V++]=M[z++],V==this.blockSize){o(this,k),V=0;break}}this.h=V,this.o+=R},i.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var R=1;R<M.length-8;++R)M[R]=0;var D=8*this.o;for(R=M.length-8;R<M.length;++R)M[R]=D&255,D/=256;for(this.u(M),M=Array(16),R=D=0;4>R;++R)for(var k=0;32>k;k+=8)M[D++]=this.g[R]>>>k&255;return M};function c(M,R){var D=d;return Object.prototype.hasOwnProperty.call(D,M)?D[M]:D[M]=R(M)}function h(M,R){this.h=R;for(var D=[],k=!0,V=M.length-1;0<=V;V--){var z=M[V]|0;k&&z==R||(D[V]=z,k=!1)}this.g=D}var d={};function p(M){return-128<=M&&128>M?c(M,function(R){return new h([R|0],0>R?-1:0)}):new h([M|0],0>M?-1:0)}function g(M){if(isNaN(M)||!isFinite(M))return w;if(0>M)return x(g(-M));for(var R=[],D=1,k=0;M>=D;k++)R[k]=M/D|0,D*=4294967296;return new h(R,0)}function v(M,R){if(M.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(M.charAt(0)=="-")return x(v(M.substring(1),R));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=g(Math.pow(R,8)),k=w,V=0;V<M.length;V+=8){var z=Math.min(8,M.length-V),N=parseInt(M.substring(V,V+z),R);8>z?(z=g(Math.pow(R,z)),k=k.j(z).add(g(N))):(k=k.j(D),k=k.add(g(N)))}return k}var w=p(0),T=p(1),C=p(16777216);n=h.prototype,n.m=function(){if(I(this))return-x(this).m();for(var M=0,R=1,D=0;D<this.g.length;D++){var k=this.i(D);M+=(0<=k?k:4294967296+k)*R,R*=4294967296}return M},n.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(L(this))return"0";if(I(this))return"-"+x(this).toString(M);for(var R=g(Math.pow(M,6)),D=this,k="";;){var V=J(D,R).g;D=B(D,V.j(R));var z=((0<D.g.length?D.g[0]:D.h)>>>0).toString(M);if(D=V,L(D))return z+k;for(;6>z.length;)z="0"+z;k=z+k}},n.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function L(M){if(M.h!=0)return!1;for(var R=0;R<M.g.length;R++)if(M.g[R]!=0)return!1;return!0}function I(M){return M.h==-1}n.l=function(M){return M=B(this,M),I(M)?-1:L(M)?0:1};function x(M){for(var R=M.g.length,D=[],k=0;k<R;k++)D[k]=~M.g[k];return new h(D,~M.h).add(T)}n.abs=function(){return I(this)?x(this):this},n.add=function(M){for(var R=Math.max(this.g.length,M.g.length),D=[],k=0,V=0;V<=R;V++){var z=k+(this.i(V)&65535)+(M.i(V)&65535),N=(z>>>16)+(this.i(V)>>>16)+(M.i(V)>>>16);k=N>>>16,z&=65535,N&=65535,D[V]=N<<16|z}return new h(D,D[D.length-1]&-2147483648?-1:0)};function B(M,R){return M.add(x(R))}n.j=function(M){if(L(this)||L(M))return w;if(I(this))return I(M)?x(this).j(x(M)):x(x(this).j(M));if(I(M))return x(this.j(x(M)));if(0>this.l(C)&&0>M.l(C))return g(this.m()*M.m());for(var R=this.g.length+M.g.length,D=[],k=0;k<2*R;k++)D[k]=0;for(k=0;k<this.g.length;k++)for(var V=0;V<M.g.length;V++){var z=this.i(k)>>>16,N=this.i(k)&65535,Me=M.i(V)>>>16,Ke=M.i(V)&65535;D[2*k+2*V]+=N*Ke,X(D,2*k+2*V),D[2*k+2*V+1]+=z*Ke,X(D,2*k+2*V+1),D[2*k+2*V+1]+=N*Me,X(D,2*k+2*V+1),D[2*k+2*V+2]+=z*Me,X(D,2*k+2*V+2)}for(k=0;k<R;k++)D[k]=D[2*k+1]<<16|D[2*k];for(k=R;k<2*R;k++)D[k]=0;return new h(D,0)};function X(M,R){for(;(M[R]&65535)!=M[R];)M[R+1]+=M[R]>>>16,M[R]&=65535,R++}function W(M,R){this.g=M,this.h=R}function J(M,R){if(L(R))throw Error("division by zero");if(L(M))return new W(w,w);if(I(M))return R=J(x(M),R),new W(x(R.g),x(R.h));if(I(R))return R=J(M,x(R)),new W(x(R.g),R.h);if(30<M.g.length){if(I(M)||I(R))throw Error("slowDivide_ only works with positive integers.");for(var D=T,k=R;0>=k.l(M);)D=oe(D),k=oe(k);var V=he(D,1),z=he(k,1);for(k=he(k,2),D=he(D,2);!L(k);){var N=z.add(k);0>=N.l(M)&&(V=V.add(D),z=N),k=he(k,1),D=he(D,1)}return R=B(M,V.j(R)),new W(V,R)}for(V=w;0<=M.l(R);){for(D=Math.max(1,Math.floor(M.m()/R.m())),k=Math.ceil(Math.log(D)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),z=g(D),N=z.j(R);I(N)||0<N.l(M);)D-=k,z=g(D),N=z.j(R);L(z)&&(z=T),V=V.add(z),M=B(M,N)}return new W(V,M)}n.A=function(M){return J(this,M).h},n.and=function(M){for(var R=Math.max(this.g.length,M.g.length),D=[],k=0;k<R;k++)D[k]=this.i(k)&M.i(k);return new h(D,this.h&M.h)},n.or=function(M){for(var R=Math.max(this.g.length,M.g.length),D=[],k=0;k<R;k++)D[k]=this.i(k)|M.i(k);return new h(D,this.h|M.h)},n.xor=function(M){for(var R=Math.max(this.g.length,M.g.length),D=[],k=0;k<R;k++)D[k]=this.i(k)^M.i(k);return new h(D,this.h^M.h)};function oe(M){for(var R=M.g.length+1,D=[],k=0;k<R;k++)D[k]=M.i(k)<<1|M.i(k-1)>>>31;return new h(D,M.h)}function he(M,R){var D=R>>5;R%=32;for(var k=M.g.length-D,V=[],z=0;z<k;z++)V[z]=0<R?M.i(z+D)>>>R|M.i(z+D+1)<<32-R:M.i(z+D);return new h(V,M.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,Nw=i,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=v,ps=h}).apply(typeof GE<"u"?GE:typeof self<"u"?self:typeof window<"u"?window:{});var jh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Cw,xc,Dw,sf,cg,Ow,Mw,kw;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,y,_){return u==Array.prototype||u==Object.prototype||(u[y]=_.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof jh=="object"&&jh];for(var y=0;y<u.length;++y){var _=u[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var i=t(this);function o(u,y){if(y)e:{var _=i;u=u.split(".");for(var A=0;A<u.length-1;A++){var F=u[A];if(!(F in _))break e;_=_[F]}u=u[u.length-1],A=_[u],y=y(A),y!=A&&y!=null&&e(_,u,{configurable:!0,writable:!0,value:y})}}function c(u,y){u instanceof String&&(u+="");var _=0,A=!1,F={next:function(){if(!A&&_<u.length){var $=_++;return{value:y($,u[$]),done:!1}}return A=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}o("Array.prototype.values",function(u){return u||function(){return c(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function p(u){var y=typeof u;return y=y!="object"?y:u?Array.isArray(u)?"array":y:"null",y=="array"||y=="object"&&typeof u.length=="number"}function g(u){var y=typeof u;return y=="object"&&u!=null||y=="function"}function v(u,y,_){return u.call.apply(u.bind,arguments)}function w(u,y,_){if(!u)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,A),u.apply(y,F)}}return function(){return u.apply(y,arguments)}}function T(u,y,_){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:w,T.apply(null,arguments)}function C(u,y){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function L(u,y){function _(){}_.prototype=y.prototype,u.aa=y.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(A,F,$){for(var ce=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)ce[Be-2]=arguments[Be];return y.prototype[F].apply(A,ce)}}function I(u){const y=u.length;if(0<y){const _=Array(y);for(let A=0;A<y;A++)_[A]=u[A];return _}return[]}function x(u,y){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(p(A)){const F=u.length||0,$=A.length||0;u.length=F+$;for(let ce=0;ce<$;ce++)u[F+ce]=A[ce]}else u.push(A)}}class B{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function X(u){return/^[\s\xa0]*$/.test(u)}function W(){var u=d.navigator;return u&&(u=u.userAgent)?u:""}function J(u){return J[" "](u),u}J[" "]=function(){};var oe=W().indexOf("Gecko")!=-1&&!(W().toLowerCase().indexOf("webkit")!=-1&&W().indexOf("Edge")==-1)&&!(W().indexOf("Trident")!=-1||W().indexOf("MSIE")!=-1)&&W().indexOf("Edge")==-1;function he(u,y,_){for(const A in u)y.call(_,u[A],A,u)}function M(u,y){for(const _ in u)y.call(void 0,u[_],_,u)}function R(u){const y={};for(const _ in u)y[_]=u[_];return y}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(u,y){let _,A;for(let F=1;F<arguments.length;F++){A=arguments[F];for(_ in A)u[_]=A[_];for(let $=0;$<D.length;$++)_=D[$],Object.prototype.hasOwnProperty.call(A,_)&&(u[_]=A[_])}}function V(u){var y=1;u=u.split(":");const _=[];for(;0<y&&u.length;)_.push(u.shift()),y--;return u.length&&_.push(u.join(":")),_}function z(u){d.setTimeout(()=>{throw u},0)}function N(){var u=ze;let y=null;return u.g&&(y=u.g,u.g=u.g.next,u.g||(u.h=null),y.next=null),y}class Me{constructor(){this.h=this.g=null}add(y,_){const A=Ke.get();A.set(y,_),this.h?this.h.next=A:this.g=A,this.h=A}}var Ke=new B(()=>new Q,u=>u.reset());class Q{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let le,ae=!1,ze=new Me,U=()=>{const u=d.Promise.resolve(void 0);le=()=>{u.then(ie)}};var ie=()=>{for(var u;u=N();){try{u.h.call(u.g)}catch(_){z(_)}var y=Ke;y.j(u),100>y.h&&(y.h++,u.next=y.g,y.g=u)}ae=!1};function ue(){this.s=this.s,this.C=this.C}ue.prototype.s=!1,ue.prototype.ma=function(){this.s||(this.s=!0,this.N())},ue.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function se(u,y){this.type=u,this.g=this.target=y,this.defaultPrevented=!1}se.prototype.h=function(){this.defaultPrevented=!0};var me=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,y=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};d.addEventListener("test",_,y),d.removeEventListener("test",_,y)}catch{}return u}();function Ie(u,y){if(se.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=y,y=u.relatedTarget){if(oe){e:{try{J(y.nodeName);var F=!0;break e}catch{}F=!1}F||(y=null)}}else _=="mouseover"?y=u.fromElement:_=="mouseout"&&(y=u.toElement);this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Te[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Ie.aa.h.call(this)}}L(Ie,se);var Te={2:"touch",3:"pen",4:"mouse"};Ie.prototype.h=function(){Ie.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ke="closure_listenable_"+(1e6*Math.random()|0),We=0;function fn(u,y,_,A,F){this.listener=u,this.proxy=null,this.src=y,this.type=_,this.capture=!!A,this.ha=F,this.key=++We,this.da=this.fa=!1}function Rn(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function xn(u){this.src=u,this.g={},this.h=0}xn.prototype.add=function(u,y,_,A,F){var $=u.toString();u=this.g[$],u||(u=this.g[$]=[],this.h++);var ce=Os(u,y,A,F);return-1<ce?(y=u[ce],_||(y.fa=!1)):(y=new fn(y,this.src,$,!!A,F),y.fa=_,u.push(y)),y};function jn(u,y){var _=y.type;if(_ in u.g){var A=u.g[_],F=Array.prototype.indexOf.call(A,y,void 0),$;($=0<=F)&&Array.prototype.splice.call(A,F,1),$&&(Rn(y),u.g[_].length==0&&(delete u.g[_],u.h--))}}function Os(u,y,_,A){for(var F=0;F<u.length;++F){var $=u[F];if(!$.da&&$.listener==y&&$.capture==!!_&&$.ha==A)return F}return-1}var Ms="closure_lm_"+(1e6*Math.random()|0),ul={};function mu(u,y,_,A,F){if(Array.isArray(y)){for(var $=0;$<y.length;$++)mu(u,y[$],_,A,F);return null}return _=pu(_),u&&u[ke]?u.K(y,_,g(A)?!!A.capture:!1,F):zn(u,y,_,!1,A,F)}function zn(u,y,_,A,F,$){if(!y)throw Error("Invalid event type");var ce=g(F)?!!F.capture:!!F,Be=za(u);if(Be||(u[Ms]=Be=new xn(u)),_=Be.add(y,_,A,ce,$),_.proxy)return _;if(A=yd(),_.proxy=A,A.src=u,A.listener=_,u.addEventListener)me||(F=ce),F===void 0&&(F=!1),u.addEventListener(y.toString(),A,F);else if(u.attachEvent)u.attachEvent(ks(y.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function yd(){function u(_){return y.call(u.src,u.listener,_)}const y=vd;return u}function hl(u,y,_,A,F){if(Array.isArray(y))for(var $=0;$<y.length;$++)hl(u,y[$],_,A,F);else A=g(A)?!!A.capture:!!A,_=pu(_),u&&u[ke]?(u=u.i,y=String(y).toString(),y in u.g&&($=u.g[y],_=Os($,_,A,F),-1<_&&(Rn($[_]),Array.prototype.splice.call($,_,1),$.length==0&&(delete u.g[y],u.h--)))):u&&(u=za(u))&&(y=u.g[y.toString()],u=-1,y&&(u=Os(y,_,A,F)),(_=-1<u?y[u]:null)&&ja(_))}function ja(u){if(typeof u!="number"&&u&&!u.da){var y=u.src;if(y&&y[ke])jn(y.i,u);else{var _=u.type,A=u.proxy;y.removeEventListener?y.removeEventListener(_,A,u.capture):y.detachEvent?y.detachEvent(ks(_),A):y.addListener&&y.removeListener&&y.removeListener(A),(_=za(y))?(jn(_,u),_.h==0&&(_.src=null,y[Ms]=null)):Rn(u)}}}function ks(u){return u in ul?ul[u]:ul[u]="on"+u}function vd(u,y){if(u.da)u=!0;else{y=new Ie(y,this);var _=u.listener,A=u.ha||u.src;u.fa&&ja(u),u=_.call(A,y)}return u}function za(u){return u=u[Ms],u instanceof xn?u:null}var fl="__closure_events_fn_"+(1e9*Math.random()>>>0);function pu(u){return typeof u=="function"?u:(u[fl]||(u[fl]=function(y){return u.handleEvent(y)}),u[fl])}function pt(){ue.call(this),this.i=new xn(this),this.M=this,this.F=null}L(pt,ue),pt.prototype[ke]=!0,pt.prototype.removeEventListener=function(u,y,_,A){hl(this,u,y,_,A)};function Ze(u,y){var _,A=u.F;if(A)for(_=[];A;A=A.F)_.push(A);if(u=u.M,A=y.type||y,typeof y=="string")y=new se(y,u);else if(y instanceof se)y.target=y.target||u;else{var F=y;y=new se(A,u),k(y,F)}if(F=!0,_)for(var $=_.length-1;0<=$;$--){var ce=y.g=_[$];F=In(ce,A,!0,y)&&F}if(ce=y.g=u,F=In(ce,A,!0,y)&&F,F=In(ce,A,!1,y)&&F,_)for($=0;$<_.length;$++)ce=y.g=_[$],F=In(ce,A,!1,y)&&F}pt.prototype.N=function(){if(pt.aa.N.call(this),this.i){var u=this.i,y;for(y in u.g){for(var _=u.g[y],A=0;A<_.length;A++)Rn(_[A]);delete u.g[y],u.h--}}this.F=null},pt.prototype.K=function(u,y,_,A){return this.i.add(String(u),y,!1,_,A)},pt.prototype.L=function(u,y,_,A){return this.i.add(String(u),y,!0,_,A)};function In(u,y,_,A){if(y=u.i.g[String(y)],!y)return!0;y=y.concat();for(var F=!0,$=0;$<y.length;++$){var ce=y[$];if(ce&&!ce.da&&ce.capture==_){var Be=ce.listener,Vt=ce.ha||ce.src;ce.fa&&jn(u.i,ce),F=Be.call(Vt,A)!==!1&&F}}return F&&!A.defaultPrevented}function sn(u,y,_){if(typeof u=="function")_&&(u=T(u,_));else if(u&&typeof u.handleEvent=="function")u=T(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(u,y||0)}function gu(u){u.g=sn(()=>{u.g=null,u.i&&(u.i=!1,gu(u))},u.l);const y=u.h;u.h=null,u.m.apply(null,y)}class _d extends ue{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:gu(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ps(u){ue.call(this),this.h=u,this.g={}}L(Ps,ue);var Vs=[];function Ls(u){he(u.g,function(y,_){this.g.hasOwnProperty(_)&&ja(y)},u),u.g={}}Ps.prototype.N=function(){Ps.aa.N.call(this),Ls(this)},Ps.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var nr=d.JSON.stringify,Ba=d.JSON.parse,Us=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function dl(){}dl.prototype.h=null;function ml(u){return u.h||(u.h=u.i())}function pl(){}var zr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Br(){se.call(this,"d")}L(Br,se);function gl(){se.call(this,"c")}L(gl,se);var fr={},yl=null;function Ri(){return yl=yl||new pt}fr.La="serverreachability";function qa(u){se.call(this,fr.La,u)}L(qa,se);function xi(u){const y=Ri();Ze(y,new qa(y))}fr.STAT_EVENT="statevent";function yu(u,y){se.call(this,fr.STAT_EVENT,u),this.stat=y}L(yu,se);function ut(u){const y=Ri();Ze(y,new yu(y,u))}fr.Ma="timingevent";function Pt(u,y){se.call(this,fr.Ma,u),this.size=y}L(Pt,se);function xt(u,y){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},y)}function Bn(){this.g=!0}Bn.prototype.xa=function(){this.g=!1};function vl(u,y,_,A,F,$){u.info(function(){if(u.g)if($)for(var ce="",Be=$.split("&"),Vt=0;Vt<Be.length;Vt++){var qe=Be[Vt].split("=");if(1<qe.length){var Ft=qe[0];qe=qe[1];var Lt=Ft.split("_");ce=2<=Lt.length&&Lt[1]=="type"?ce+(Ft+"="+qe+"&"):ce+(Ft+"=redacted&")}}else ce=null;else ce=$;return"XMLHTTP REQ ("+A+") [attempt "+F+"]: "+y+`
`+_+`
`+ce})}function Ed(u,y,_,A,F,$,ce){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+F+"]: "+y+`
`+_+`
`+$+" "+ce})}function Ii(u,y,_,A){u.info(function(){return"XMLHTTP TEXT ("+y+"): "+js(u,_)+(A?" "+A:"")})}function vu(u,y){u.info(function(){return"TIMEOUT: "+y})}Bn.prototype.info=function(){};function js(u,y){if(!u.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var A=_[u];if(!(2>A.length)){var F=A[1];if(Array.isArray(F)&&!(1>F.length)){var $=F[0];if($!="noop"&&$!="stop"&&$!="close")for(var ce=1;ce<F.length;ce++)F[ce]=""}}}}return nr(_)}catch{return y}}var Ni={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},qr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},dr;function mr(){}L(mr,dl),mr.prototype.g=function(){return new XMLHttpRequest},mr.prototype.i=function(){return{}},dr=new mr;function dn(u,y,_,A){this.j=u,this.i=y,this.l=_,this.R=A||1,this.U=new Ps(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Tt}function Tt(){this.i=null,this.g="",this.h=!1}var _l={},Fa={};function rr(u,y,_){u.L=1,u.v=Hs(Nn(y)),u.m=_,u.P=!0,Fr(u,null)}function Fr(u,y){u.F=Date.now(),zs(u),u.A=Nn(u.v);var _=u.A,A=u.R;Array.isArray(A)||(A=[String(A)]),Al(_.i,"t",A),u.C=0,_=u.j.J,u.h=new Tt,u.g=ku(u.j,_?y:null,!u.m),0<u.O&&(u.M=new _d(T(u.Y,u,u.g),u.O)),y=u.U,_=u.g,A=u.ca;var F="readystatechange";Array.isArray(F)||(F&&(Vs[0]=F.toString()),F=Vs);for(var $=0;$<F.length;$++){var ce=mu(_,F[$],A||y.handleEvent,!1,y.h||y);if(!ce)break;y.g[ce.key]=ce}y=u.H?R(u.H):{},u.m?(u.u||(u.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,y)):(u.u="GET",u.g.ea(u.A,u.u,null,y)),xi(),vl(u.i,u.u,u.A,u.l,u.R,u.m)}dn.prototype.ca=function(u){u=u.target;const y=this.M;y&&Gn(u)==3?y.j():this.Y(u)},dn.prototype.Y=function(u){try{if(u==this.g)e:{const Lt=Gn(this.g);var y=this.g.Ba();const Wr=this.g.Z();if(!(3>Lt)&&(Lt!=3||this.g&&(this.h.h||this.g.oa()||Ru(this.g)))){this.J||Lt!=4||y==7||(y==8||0>=Wr?xi(3):xi(2)),Ci(this);var _=this.g.Z();this.X=_;t:if(_u(this)){var A=Ru(this.g);u="";var F=A.length,$=Gn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){$t(this),pr(this);var ce="";break t}this.h.i=new d.TextDecoder}for(y=0;y<F;y++)this.h.h=!0,u+=this.h.i.decode(A[y],{stream:!($&&y==F-1)});A.length=0,this.h.g+=u,this.C=0,ce=this.h.g}else ce=this.g.oa();if(this.o=_==200,Ed(this.i,this.u,this.A,this.l,this.R,Lt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Be,Vt=this.g;if((Be=Vt.g?Vt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!X(Be)){var qe=Be;break t}}qe=null}if(_=qe)Ii(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Bs(this,_);else{this.o=!1,this.s=3,ut(12),$t(this),pr(this);break e}}if(this.P){_=!0;let Xt;for(;!this.J&&this.C<ce.length;)if(Xt=Eu(this,ce),Xt==Fa){Lt==4&&(this.s=4,ut(14),_=!1),Ii(this.i,this.l,null,"[Incomplete Response]");break}else if(Xt==_l){this.s=4,ut(15),Ii(this.i,this.l,ce,"[Invalid Chunk]"),_=!1;break}else Ii(this.i,this.l,Xt,null),Bs(this,Xt);if(_u(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Lt!=4||ce.length!=0||this.h.h||(this.s=1,ut(16),_=!1),this.o=this.o&&_,!_)Ii(this.i,this.l,ce,"[Invalid Chunked Response]"),$t(this),pr(this);else if(0<ce.length&&!this.W){this.W=!0;var Ft=this.j;Ft.g==this&&Ft.ba&&!Ft.M&&(Ft.j.info("Great, no buffering proxy detected. Bytes received: "+ce.length),Zs(Ft),Ft.M=!0,ut(11))}}else Ii(this.i,this.l,ce,null),Bs(this,ce);Lt==4&&$t(this),this.o&&!this.J&&(Lt==4?Du(this.j,this):(this.o=!1,zs(this)))}else Ad(this.g),_==400&&0<ce.indexOf("Unknown SID")?(this.s=3,ut(12)):(this.s=0,ut(13)),$t(this),pr(this)}}}catch{}finally{}};function _u(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Eu(u,y){var _=u.C,A=y.indexOf(`
`,_);return A==-1?Fa:(_=Number(y.substring(_,A)),isNaN(_)?_l:(A+=1,A+_>y.length?Fa:(y=y.slice(A,A+_),u.C=A+_,y)))}dn.prototype.cancel=function(){this.J=!0,$t(this)};function zs(u){u.S=Date.now()+u.I,bu(u,u.I)}function bu(u,y){if(u.B!=null)throw Error("WatchDog timer not null");u.B=xt(T(u.ba,u),y)}function Ci(u){u.B&&(d.clearTimeout(u.B),u.B=null)}dn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(vu(this.i,this.A),this.L!=2&&(xi(),ut(17)),$t(this),this.s=2,pr(this)):bu(this,this.S-u)};function pr(u){u.j.G==0||u.J||Du(u.j,u)}function $t(u){Ci(u);var y=u.M;y&&typeof y.ma=="function"&&y.ma(),u.M=null,Ls(u.U),u.g&&(y=u.g,u.g=null,y.abort(),y.ma())}function Bs(u,y){try{var _=u.j;if(_.G!=0&&(_.g==u||El(_.h,u))){if(!u.K&&El(_.h,u)&&_.G==3){try{var A=_.Da.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var F=A;if(F[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)to(_),Ja(_);else break e;Cl(_),ut(18)}}else _.za=F[1],0<_.za-_.T&&37500>F[2]&&_.F&&_.v==0&&!_.C&&(_.C=xt(T(_.Za,_),6e3));if(1>=Ga(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Xr(_,11)}else if((u.K||_.g==u)&&to(_),!X(y))for(F=_.Da.g.parse(y),y=0;y<F.length;y++){let qe=F[y];if(_.T=qe[0],qe=qe[1],_.G==2)if(qe[0]=="c"){_.K=qe[1],_.ia=qe[2];const Ft=qe[3];Ft!=null&&(_.la=Ft,_.j.info("VER="+_.la));const Lt=qe[4];Lt!=null&&(_.Aa=Lt,_.j.info("SVER="+_.Aa));const Wr=qe[5];Wr!=null&&typeof Wr=="number"&&0<Wr&&(A=1.5*Wr,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const Xt=u.g;if(Xt){const Tr=Xt.g?Xt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Tr){var $=A.h;$.g||Tr.indexOf("spdy")==-1&&Tr.indexOf("quic")==-1&&Tr.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(Ya($,$.h),$.h=null))}if(A.D){const Ol=Xt.g?Xt.g.getResponseHeader("X-HTTP-Session-Id"):null;Ol&&(A.ya=Ol,nt(A.I,A.D,Ol))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var ce=u;if(A.qa=Mu(A,A.J?A.ia:null,A.W),ce.K){mn(A.h,ce);var Be=ce,Vt=A.L;Vt&&(Be.I=Vt),Be.B&&(Ci(Be),zs(Be)),A.g=ce}else Nu(A);0<_.i.length&&eo(_)}else qe[0]!="stop"&&qe[0]!="close"||Xr(_,7);else _.G==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?Xr(_,7):Il(_):qe[0]!="noop"&&_.l&&_.l.ta(qe),_.v=0)}}xi(4)}catch{}}var Tu=class{constructor(u,y){this.g=u,this.map=y}};function Hr(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ha(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ga(u){return u.h?1:u.g?u.g.size:0}function El(u,y){return u.h?u.h==y:u.g?u.g.has(y):!1}function Ya(u,y){u.g?u.g.add(y):u.h=y}function mn(u,y){u.h&&u.h==y?u.h=null:u.g&&u.g.has(y)&&u.g.delete(y)}Hr.prototype.cancel=function(){if(this.i=bl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function bl(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let y=u.i;for(const _ of u.g.values())y=y.concat(_.D);return y}return I(u.i)}function bd(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var y=[],_=u.length,A=0;A<_;A++)y.push(u[A]);return y}y=[],_=0;for(A in u)y[_++]=u[A];return y}function Ka(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var y=[];u=u.length;for(var _=0;_<u;_++)y.push(_);return y}y=[],_=0;for(const A in u)y[_++]=A;return y}}}function Tl(u,y){if(u.forEach&&typeof u.forEach=="function")u.forEach(y,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,y,void 0);else for(var _=Ka(u),A=bd(u),F=A.length,$=0;$<F;$++)y.call(void 0,A[$],_&&_[$],u)}var qs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Td(u,y){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var A=u[_].indexOf("="),F=null;if(0<=A){var $=u[_].substring(0,A);F=u[_].substring(A+1)}else $=u[_];y($,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function It(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof It){this.h=u.h,Fs(this,u.j),this.o=u.o,this.g=u.g,Di(this,u.s),this.l=u.l;var y=u.i,_=new Yr;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),Gr(this,_),this.m=u.m}else u&&(y=String(u).match(qs))?(this.h=!1,Fs(this,y[1]||"",!0),this.o=qn(y[2]||""),this.g=qn(y[3]||"",!0),Di(this,y[4]),this.l=qn(y[5]||"",!0),Gr(this,y[6]||"",!0),this.m=qn(y[7]||"")):(this.h=!1,this.i=new Yr(null,this.h))}It.prototype.toString=function(){var u=[],y=this.j;y&&u.push(Gs(y,wl,!0),":");var _=this.g;return(_||y=="file")&&(u.push("//"),(y=this.o)&&u.push(Gs(y,wl,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(Gs(_,_.charAt(0)=="/"?wd:Sl,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",Gs(_,Qa)),u.join("")};function Nn(u){return new It(u)}function Fs(u,y,_){u.j=_?qn(y,!0):y,u.j&&(u.j=u.j.replace(/:$/,""))}function Di(u,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);u.s=y}else u.s=null}function Gr(u,y,_){y instanceof Yr?(u.i=y,Su(u.i,u.h)):(_||(y=Gs(y,Sd)),u.i=new Yr(y,u.h))}function nt(u,y,_){u.i.set(y,_)}function Hs(u){return nt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function qn(u,y){return u?y?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Gs(u,y,_){return typeof u=="string"?(u=encodeURI(u).replace(y,wu),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function wu(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var wl=/[#\/\?@]/g,Sl=/[#\?:]/g,wd=/[#\?]/g,Sd=/[#\?@]/g,Qa=/#/g;function Yr(u,y){this.h=this.g=null,this.i=u||null,this.j=!!y}function Fn(u){u.g||(u.g=new Map,u.h=0,u.i&&Td(u.i,function(y,_){u.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}n=Yr.prototype,n.add=function(u,y){Fn(this),this.i=null,u=gr(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(y),this.h+=1,this};function Kr(u,y){Fn(u),y=gr(u,y),u.g.has(y)&&(u.i=null,u.h-=u.g.get(y).length,u.g.delete(y))}function Qr(u,y){return Fn(u),y=gr(u,y),u.g.has(y)}n.forEach=function(u,y){Fn(this),this.g.forEach(function(_,A){_.forEach(function(F){u.call(y,F,A,this)},this)},this)},n.na=function(){Fn(this);const u=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let A=0;A<y.length;A++){const F=u[A];for(let $=0;$<F.length;$++)_.push(y[A])}return _},n.V=function(u){Fn(this);let y=[];if(typeof u=="string")Qr(this,u)&&(y=y.concat(this.g.get(gr(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)y=y.concat(u[_])}return y},n.set=function(u,y){return Fn(this),this.i=null,u=gr(this,u),Qr(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[y]),this.h+=1,this},n.get=function(u,y){return u?(u=this.V(u),0<u.length?String(u[0]):y):y};function Al(u,y,_){Kr(u,y),0<_.length&&(u.i=null,u.g.set(gr(u,y),I(_)),u.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var A=y[_];const $=encodeURIComponent(String(A)),ce=this.V(A);for(A=0;A<ce.length;A++){var F=$;ce[A]!==""&&(F+="="+encodeURIComponent(String(ce[A]))),u.push(F)}}return this.i=u.join("&")};function gr(u,y){return y=String(y),u.j&&(y=y.toLowerCase()),y}function Su(u,y){y&&!u.j&&(Fn(u),u.i=null,u.g.forEach(function(_,A){var F=A.toLowerCase();A!=F&&(Kr(this,A),Al(this,F,_))},u)),u.j=y}function Ys(u,y){const _=new Bn;if(d.Image){const A=new Image;A.onload=C(Hn,_,"TestLoadImage: loaded",!0,y,A),A.onerror=C(Hn,_,"TestLoadImage: error",!1,y,A),A.onabort=C(Hn,_,"TestLoadImage: abort",!1,y,A),A.ontimeout=C(Hn,_,"TestLoadImage: timeout",!1,y,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else y(!1)}function ir(u,y){const _=new Bn,A=new AbortController,F=setTimeout(()=>{A.abort(),Hn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(u,{signal:A.signal}).then($=>{clearTimeout(F),$.ok?Hn(_,"TestPingServer: ok",!0,y):Hn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(F),Hn(_,"TestPingServer: error",!1,y)})}function Hn(u,y,_,A,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),A(_)}catch{}}function Ks(){this.g=new Us}function yr(u,y,_){const A=_||"";try{Tl(u,function(F,$){let ce=F;g(F)&&(ce=nr(F)),y.push(A+$+"="+encodeURIComponent(ce))})}catch(F){throw y.push(A+"type="+encodeURIComponent("_badmap")),F}}function Oi(u){this.l=u.Ub||null,this.j=u.eb||!1}L(Oi,dl),Oi.prototype.g=function(){return new $r(this.l,this.j)},Oi.prototype.i=function(u){return function(){return u}}({});function $r(u,y){pt.call(this),this.D=u,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}L($r,pt),n=$r.prototype,n.open=function(u,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=y,this.readyState=1,_r(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(y.body=u),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,vr(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,_r(this)),this.g&&(this.readyState=3,_r(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Rl(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Rl(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var y=u.value?u.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!u.done}))&&(this.response=this.responseText+=y)}u.done?vr(this):_r(this),this.readyState==3&&Rl(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,vr(this))},n.Qa=function(u){this.g&&(this.response=u,vr(this))},n.ga=function(){this.g&&vr(this)};function vr(u){u.readyState=4,u.l=null,u.j=null,u.v=null,_r(u)}n.setRequestHeader=function(u,y){this.u.append(u,y)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=y.next();return u.join(`\r
`)};function _r(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty($r.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function xl(u){let y="";return he(u,function(_,A){y+=A,y+=":",y+=_,y+=`\r
`}),y}function qt(u,y,_){e:{for(A in _){var A=!1;break e}A=!0}A||(_=xl(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):nt(u,y,_))}function $e(u){pt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}L($e,pt);var $a=/^https?$/i,Qs=["POST","PUT"];n=$e.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,y,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);y=y?y.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():dr.g(),this.v=this.o?ml(this.o):ml(dr),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(y,String(u),!0),this.B=!1}catch($){Au(this,$);return}if(u=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var F in A)_.set(F,A[F]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const $ of A.keys())_.set($,A.get($));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find($=>$.toLowerCase()=="content-type"),F=d.FormData&&u instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Qs,y,void 0))||A||F||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,ce]of _)this.g.setRequestHeader($,ce);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{$s(this),this.u=!0,this.g.send(u),this.u=!1}catch($){Au(this,$)}};function Au(u,y){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=y,u.m=5,Xa(u),Er(u)}function Xa(u){u.A||(u.A=!0,Ze(u,"complete"),Ze(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ze(this,"complete"),Ze(this,"abort"),Er(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Er(this,!0)),$e.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Wa(this):this.bb())},n.bb=function(){Wa(this)};function Wa(u){if(u.h&&typeof h<"u"&&(!u.v[1]||Gn(u)!=4||u.Z()!=2)){if(u.u&&Gn(u)==4)sn(u.Ea,0,u);else if(Ze(u,"readystatechange"),Gn(u)==4){u.h=!1;try{const ce=u.Z();e:switch(ce){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var A;if(A=ce===0){var F=String(u.D).match(qs)[1]||null;!F&&d.self&&d.self.location&&(F=d.self.location.protocol.slice(0,-1)),A=!$a.test(F?F.toLowerCase():"")}_=A}if(_)Ze(u,"complete"),Ze(u,"success");else{u.m=6;try{var $=2<Gn(u)?u.g.statusText:""}catch{$=""}u.l=$+" ["+u.Z()+"]",Xa(u)}}finally{Er(u)}}}}function Er(u,y){if(u.g){$s(u);const _=u.g,A=u.v[0]?()=>{}:null;u.g=null,u.v=null,y||Ze(u,"ready");try{_.onreadystatechange=A}catch{}}}function $s(u){u.I&&(d.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function Gn(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<Gn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var y=this.g.responseText;return u&&y.indexOf(u)==0&&(y=y.substring(u.length)),Ba(y)}};function Ru(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ad(u){const y={};u=(u.g&&2<=Gn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(X(u[A]))continue;var _=V(u[A]);const F=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const $=y[F]||[];y[F]=$,$.push(_)}M(y,function(A){return A.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Xs(u,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||y}function Za(u){this.Aa=0,this.i=[],this.j=new Bn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Xs("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Xs("baseRetryDelayMs",5e3,u),this.cb=Xs("retryDelaySeedMs",1e4,u),this.Wa=Xs("forwardChannelMaxRetries",2,u),this.wa=Xs("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Hr(u&&u.concurrentRequestLimit),this.Da=new Ks,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Za.prototype,n.la=8,n.G=1,n.connect=function(u,y,_,A){ut(0),this.W=u,this.H=y||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=Mu(this,null,this.W),eo(this)};function Il(u){if(xu(u),u.G==3){var y=u.U++,_=Nn(u.I);if(nt(_,"SID",u.K),nt(_,"RID",y),nt(_,"TYPE","terminate"),Ws(u,_),y=new dn(u,u.j,y),y.L=2,y.v=Hs(Nn(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&d.Image&&(new Image().src=y.v,_=!0),_||(y.g=ku(y.j,null),y.g.ea(y.v)),y.F=Date.now(),zs(y)}Ou(u)}function Ja(u){u.g&&(Zs(u),u.g.cancel(),u.g=null)}function xu(u){Ja(u),u.u&&(d.clearTimeout(u.u),u.u=null),to(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&d.clearTimeout(u.s),u.s=null)}function eo(u){if(!Ha(u.h)&&!u.s){u.s=!0;var y=u.Ga;le||U(),ae||(le(),ae=!0),ze.add(y,u),u.B=0}}function Rd(u,y){return Ga(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=y.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=xt(T(u.Ga,u,y),Dl(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const F=new dn(this,this.j,u);let $=this.o;if(this.S&&($?($=R($),k($,this.S)):$=this.S),this.m!==null||this.O||(F.H=$,$=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=Iu(this,F,y),_=Nn(this.I),nt(_,"RID",u),nt(_,"CVER",22),this.D&&nt(_,"X-HTTP-Session-Id",this.D),Ws(this,_),$&&(this.O?y="headers="+encodeURIComponent(String(xl($)))+"&"+y:this.m&&qt(_,this.m,$)),Ya(this.h,F),this.Ua&&nt(_,"TYPE","init"),this.P?(nt(_,"$req",y),nt(_,"SID","null"),F.T=!0,rr(F,_,null)):rr(F,_,y),this.G=2}}else this.G==3&&(u?Nl(this,u):this.i.length==0||Ha(this.h)||Nl(this))};function Nl(u,y){var _;y?_=y.l:_=u.U++;const A=Nn(u.I);nt(A,"SID",u.K),nt(A,"RID",_),nt(A,"AID",u.T),Ws(u,A),u.m&&u.o&&qt(A,u.m,u.o),_=new dn(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),y&&(u.i=y.D.concat(u.i)),y=Iu(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Ya(u.h,_),rr(_,A,y)}function Ws(u,y){u.H&&he(u.H,function(_,A){nt(y,A,_)}),u.l&&Tl({},function(_,A){nt(y,A,_)})}function Iu(u,y,_){_=Math.min(u.i.length,_);var A=u.l?T(u.l.Na,u.l,u):null;e:{var F=u.i;let $=-1;for(;;){const ce=["count="+_];$==-1?0<_?($=F[0].g,ce.push("ofs="+$)):$=0:ce.push("ofs="+$);let Be=!0;for(let Vt=0;Vt<_;Vt++){let qe=F[Vt].g;const Ft=F[Vt].map;if(qe-=$,0>qe)$=Math.max(0,F[Vt].g-100),Be=!1;else try{yr(Ft,ce,"req"+qe+"_")}catch{A&&A(Ft)}}if(Be){A=ce.join("&");break e}}}return u=u.i.splice(0,_),y.D=u,A}function Nu(u){if(!u.g&&!u.u){u.Y=1;var y=u.Fa;le||U(),ae||(le(),ae=!0),ze.add(y,u),u.v=0}}function Cl(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=xt(T(u.Fa,u),Dl(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,Cu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=xt(T(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ut(10),Ja(this),Cu(this))};function Zs(u){u.A!=null&&(d.clearTimeout(u.A),u.A=null)}function Cu(u){u.g=new dn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var y=Nn(u.qa);nt(y,"RID","rpc"),nt(y,"SID",u.K),nt(y,"AID",u.T),nt(y,"CI",u.F?"0":"1"),!u.F&&u.ja&&nt(y,"TO",u.ja),nt(y,"TYPE","xmlhttp"),Ws(u,y),u.m&&u.o&&qt(y,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=Hs(Nn(y)),_.m=null,_.P=!0,Fr(_,u)}n.Za=function(){this.C!=null&&(this.C=null,Ja(this),Cl(this),ut(19))};function to(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Du(u,y){var _=null;if(u.g==y){to(u),Zs(u),u.g=null;var A=2}else if(El(u.h,y))_=y.D,mn(u.h,y),A=1;else return;if(u.G!=0){if(y.o)if(A==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var F=u.B;A=Ri(),Ze(A,new Pt(A,_)),eo(u)}else Nu(u);else if(F=y.s,F==3||F==0&&0<y.X||!(A==1&&Rd(u,y)||A==2&&Cl(u)))switch(_&&0<_.length&&(y=u.h,y.i=y.i.concat(_)),F){case 1:Xr(u,5);break;case 4:Xr(u,10);break;case 3:Xr(u,6);break;default:Xr(u,2)}}}function Dl(u,y){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*y}function Xr(u,y){if(u.j.info("Error code "+y),y==2){var _=T(u.fb,u),A=u.Xa;const F=!A;A=new It(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Fs(A,"https"),Hs(A),F?Ys(A.toString(),_):ir(A.toString(),_)}else ut(2);u.G=0,u.l&&u.l.sa(y),Ou(u),xu(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ut(2)):(this.j.info("Failed to ping google.com"),ut(1))};function Ou(u){if(u.G=0,u.ka=[],u.l){const y=bl(u.h);(y.length!=0||u.i.length!=0)&&(x(u.ka,y),x(u.ka,u.i),u.h.i.length=0,I(u.i),u.i.length=0),u.l.ra()}}function Mu(u,y,_){var A=_ instanceof It?Nn(_):new It(_);if(A.g!="")y&&(A.g=y+"."+A.g),Di(A,A.s);else{var F=d.location;A=F.protocol,y=y?y+"."+F.hostname:F.hostname,F=+F.port;var $=new It(null);A&&Fs($,A),y&&($.g=y),F&&Di($,F),_&&($.l=_),A=$}return _=u.D,y=u.ya,_&&y&&nt(A,_,y),nt(A,"VER",u.la),Ws(u,A),A}function ku(u,y,_){if(y&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=u.Ca&&!u.pa?new $e(new Oi({eb:_})):new $e(u.pa),y.Ha(u.J),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Pu(){}n=Pu.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function no(){}no.prototype.g=function(u,y){return new pn(u,y)};function pn(u,y){pt.call(this),this.g=new Za(y),this.l=u,this.h=y&&y.messageUrlParams||null,u=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(u?u["X-WebChannel-Content-Type"]=y.messageContentType:u={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(u?u["X-WebChannel-Client-Profile"]=y.va:u={"X-WebChannel-Client-Profile":y.va}),this.g.S=u,(u=y&&y.Sb)&&!X(u)&&(this.g.m=u),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!X(y)&&(this.g.D=y,u=this.h,u!==null&&y in u&&(u=this.h,y in u&&delete u[y])),this.j=new br(this)}L(pn,pt),pn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},pn.prototype.close=function(){Il(this.g)},pn.prototype.o=function(u){var y=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=nr(u),u=_);y.i.push(new Tu(y.Ya++,u)),y.G==3&&eo(y)},pn.prototype.N=function(){this.g.l=null,delete this.j,Il(this.g),delete this.g,pn.aa.N.call(this)};function Vu(u){Br.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var y=u.__sm__;if(y){e:{for(const _ in y){u=_;break e}u=void 0}(this.i=u)&&(u=this.i,y=y!==null&&u in y?y[u]:void 0),this.data=y}else this.data=u}L(Vu,Br);function Lu(){gl.call(this),this.status=1}L(Lu,gl);function br(u){this.g=u}L(br,Pu),br.prototype.ua=function(){Ze(this.g,"a")},br.prototype.ta=function(u){Ze(this.g,new Vu(u))},br.prototype.sa=function(u){Ze(this.g,new Lu)},br.prototype.ra=function(){Ze(this.g,"b")},no.prototype.createWebChannel=no.prototype.g,pn.prototype.send=pn.prototype.o,pn.prototype.open=pn.prototype.m,pn.prototype.close=pn.prototype.close,kw=function(){return new no},Mw=function(){return Ri()},Ow=fr,cg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ni.NO_ERROR=0,Ni.TIMEOUT=8,Ni.HTTP_ERROR=6,sf=Ni,qr.COMPLETE="complete",Dw=qr,pl.EventType=zr,zr.OPEN="a",zr.CLOSE="b",zr.ERROR="c",zr.MESSAGE="d",pt.prototype.listen=pt.prototype.K,xc=pl,$e.prototype.listenOnce=$e.prototype.L,$e.prototype.getLastError=$e.prototype.Ka,$e.prototype.getLastErrorCode=$e.prototype.Ba,$e.prototype.getStatus=$e.prototype.Z,$e.prototype.getResponseJson=$e.prototype.Oa,$e.prototype.getResponseText=$e.prototype.oa,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Ha,Cw=$e}).apply(typeof jh<"u"?jh:typeof self<"u"?self:typeof window<"u"?window:{});const YE="@firebase/firestore",KE="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};cn.UNAUTHENTICATED=new cn(null),cn.GOOGLE_CREDENTIALS=new cn("google-credentials-uid"),cn.FIRST_PARTY=new cn("first-party-uid"),cn.MOCK_USER=new cn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rl="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ia=new Ug("@firebase/firestore");function Lo(){return Ia.logLevel}function de(n,...e){if(Ia.logLevel<=Le.DEBUG){const t=e.map(Wg);Ia.debug(`Firestore (${rl}): ${n}`,...t)}}function bi(n,...e){if(Ia.logLevel<=Le.ERROR){const t=e.map(Wg);Ia.error(`Firestore (${rl}): ${n}`,...t)}}function Xo(n,...e){if(Ia.logLevel<=Le.WARN){const t=e.map(Wg);Ia.warn(`Firestore (${rl}): ${n}`,...t)}}function Wg(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,Pw(n,i,t)}function Pw(n,e,t){let i=`FIRESTORE (${rl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw bi(i),new Error(i)}function Xe(n,e,t,i){let o="Unexpected state";typeof t=="string"?o=t:i=t,n||Pw(e,o,i)}function xe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends jr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class k2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(cn.UNAUTHENTICATED))}shutdown(){}}class P2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class V2{constructor(e){this.t=e,this.currentUser=cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Xe(this.o===void 0,42304);let i=this.i;const o=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let c=new yi;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new yi,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const p=c;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},d=p=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new yi)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Xe(typeof i.accessToken=="string",31837,{l:i}),new Vw(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xe(e===null||typeof e=="string",2055,{h:e}),new cn(e)}}class L2{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=cn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class U2{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new L2(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(cn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class QE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class j2{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Tn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Xe(this.o===void 0,3512);const i=c=>{c.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const h=c.token!==this.m;return this.m=c.token,de("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>i(c))};const o=c=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(c=>o(c)),setTimeout(()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new QE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Xe(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new QE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z2(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=z2(40);for(let c=0;c<o.length;++c)i.length<20&&o[c]<t&&(i+=e.charAt(o[c]%62))}return i}}function Ue(n,e){return n<e?-1:n>e?1:0}function ug(n,e){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++){const o=n.charAt(i),c=e.charAt(i);if(o!==c)return Cp(o)===Cp(c)?Ue(o,c):Cp(o)?1:-1}return Ue(n.length,e.length)}const B2=55296,q2=57343;function Cp(n){const e=n.charCodeAt(0);return e>=B2&&e<=q2}function Wo(n,e,t){return n.length===e.length&&n.every((i,o)=>t(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E="__name__";class Ir{constructor(e,t,i){t===void 0?t=0:t>e.length&&Se(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&Se(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Ir.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ir?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const c=Ir.compareSegments(e.get(o),t.get(o));if(c!==0)return c}return Ue(e.length,t.length)}static compareSegments(e,t){const i=Ir.isNumericId(e),o=Ir.isNumericId(t);return i&&!o?-1:!i&&o?1:i&&o?Ir.extractNumericId(e).compare(Ir.extractNumericId(t)):ug(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ps.fromString(e.substring(4,e.length-2))}}class ct extends Ir{construct(e,t,i){return new ct(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new fe(te.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(o=>o.length>0))}return new ct(t)}static emptyPath(){return new ct([])}}const F2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tn extends Ir{construct(e,t,i){return new tn(e,t,i)}static isValidIdentifier(e){return F2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===$E}static keyField(){return new tn([$E])}static fromServerFormat(e){const t=[];let i="",o=0;const c=()=>{if(i.length===0)throw new fe(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let h=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new fe(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new fe(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,o+=2}else d==="`"?(h=!h,o++):d!=="."||h?(i+=d,o++):(c(),o++)}if(c(),h)throw new fe(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tn(t)}static emptyPath(){return new tn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(ct.fromString(e))}static fromName(e){return new _e(ct.fromString(e).popFirst(5))}static empty(){return new _e(ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ct.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new ct(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lw(n,e,t){if(!t)throw new fe(te.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function H2(n,e,t,i){if(e===!0&&i===!0)throw new fe(te.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function XE(n){if(!_e.isDocumentKey(n))throw new fe(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function WE(n){if(_e.isDocumentKey(n))throw new fe(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Uw(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Yf(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Se(12329,{type:typeof n})}function An(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new fe(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Yf(n);throw new fe(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mt(n,e){const t={typeString:n};return e&&(t.value=e),t}function iu(n,e){if(!Uw(n))throw new fe(te.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const o=e[i].typeString,c="value"in e[i]?{value:e[i].value}:void 0;if(!(i in n)){t=`JSON missing required field: '${i}'`;break}const h=n[i];if(o&&typeof h!==o){t=`JSON field '${i}' must be a ${o}.`;break}if(c!==void 0&&h!==c.value){t=`Expected '${i}' field to equal '${c.value}'`;break}}if(t)throw new fe(te.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE=-62135596800,JE=1e6;class Ge{static now(){return Ge.fromMillis(Date.now())}static fromDate(e){return Ge.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*JE);return new Ge(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new fe(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new fe(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<ZE)throw new fe(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/JE}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ge._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(iu(e,Ge._jsonSchema))return new Ge(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-ZE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ge._jsonSchemaVersion="firestore/timestamp/1.0",Ge._jsonSchema={type:Mt("string",Ge._jsonSchemaVersion),seconds:Mt("number"),nanoseconds:Mt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new Ge(0,0))}static max(){return new Re(new Ge(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qc=-1;function G2(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=Re.fromTimestamp(i===1e9?new Ge(t+1,0):new Ge(t,i));return new vs(o,_e.empty(),e)}function Y2(n){return new vs(n.readTime,n.key,qc)}class vs{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new vs(Re.min(),_e.empty(),qc)}static max(){return new vs(Re.max(),_e.empty(),qc)}}function K2(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=_e.comparator(n.documentKey,e.documentKey),t!==0?t:Ue(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function il(n){if(n.code!==te.FAILED_PRECONDITION||n.message!==Q2)throw n;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new re((i,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(i,o)},this.catchCallback=c=>{this.wrapFailure(t,c).next(i,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof re?t:re.resolve(t)}catch(t){return re.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):re.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):re.reject(t)}static resolve(e){return new re((t,i)=>{t(e)})}static reject(e){return new re((t,i)=>{i(e)})}static waitFor(e){return new re((t,i)=>{let o=0,c=0,h=!1;e.forEach(d=>{++o,d.next(()=>{++c,h&&c===o&&t()},p=>i(p))}),h=!0,c===o&&t()})}static or(e){let t=re.resolve(!1);for(const i of e)t=t.next(o=>o?re.resolve(o):i());return t}static forEach(e,t){const i=[];return e.forEach((o,c)=>{i.push(t.call(this,o,c))}),this.waitFor(i)}static mapArray(e,t){return new re((i,o)=>{const c=e.length,h=new Array(c);let d=0;for(let p=0;p<c;p++){const g=p;t(e[g]).next(v=>{h[g]=v,++d,d===c&&i(h)},v=>o(v))}})}static doWhile(e,t){return new re((i,o)=>{const c=()=>{e()===!0?t().next(()=>{c()},o):i()};c()})}}function X2(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function sl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>t.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Kf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jg=-1;function Qf(n){return n==null}function wf(n){return n===0&&1/n==-1/0}function W2(n){return typeof n=="number"&&Number.isInteger(n)&&!wf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jw="";function Z2(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=eb(e)),e=J2(n.get(t),e);return eb(e)}function J2(n,e){let t=e;const i=n.length;for(let o=0;o<i;o++){const c=n.charAt(o);switch(c){case"\0":t+="";break;case jw:t+="";break;default:t+=c}}return t}function eb(n){return n+jw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tb(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Is(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function zw(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e,t){this.comparator=e,this.root=t||en.EMPTY}insert(e,t){return new mt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,en.BLACK,null,null))}remove(e){return new mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,en.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zh(this.root,e,this.comparator,!1)}getReverseIterator(){return new zh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zh(this.root,e,this.comparator,!0)}}class zh{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?i(e.key,t):1,t&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class en{constructor(e,t,i,o,c){this.key=e,this.value=t,this.color=i??en.RED,this.left=o??en.EMPTY,this.right=c??en.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,c){return new en(e??this.key,t??this.value,i??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const c=i(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,t,i),null):c===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return en.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return en.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,en.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,en.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}en.EMPTY=null,en.RED=!0,en.BLACK=!1;en.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,t,i,o,c){return this}insert(e,t,i){return new en(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.comparator=e,this.data=new mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new nb(this.data.getIterator())}getIteratorFrom(e){return new nb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Bt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,c=i.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Bt(this.comparator);return t.data=e,t}}class nb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.fields=e,e.sort(tn.comparator)}static empty(){return new Ln([])}unionWith(e){let t=new Bt(tn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Ln(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Wo(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Bw("Invalid base64 string: "+c):c}}(e);return new rn(t)}static fromUint8Array(e){const t=function(o){let c="";for(let h=0;h<o.length;++h)c+=String.fromCharCode(o[h]);return c}(e);return new rn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rn.EMPTY_BYTE_STRING=new rn("");const eD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _s(n){if(Xe(!!n,39018),typeof n=="string"){let e=0;const t=eD.exec(n);if(Xe(!!t,46558,{timestamp:n}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:At(n.seconds),nanos:At(n.nanos)}}function At(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Es(n){return typeof n=="string"?rn.fromBase64String(n):rn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw="server_timestamp",Fw="__type__",Hw="__previous_value__",Gw="__local_write_time__";function ey(n){var t,i;return((i=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[Fw])==null?void 0:i.stringValue)===qw}function $f(n){const e=n.mapValue.fields[Hw];return ey(e)?$f(e):e}function Fc(n){const e=_s(n.mapValue.fields[Gw].timestampValue);return new Ge(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(e,t,i,o,c,h,d,p,g,v){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=c,this.forceLongPolling=h,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=v}}const Sf="(default)";class Hc{constructor(e,t){this.projectId=e,this.database=t||Sf}static empty(){return new Hc("","")}get isDefaultDatabase(){return this.database===Sf}isEqual(e){return e instanceof Hc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw="__type__",nD="__max__",Bh={mapValue:{}},Kw="__vector__",Af="value";function bs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?ey(n)?4:iD(n)?9007199254740991:rD(n)?10:11:Se(28295,{value:n})}function Lr(n,e){if(n===e)return!0;const t=bs(n);if(t!==bs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Fc(n).isEqual(Fc(e));case 3:return function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const h=_s(o.timestampValue),d=_s(c.timestampValue);return h.seconds===d.seconds&&h.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,c){return Es(o.bytesValue).isEqual(Es(c.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,c){return At(o.geoPointValue.latitude)===At(c.geoPointValue.latitude)&&At(o.geoPointValue.longitude)===At(c.geoPointValue.longitude)}(n,e);case 2:return function(o,c){if("integerValue"in o&&"integerValue"in c)return At(o.integerValue)===At(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const h=At(o.doubleValue),d=At(c.doubleValue);return h===d?wf(h)===wf(d):isNaN(h)&&isNaN(d)}return!1}(n,e);case 9:return Wo(n.arrayValue.values||[],e.arrayValue.values||[],Lr);case 10:case 11:return function(o,c){const h=o.mapValue.fields||{},d=c.mapValue.fields||{};if(tb(h)!==tb(d))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(d[p]===void 0||!Lr(h[p],d[p])))return!1;return!0}(n,e);default:return Se(52216,{left:n})}}function Gc(n,e){return(n.values||[]).find(t=>Lr(t,e))!==void 0}function Zo(n,e){if(n===e)return 0;const t=bs(n),i=bs(e);if(t!==i)return Ue(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ue(n.booleanValue,e.booleanValue);case 2:return function(c,h){const d=At(c.integerValue||c.doubleValue),p=At(h.integerValue||h.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(n,e);case 3:return rb(n.timestampValue,e.timestampValue);case 4:return rb(Fc(n),Fc(e));case 5:return ug(n.stringValue,e.stringValue);case 6:return function(c,h){const d=Es(c),p=Es(h);return d.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(c,h){const d=c.split("/"),p=h.split("/");for(let g=0;g<d.length&&g<p.length;g++){const v=Ue(d[g],p[g]);if(v!==0)return v}return Ue(d.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(c,h){const d=Ue(At(c.latitude),At(h.latitude));return d!==0?d:Ue(At(c.longitude),At(h.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return ib(n.arrayValue,e.arrayValue);case 10:return function(c,h){var T,C,L,I;const d=c.fields||{},p=h.fields||{},g=(T=d[Af])==null?void 0:T.arrayValue,v=(C=p[Af])==null?void 0:C.arrayValue,w=Ue(((L=g==null?void 0:g.values)==null?void 0:L.length)||0,((I=v==null?void 0:v.values)==null?void 0:I.length)||0);return w!==0?w:ib(g,v)}(n.mapValue,e.mapValue);case 11:return function(c,h){if(c===Bh.mapValue&&h===Bh.mapValue)return 0;if(c===Bh.mapValue)return 1;if(h===Bh.mapValue)return-1;const d=c.fields||{},p=Object.keys(d),g=h.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let w=0;w<p.length&&w<v.length;++w){const T=ug(p[w],v[w]);if(T!==0)return T;const C=Zo(d[p[w]],g[v[w]]);if(C!==0)return C}return Ue(p.length,v.length)}(n.mapValue,e.mapValue);default:throw Se(23264,{he:t})}}function rb(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ue(n,e);const t=_s(n),i=_s(e),o=Ue(t.seconds,i.seconds);return o!==0?o:Ue(t.nanos,i.nanos)}function ib(n,e){const t=n.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const c=Zo(t[o],i[o]);if(c)return c}return Ue(t.length,i.length)}function Jo(n){return hg(n)}function hg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=_s(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Es(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return _e.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",o=!0;for(const c of t.values||[])o?o=!1:i+=",",i+=hg(c);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let o="{",c=!0;for(const h of i)c?c=!1:o+=",",o+=`${h}:${hg(t.fields[h])}`;return o+"}"}(n.mapValue):Se(61005,{value:n})}function af(n){switch(bs(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=$f(n);return e?16+af(e):16;case 5:return 2*n.stringValue.length;case 6:return Es(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((o,c)=>o+af(c),0)}(n.arrayValue);case 10:case 11:return function(i){let o=0;return Is(i.fields,(c,h)=>{o+=c.length+af(h)}),o}(n.mapValue);default:throw Se(13486,{value:n})}}function sb(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function fg(n){return!!n&&"integerValue"in n}function ty(n){return!!n&&"arrayValue"in n}function ab(n){return!!n&&"nullValue"in n}function ob(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function of(n){return!!n&&"mapValue"in n}function rD(n){var t,i;return((i=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[Yw])==null?void 0:i.stringValue)===Kw}function Mc(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Is(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Mc(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Mc(n.arrayValue.values[t]);return e}return{...n}}function iD(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===nD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.value=e}static empty(){return new wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!of(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Mc(t)}setAll(e){let t=tn.emptyPath(),i={},o=[];e.forEach((h,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,i,o),i={},o=[],t=d.popLast()}h?i[d.lastSegment()]=Mc(h):o.push(d.lastSegment())});const c=this.getFieldsMap(t);this.applyChanges(c,i,o)}delete(e){const t=this.field(e.popLast());of(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Lr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];of(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){Is(t,(o,c)=>e[o]=c);for(const o of i)delete e[o]}clone(){return new wn(Mc(this.value))}}function Qw(n){const e=[];return Is(n.fields,(t,i)=>{const o=new tn([t]);if(of(i)){const c=Qw(i.mapValue).fields;if(c.length===0)e.push(o);else for(const h of c)e.push(o.child(h))}else e.push(o)}),new Ln(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e,t,i,o,c,h,d){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=c,this.data=h,this.documentState=d}static newInvalidDocument(e){return new un(e,0,Re.min(),Re.min(),Re.min(),wn.empty(),0)}static newFoundDocument(e,t,i,o){return new un(e,1,t,Re.min(),i,o,0)}static newNoDocument(e,t){return new un(e,2,t,Re.min(),Re.min(),wn.empty(),0)}static newUnknownDocument(e,t){return new un(e,3,t,Re.min(),Re.min(),wn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof un&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(e,t){this.position=e,this.inclusive=t}}function lb(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const c=e[o],h=n.position[o];if(c.field.isKeyField()?i=_e.comparator(_e.fromName(h.referenceValue),t.key):i=Zo(h,t.data.field(c.field)),c.dir==="desc"&&(i*=-1),i!==0)break}return i}function cb(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Lr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(e,t="asc"){this.field=e,this.dir=t}}function sD(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{}class Ot extends $w{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new oD(e,t,i):t==="array-contains"?new uD(e,i):t==="in"?new hD(e,i):t==="not-in"?new fD(e,i):t==="array-contains-any"?new dD(e,i):new Ot(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new lD(e,i):new cD(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Zo(t,this.value)):t!==null&&bs(this.value)===bs(t)&&this.matchesComparison(Zo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ur extends $w{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new ur(e,t)}matches(e){return Xw(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Xw(n){return n.op==="and"}function Ww(n){return aD(n)&&Xw(n)}function aD(n){for(const e of n.filters)if(e instanceof ur)return!1;return!0}function dg(n){if(n instanceof Ot)return n.field.canonicalString()+n.op.toString()+Jo(n.value);if(Ww(n))return n.filters.map(e=>dg(e)).join(",");{const e=n.filters.map(t=>dg(t)).join(",");return`${n.op}(${e})`}}function Zw(n,e){return n instanceof Ot?function(i,o){return o instanceof Ot&&i.op===o.op&&i.field.isEqual(o.field)&&Lr(i.value,o.value)}(n,e):n instanceof ur?function(i,o){return o instanceof ur&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((c,h,d)=>c&&Zw(h,o.filters[d]),!0):!1}(n,e):void Se(19439)}function Jw(n){return n instanceof Ot?function(t){return`${t.field.canonicalString()} ${t.op} ${Jo(t.value)}`}(n):n instanceof ur?function(t){return t.op.toString()+" {"+t.getFilters().map(Jw).join(" ,")+"}"}(n):"Filter"}class oD extends Ot{constructor(e,t,i){super(e,t,i),this.key=_e.fromName(i.referenceValue)}matches(e){const t=_e.comparator(e.key,this.key);return this.matchesComparison(t)}}class lD extends Ot{constructor(e,t){super(e,"in",t),this.keys=e1("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class cD extends Ot{constructor(e,t){super(e,"not-in",t),this.keys=e1("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function e1(n,e){var t;return(((t=e.arrayValue)==null?void 0:t.values)||[]).map(i=>_e.fromName(i.referenceValue))}class uD extends Ot{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ty(t)&&Gc(t.arrayValue,this.value)}}class hD extends Ot{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Gc(this.value.arrayValue,t)}}class fD extends Ot{constructor(e,t){super(e,"not-in",t)}matches(e){if(Gc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Gc(this.value.arrayValue,t)}}class dD extends Ot{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ty(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Gc(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(e,t=null,i=[],o=[],c=null,h=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=c,this.startAt=h,this.endAt=d,this.Te=null}}function ub(n,e=null,t=[],i=[],o=null,c=null,h=null){return new mD(n,e,t,i,o,c,h)}function ny(n){const e=xe(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>dg(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(c){return c.field.canonicalString()+c.dir}(i)).join(","),Qf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Jo(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Jo(i)).join(",")),e.Te=t}return e.Te}function ry(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!sD(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Zw(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!cb(n.startAt,e.startAt)&&cb(n.endAt,e.endAt)}function mg(n){return _e.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(e,t=null,i=[],o=[],c=null,h="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=c,this.limitType=h,this.startAt=d,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function pD(n,e,t,i,o,c,h,d){return new al(n,e,t,i,o,c,h,d)}function Xf(n){return new al(n)}function hb(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function t1(n){return n.collectionGroup!==null}function kc(n){const e=xe(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),t.add(c.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let d=new Bt(tn.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(d=d.add(g.field))})}),d})(e).forEach(c=>{t.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new Yc(c,i))}),t.has(tn.keyField().canonicalString())||e.Ie.push(new Yc(tn.keyField(),i))}return e.Ie}function Mr(n){const e=xe(n);return e.Ee||(e.Ee=gD(e,kc(n))),e.Ee}function gD(n,e){if(n.limitType==="F")return ub(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const c=o.dir==="desc"?"asc":"desc";return new Yc(o.field,c)});const t=n.endAt?new Rf(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Rf(n.startAt.position,n.startAt.inclusive):null;return ub(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function pg(n,e){const t=n.filters.concat([e]);return new al(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function gg(n,e,t){return new al(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Wf(n,e){return ry(Mr(n),Mr(e))&&n.limitType===e.limitType}function n1(n){return`${ny(Mr(n))}|lt:${n.limitType}`}function Uo(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(o=>Jw(o)).join(", ")}]`),Qf(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(o=>Jo(o)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(o=>Jo(o)).join(",")),`Target(${i})`}(Mr(n))}; limitType=${n.limitType})`}function Zf(n,e){return e.isFoundDocument()&&function(i,o){const c=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(c):_e.isDocumentKey(i.path)?i.path.isEqual(c):i.path.isImmediateParentOf(c)}(n,e)&&function(i,o){for(const c of kc(i))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0}(n,e)&&function(i,o){for(const c of i.filters)if(!c.matches(o))return!1;return!0}(n,e)&&function(i,o){return!(i.startAt&&!function(h,d,p){const g=lb(h,d,p);return h.inclusive?g<=0:g<0}(i.startAt,kc(i),o)||i.endAt&&!function(h,d,p){const g=lb(h,d,p);return h.inclusive?g>=0:g>0}(i.endAt,kc(i),o))}(n,e)}function yD(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function r1(n){return(e,t)=>{let i=!1;for(const o of kc(n)){const c=vD(o,e,t);if(c!==0)return c;i=i||o.field.isKeyField()}return 0}}function vD(n,e,t){const i=n.field.isKeyField()?_e.comparator(e.key,t.key):function(c,h,d){const p=h.data.field(c),g=d.data.field(c);return p!==null&&g!==null?Zo(p,g):Se(42886)}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Se(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,c]of i)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Is(this.inner,(t,i)=>{for(const[o,c]of i)e(o,c)})}isEmpty(){return zw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _D=new mt(_e.comparator);function Ti(){return _D}const i1=new mt(_e.comparator);function Ic(...n){let e=i1;for(const t of n)e=e.insert(t.key,t);return e}function s1(n){let e=i1;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function _a(){return Pc()}function a1(){return Pc()}function Pc(){return new La(n=>n.toString(),(n,e)=>n.isEqual(e))}const ED=new mt(_e.comparator),bD=new Bt(_e.comparator);function je(...n){let e=bD;for(const t of n)e=e.add(t);return e}const TD=new Bt(Ue);function wD(){return TD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iy(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wf(e)?"-0":e}}function o1(n){return{integerValue:""+n}}function SD(n,e){return W2(e)?o1(e):iy(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(){this._=void 0}}function AD(n,e,t){return n instanceof xf?function(o,c){const h={fields:{[Fw]:{stringValue:qw},[Gw]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&ey(c)&&(c=$f(c)),c&&(h.fields[Hw]=c),{mapValue:h}}(t,e):n instanceof Kc?c1(n,e):n instanceof Qc?u1(n,e):function(o,c){const h=l1(o,c),d=fb(h)+fb(o.Ae);return fg(h)&&fg(o.Ae)?o1(d):iy(o.serializer,d)}(n,e)}function RD(n,e,t){return n instanceof Kc?c1(n,e):n instanceof Qc?u1(n,e):t}function l1(n,e){return n instanceof If?function(i){return fg(i)||function(c){return!!c&&"doubleValue"in c}(i)}(e)?e:{integerValue:0}:null}class xf extends Jf{}class Kc extends Jf{constructor(e){super(),this.elements=e}}function c1(n,e){const t=h1(e);for(const i of n.elements)t.some(o=>Lr(o,i))||t.push(i);return{arrayValue:{values:t}}}class Qc extends Jf{constructor(e){super(),this.elements=e}}function u1(n,e){let t=h1(e);for(const i of n.elements)t=t.filter(o=>!Lr(o,i));return{arrayValue:{values:t}}}class If extends Jf{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function fb(n){return At(n.integerValue||n.doubleValue)}function h1(n){return ty(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function xD(n,e){return n.field.isEqual(e.field)&&function(i,o){return i instanceof Kc&&o instanceof Kc||i instanceof Qc&&o instanceof Qc?Wo(i.elements,o.elements,Lr):i instanceof If&&o instanceof If?Lr(i.Ae,o.Ae):i instanceof xf&&o instanceof xf}(n.transform,e.transform)}class ID{constructor(e,t){this.version=e,this.transformResults=t}}class er{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new er}static exists(e){return new er(void 0,e)}static updateTime(e){return new er(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function lf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class ed{}function f1(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new sy(n.key,er.none()):new su(n.key,n.data,er.none());{const t=n.data,i=wn.empty();let o=new Bt(tn.comparator);for(let c of e.fields)if(!o.has(c)){let h=t.field(c);h===null&&c.length>1&&(c=c.popLast(),h=t.field(c)),h===null?i.delete(c):i.set(c,h),o=o.add(c)}return new Ns(n.key,i,new Ln(o.toArray()),er.none())}}function ND(n,e,t){n instanceof su?function(o,c,h){const d=o.value.clone(),p=mb(o.fieldTransforms,c,h.transformResults);d.setAll(p),c.convertToFoundDocument(h.version,d).setHasCommittedMutations()}(n,e,t):n instanceof Ns?function(o,c,h){if(!lf(o.precondition,c))return void c.convertToUnknownDocument(h.version);const d=mb(o.fieldTransforms,c,h.transformResults),p=c.data;p.setAll(d1(o)),p.setAll(d),c.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(n,e,t):function(o,c,h){c.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function Vc(n,e,t,i){return n instanceof su?function(c,h,d,p){if(!lf(c.precondition,h))return d;const g=c.value.clone(),v=pb(c.fieldTransforms,p,h);return g.setAll(v),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null}(n,e,t,i):n instanceof Ns?function(c,h,d,p){if(!lf(c.precondition,h))return d;const g=pb(c.fieldTransforms,p,h),v=h.data;return v.setAll(d1(c)),v.setAll(g),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),d===null?null:d.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(w=>w.field))}(n,e,t,i):function(c,h,d){return lf(c.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):d}(n,e,t)}function CD(n,e){let t=null;for(const i of n.fieldTransforms){const o=e.data.field(i.field),c=l1(i.transform,o||null);c!=null&&(t===null&&(t=wn.empty()),t.set(i.field,c))}return t||null}function db(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&Wo(i,o,(c,h)=>xD(c,h))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class su extends ed{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ns extends ed{constructor(e,t,i,o,c=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function d1(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function mb(n,e,t){const i=new Map;Xe(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let o=0;o<t.length;o++){const c=n[o],h=c.transform,d=e.data.field(c.field);i.set(c.field,RD(h,d,t[o]))}return i}function pb(n,e,t){const i=new Map;for(const o of n){const c=o.transform,h=t.data.field(o.field);i.set(o.field,AD(c,h,e))}return i}class sy extends ed{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class DD extends ed{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&ND(c,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Vc(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Vc(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=a1();return this.mutations.forEach(o=>{const c=e.get(o.key),h=c.overlayedDocument;let d=this.applyToLocalView(h,c.mutatedFields);d=t.has(o.key)?null:d;const p=f1(h,d);p!==null&&i.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Re.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),je())}isEqual(e){return this.batchId===e.batchId&&Wo(this.mutations,e.mutations,(t,i)=>db(t,i))&&Wo(this.baseMutations,e.baseMutations,(t,i)=>db(t,i))}}class ay{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){Xe(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let o=function(){return ED}();const c=e.mutations;for(let h=0;h<c.length;h++)o=o.insert(c[h].key,i[h].version);return new ay(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let MD=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dt,He;function PD(n){switch(n){case te.OK:return Se(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return Se(15467,{code:n})}}function m1(n){if(n===void 0)return bi("GRPC error has no .code"),te.UNKNOWN;switch(n){case Dt.OK:return te.OK;case Dt.CANCELLED:return te.CANCELLED;case Dt.UNKNOWN:return te.UNKNOWN;case Dt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case Dt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case Dt.INTERNAL:return te.INTERNAL;case Dt.UNAVAILABLE:return te.UNAVAILABLE;case Dt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case Dt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case Dt.NOT_FOUND:return te.NOT_FOUND;case Dt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case Dt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case Dt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case Dt.ABORTED:return te.ABORTED;case Dt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case Dt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case Dt.DATA_LOSS:return te.DATA_LOSS;default:return Se(39323,{code:n})}}(He=Dt||(Dt={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LD=new ps([4294967295,4294967295],0);function gb(n){const e=VD().encode(n),t=new Nw;return t.update(e),new Uint8Array(t.digest())}function yb(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new ps([t,i],0),new ps([o,c],0)]}class oy{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Nc(`Invalid padding: ${t}`);if(i<0)throw new Nc(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Nc(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Nc(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=ps.fromNumber(this.ge)}ye(e,t,i){let o=e.add(t.multiply(ps.fromNumber(i)));return o.compare(LD)===1&&(o=new ps([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=gb(e),[i,o]=yb(t);for(let c=0;c<this.hashCount;c++){const h=this.ye(i,o,c);if(!this.we(h))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),h=new oy(c,o,t);return i.forEach(d=>h.insert(d)),h}insert(e){if(this.ge===0)return;const t=gb(e),[i,o]=yb(t);for(let c=0;c<this.hashCount;c++){const h=this.ye(i,o,c);this.Se(h)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Nc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(e,t,i,o,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,au.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new td(Re.min(),o,new mt(Ue),Ti(),je())}}class au{constructor(e,t,i,o,c){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new au(i,t,je(),je(),je())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(e,t,i,o){this.be=e,this.removedTargetIds=t,this.key=i,this.De=o}}class p1{constructor(e,t){this.targetId=e,this.Ce=t}}class g1{constructor(e,t,i=rn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class vb{constructor(){this.ve=0,this.Fe=_b(),this.Me=rn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=je(),t=je(),i=je();return this.Fe.forEach((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:Se(38017,{changeType:c})}}),new au(this.Me,this.xe,e,t,i)}qe(){this.Oe=!1,this.Fe=_b()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Xe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class UD{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ti(),this.Je=qh(),this.He=qh(),this.Ye=new mt(Ue)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const i=this.nt(t);switch(e.state){case 0:this.rt(t)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),i.Le(e.resumeToken));break;default:Se(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((i,o)=>{this.rt(o)&&t(o)})}st(e){const t=e.targetId,i=e.Ce.count,o=this.ot(t);if(o){const c=o.target;if(mg(c))if(i===0){const h=new _e(c.path);this.et(t,h,un.newNoDocument(h,Re.min()))}else Xe(i===1,20013,{expectedCount:i});else{const h=this._t(t);if(h!==i){const d=this.ut(e),p=d?this.ct(d,e,h):1;if(p!==0){this.it(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,g)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:c=0}=t;let h,d;try{h=Es(i).toUint8Array()}catch(p){if(p instanceof Bw)return Xo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new oy(h,o,c)}catch(p){return Xo(p instanceof Nc?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.ge===0?null:d}ct(e,t,i){return t.Ce.count===i-this.Pt(e,t.targetId)?0:2}Pt(e,t){const i=this.Ge.getRemoteKeysForTarget(t);let o=0;return i.forEach(c=>{const h=this.Ge.ht(),d=`projects/${h.projectId}/databases/${h.database}/documents/${c.path.canonicalString()}`;e.mightContain(d)||(this.et(t,c,null),o++)}),o}Tt(e){const t=new Map;this.ze.forEach((c,h)=>{const d=this.ot(h);if(d){if(c.current&&mg(d.target)){const p=new _e(d.target.path);this.It(p).has(h)||this.Et(h,p)||this.et(h,p,un.newNoDocument(p,e))}c.Be&&(t.set(h,c.ke()),c.qe())}});let i=je();this.He.forEach((c,h)=>{let d=!0;h.forEachWhile(p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(i=i.add(c))}),this.je.forEach((c,h)=>h.setReadTime(e));const o=new td(e,t,this.Ye,this.je,i);return this.je=Ti(),this.Je=qh(),this.He=qh(),this.Ye=new mt(Ue),o}Xe(e,t){if(!this.rt(e))return;const i=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,i),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,i){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),i&&(this.je=this.je.insert(t,i))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new vb,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Bt(Ue),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Bt(Ue),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||de("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new vb),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function qh(){return new mt(_e.comparator)}function _b(){return new mt(_e.comparator)}const jD={asc:"ASCENDING",desc:"DESCENDING"},zD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},BD={and:"AND",or:"OR"};class qD{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function yg(n,e){return n.useProto3Json||Qf(e)?e:{value:e}}function Nf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function y1(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function FD(n,e){return Nf(n,e.toTimestamp())}function kr(n){return Xe(!!n,49232),Re.fromTimestamp(function(t){const i=_s(t);return new Ge(i.seconds,i.nanos)}(n))}function ly(n,e){return vg(n,e).canonicalString()}function vg(n,e){const t=function(o){return new ct(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function v1(n){const e=ct.fromString(n);return Xe(w1(e),10190,{key:e.toString()}),e}function _g(n,e){return ly(n.databaseId,e.path)}function Dp(n,e){const t=v1(e);if(t.get(1)!==n.databaseId.projectId)throw new fe(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new fe(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new _e(E1(t))}function _1(n,e){return ly(n.databaseId,e)}function HD(n){const e=v1(n);return e.length===4?ct.emptyPath():E1(e)}function Eg(n){return new ct(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function E1(n){return Xe(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Eb(n,e,t){return{name:_g(n,e),fields:t.value.mapValue.fields}}function GD(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Se(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=function(g,v){return g.useProto3Json?(Xe(v===void 0||typeof v=="string",58123),rn.fromBase64String(v||"")):(Xe(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),rn.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),h=e.targetChange.cause,d=h&&function(g){const v=g.code===void 0?te.UNKNOWN:m1(g.code);return new fe(v,g.message||"")}(h);t=new g1(i,o,c,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=Dp(n,i.document.name),c=kr(i.document.updateTime),h=i.document.createTime?kr(i.document.createTime):Re.min(),d=new wn({mapValue:{fields:i.document.fields}}),p=un.newFoundDocument(o,c,h,d),g=i.targetIds||[],v=i.removedTargetIds||[];t=new cf(g,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=Dp(n,i.document),c=i.readTime?kr(i.readTime):Re.min(),h=un.newNoDocument(o,c),d=i.removedTargetIds||[];t=new cf([],d,h.key,h)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=Dp(n,i.document),c=i.removedTargetIds||[];t=new cf([],c,o,null)}else{if(!("filter"in e))return Se(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:c}=i,h=new kD(o,c),d=i.targetId;t=new p1(d,h)}}return t}function YD(n,e){let t;if(e instanceof su)t={update:Eb(n,e.key,e.value)};else if(e instanceof sy)t={delete:_g(n,e.key)};else if(e instanceof Ns)t={update:Eb(n,e.key,e.data),updateMask:tO(e.fieldMask)};else{if(!(e instanceof DD))return Se(16599,{Vt:e.type});t={verify:_g(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(c,h){const d=h.transform;if(d instanceof xf)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Kc)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Qc)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof If)return{fieldPath:h.field.canonicalString(),increment:d.Ae};throw Se(20930,{transform:h.transform})}(0,i))),e.precondition.isNone||(t.currentDocument=function(o,c){return c.updateTime!==void 0?{updateTime:FD(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Se(27497)}(n,e.precondition)),t}function KD(n,e){return n&&n.length>0?(Xe(e!==void 0,14353),n.map(t=>function(o,c){let h=o.updateTime?kr(o.updateTime):kr(c);return h.isEqual(Re.min())&&(h=kr(c)),new ID(h,o.transformResults||[])}(t,e))):[]}function QD(n,e){return{documents:[_1(n,e.path)]}}function $D(n,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=_1(n,o);const c=function(g){if(g.length!==0)return T1(ur.create(g,"and"))}(e.filters);c&&(t.structuredQuery.where=c);const h=function(g){if(g.length!==0)return g.map(v=>function(T){return{field:jo(T.field),direction:ZD(T.dir)}}(v))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const d=yg(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ft:t,parent:o}}function XD(n){let e=HD(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){Xe(i===1,65062);const v=t.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let c=[];t.where&&(c=function(w){const T=b1(w);return T instanceof ur&&Ww(T)?T.getFilters():[T]}(t.where));let h=[];t.orderBy&&(h=function(w){return w.map(T=>function(L){return new Yc(zo(L.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(L.direction))}(T))}(t.orderBy));let d=null;t.limit&&(d=function(w){let T;return T=typeof w=="object"?w.value:w,Qf(T)?null:T}(t.limit));let p=null;t.startAt&&(p=function(w){const T=!!w.before,C=w.values||[];return new Rf(C,T)}(t.startAt));let g=null;return t.endAt&&(g=function(w){const T=!w.before,C=w.values||[];return new Rf(C,T)}(t.endAt)),pD(e,o,h,c,d,"F",p,g)}function WD(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:o})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function b1(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=zo(t.unaryFilter.field);return Ot.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=zo(t.unaryFilter.field);return Ot.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=zo(t.unaryFilter.field);return Ot.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=zo(t.unaryFilter.field);return Ot.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}}(n):n.fieldFilter!==void 0?function(t){return Ot.create(zo(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return ur.create(t.compositeFilter.filters.map(i=>b1(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Se(1026)}}(t.compositeFilter.op))}(n):Se(30097,{filter:n})}function ZD(n){return jD[n]}function JD(n){return zD[n]}function eO(n){return BD[n]}function jo(n){return{fieldPath:n.canonicalString()}}function zo(n){return tn.fromServerFormat(n.fieldPath)}function T1(n){return n instanceof Ot?function(t){if(t.op==="=="){if(ob(t.value))return{unaryFilter:{field:jo(t.field),op:"IS_NAN"}};if(ab(t.value))return{unaryFilter:{field:jo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(ob(t.value))return{unaryFilter:{field:jo(t.field),op:"IS_NOT_NAN"}};if(ab(t.value))return{unaryFilter:{field:jo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:jo(t.field),op:JD(t.op),value:t.value}}}(n):n instanceof ur?function(t){const i=t.getFilters().map(o=>T1(o));return i.length===1?i[0]:{compositeFilter:{op:eO(t.op),filters:i}}}(n):Se(54877,{filter:n})}function tO(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function w1(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(e,t,i,o,c=Re.min(),h=Re.min(),d=rn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new cs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new cs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new cs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new cs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(e){this.yt=e}}function rO(n){const e=XD({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?gg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(){this.Cn=new sO}addToCollectionParentIndex(e,t){return this.Cn.add(t),re.resolve()}getCollectionParents(e,t){return re.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return re.resolve()}deleteFieldIndex(e,t){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,t){return re.resolve()}getDocumentsMatchingTarget(e,t){return re.resolve(null)}getIndexType(e,t){return re.resolve(0)}getFieldIndexes(e,t){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,t){return re.resolve(vs.min())}getMinOffsetFromCollectionGroup(e,t){return re.resolve(vs.min())}updateCollectionGroup(e,t,i){return re.resolve()}updateIndexEntries(e,t){return re.resolve()}}class sO{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new Bt(ct.comparator),c=!o.has(i);return this.index[t]=o.add(i),c}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new Bt(ct.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},S1=41943040;class bn{static withCacheSize(e){return new bn(e,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bn.DEFAULT_COLLECTION_PERCENTILE=10,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bn.DEFAULT=new bn(S1,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bn.DISABLED=new bn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new el(0)}static cr(){return new el(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb="LruGarbageCollector",aO=1048576;function wb([n,e],[t,i]){const o=Ue(n,t);return o===0?Ue(e,i):o}class oO{constructor(e){this.Ir=e,this.buffer=new Bt(wb),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();wb(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class lO{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){de(Tb,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){sl(t)?de(Tb,"Ignoring IndexedDB error during garbage collection: ",t):await il(t)}await this.Vr(3e5)})}}class cO{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return re.resolve(Kf.ce);const i=new oO(t);return this.mr.forEachTarget(e,o=>i.Ar(o.sequenceNumber)).next(()=>this.mr.pr(e,o=>i.Ar(o))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.mr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(bb)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),bb):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let i,o,c,h,d,p,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,h=Date.now(),this.nthSequenceNumber(e,o))).next(w=>(i=w,d=Date.now(),this.removeTargets(e,i,t))).next(w=>(c=w,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(w=>(g=Date.now(),Lo()<=Le.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-v}ms
	Determined least recently used ${o} in `+(d-h)+`ms
	Removed ${c} targets in `+(p-d)+`ms
	Removed ${w} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:w})))}}function uO(n,e){return new cO(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(){this.changes=new La(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,un.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?re.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(i!==null&&Vc(i.mutation,o,Ln.empty(),Ge.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,je()).next(()=>i))}getLocalViewOfDocuments(e,t,i=je()){const o=_a();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,i).next(c=>{let h=Ic();return c.forEach((d,p)=>{h=h.insert(d,p.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const i=_a();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,je()))}populateOverlays(e,t,i){const o=[];return i.forEach(c=>{t.has(c)||o.push(c)}),this.documentOverlayCache.getOverlays(e,o).next(c=>{c.forEach((h,d)=>{t.set(h,d)})})}computeViews(e,t,i,o){let c=Ti();const h=Pc(),d=function(){return Pc()}();return t.forEach((p,g)=>{const v=i.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof Ns)?c=c.insert(g.key,g):v!==void 0?(h.set(g.key,v.mutation.getFieldMask()),Vc(v.mutation,g,v.mutation.getFieldMask(),Ge.now())):h.set(g.key,Ln.empty())}),this.recalculateAndSaveOverlays(e,c).next(p=>(p.forEach((g,v)=>h.set(g,v)),t.forEach((g,v)=>d.set(g,new fO(v,h.get(g)??null))),d))}recalculateAndSaveOverlays(e,t){const i=Pc();let o=new mt((h,d)=>h-d),c=je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const d of h)d.keys().forEach(p=>{const g=t.get(p);if(g===null)return;let v=i.get(p)||Ln.empty();v=d.applyToLocalView(g,v),i.set(p,v);const w=(o.get(d.batchId)||je()).add(p);o=o.insert(d.batchId,w)})}).next(()=>{const h=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,v=p.value,w=a1();v.forEach(T=>{if(!c.has(T)){const C=f1(t.get(T),i.get(T));C!==null&&w.set(T,C),c=c.add(T)}}),h.push(this.documentOverlayCache.saveOverlays(e,g,w))}return re.waitFor(h)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,o){return function(h){return _e.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):t1(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next(c=>{const h=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-c.size):re.resolve(_a());let d=qc,p=c;return h.next(g=>re.forEach(g,(v,w)=>(d<w.largestBatchId&&(d=w.largestBatchId),c.get(v)?re.resolve():this.remoteDocumentCache.getEntry(e,v).next(T=>{p=p.insert(v,T)}))).next(()=>this.populateOverlays(e,g,c)).next(()=>this.computeViews(e,p,g,je())).next(v=>({batchId:d,changes:s1(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new _e(t)).next(i=>{let o=Ic();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const c=t.collectionGroup;let h=Ic();return this.indexManager.getCollectionParents(e,c).next(d=>re.forEach(d,p=>{const g=function(w,T){return new al(T,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(t,p.child(c));return this.getDocumentsMatchingCollectionQuery(e,g,i,o).next(v=>{v.forEach((w,T)=>{h=h.insert(w,T)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,i,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(h=>(c=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,c,o))).next(h=>{c.forEach((p,g)=>{const v=g.getKey();h.get(v)===null&&(h=h.insert(v,un.newInvalidDocument(v)))});let d=Ic();return h.forEach((p,g)=>{const v=c.get(p);v!==void 0&&Vc(v.mutation,g,Ln.empty(),Ge.now()),Zf(t,g)&&(d=d.insert(p,g))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return re.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:kr(o.createTime)}}(t)),re.resolve()}getNamedQuery(e,t){return re.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(o){return{name:o.name,query:rO(o.bundledQuery),readTime:kr(o.readTime)}}(t)),re.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(){this.overlays=new mt(_e.comparator),this.qr=new Map}getOverlay(e,t){return re.resolve(this.overlays.get(t))}getOverlays(e,t){const i=_a();return re.forEach(t,o=>this.getOverlay(e,o).next(c=>{c!==null&&i.set(o,c)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((o,c)=>{this.St(e,t,c)}),re.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.qr.get(i);return o!==void 0&&(o.forEach(c=>this.overlays=this.overlays.remove(c)),this.qr.delete(i)),re.resolve()}getOverlaysForCollection(e,t,i){const o=_a(),c=t.length+1,h=new _e(t.child("")),d=this.overlays.getIteratorFrom(h);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===c&&p.largestBatchId>i&&o.set(p.getKey(),p)}return re.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let c=new mt((g,v)=>g-v);const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>i){let v=c.get(g.largestBatchId);v===null&&(v=_a(),c=c.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const d=_a(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,v)=>d.set(g,v)),!(d.size()>=o)););return re.resolve(d)}St(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(i.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(i.key,new MD(t,i));let c=this.qr.get(t);c===void 0&&(c=je(),this.qr.set(t,c)),this.qr.set(t,c.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(){this.sessionToken=rn.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,re.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy{constructor(){this.Qr=new Bt(Kt.$r),this.Ur=new Bt(Kt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const i=new Kt(e,t);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.Gr(new Kt(e,t))}zr(e,t){e.forEach(i=>this.removeReference(i,t))}jr(e){const t=new _e(new ct([])),i=new Kt(t,e),o=new Kt(t,e+1),c=[];return this.Ur.forEachInRange([i,o],h=>{this.Gr(h),c.push(h.key)}),c}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new _e(new ct([])),i=new Kt(t,e),o=new Kt(t,e+1);let c=je();return this.Ur.forEachInRange([i,o],h=>{c=c.add(h.key)}),c}containsKey(e){const t=new Kt(e,0),i=this.Qr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Kt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return _e.comparator(e.key,t.key)||Ue(e.Yr,t.Yr)}static Kr(e,t){return Ue(e.Yr,t.Yr)||_e.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Bt(Kt.$r)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new OD(c,t,i,o);this.mutationQueue.push(h);for(const d of o)this.Zr=this.Zr.add(new Kt(d.key,c)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return re.resolve(h)}lookupMutationBatch(e,t){return re.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.ei(i),c=o<0?0:o;return re.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?Jg:this.tr-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Kt(t,0),o=new Kt(t,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([i,o],h=>{const d=this.Xr(h.Yr);c.push(d)}),re.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Bt(Ue);return t.forEach(o=>{const c=new Kt(o,0),h=new Kt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,h],d=>{i=i.add(d.Yr)})}),re.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let c=i;_e.isDocumentKey(c)||(c=c.child(""));const h=new Kt(new _e(c),0);let d=new Bt(Ue);return this.Zr.forEachWhile(p=>{const g=p.key.path;return!!i.isPrefixOf(g)&&(g.length===o&&(d=d.add(p.Yr)),!0)},h),re.resolve(this.ti(d))}ti(e){const t=[];return e.forEach(i=>{const o=this.Xr(i);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){Xe(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return re.forEach(t.mutations,o=>{const c=new Kt(o.key,t.batchId);return i=i.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Zr=i})}ir(e){}containsKey(e,t){const i=new Kt(t,0),o=this.Zr.firstAfterOrEqual(i);return re.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(e){this.ri=e,this.docs=function(){return new mt(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),c=o?o.size:0,h=this.ri(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:h}),this.size+=h-c,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return re.resolve(i?i.document.mutableCopy():un.newInvalidDocument(t))}getEntries(e,t){let i=Ti();return t.forEach(o=>{const c=this.docs.get(o);i=i.insert(o,c?c.document.mutableCopy():un.newInvalidDocument(o))}),re.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let c=Ti();const h=t.path,d=new _e(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||K2(Y2(v),i)<=0||(o.has(v.key)||Zf(t,v))&&(c=c.insert(v.key,v.mutableCopy()))}return re.resolve(c)}getAllFromCollectionGroup(e,t,i,o){Se(9500)}ii(e,t){return re.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new _O(this)}getSize(e){return re.resolve(this.size)}}class _O extends hO{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(i)}),re.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{constructor(e){this.persistence=e,this.si=new La(t=>ny(t),ry),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.oi=0,this._i=new cy,this.targetCount=0,this.ai=el.ur()}forEachTarget(e,t){return this.si.forEach((i,o)=>t(o)),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.oi&&(this.oi=t),re.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new el(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,re.resolve()}updateTargetData(e,t){return this.Pr(t),re.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,t,i){let o=0;const c=[];return this.si.forEach((h,d)=>{d.sequenceNumber<=t&&i.get(d.targetId)===null&&(this.si.delete(h),c.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),re.waitFor(c).next(()=>o)}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,t){const i=this.si.get(t)||null;return re.resolve(i)}addMatchingKeys(e,t,i){return this._i.Wr(t,i),re.resolve()}removeMatchingKeys(e,t,i){this._i.zr(t,i);const o=this.persistence.referenceDelegate,c=[];return o&&t.forEach(h=>{c.push(o.markPotentiallyOrphaned(e,h))}),re.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),re.resolve()}getMatchingKeysForTargetId(e,t){const i=this._i.Hr(t);return re.resolve(i)}containsKey(e,t){return re.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(e,t){this.ui={},this.overlays={},this.ci=new Kf(0),this.li=!1,this.li=!0,this.hi=new gO,this.referenceDelegate=e(this),this.Pi=new EO(this),this.indexManager=new iO,this.remoteDocumentCache=function(o){return new vO(o)}(i=>this.referenceDelegate.Ti(i)),this.serializer=new nO(t),this.Ii=new mO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new pO,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ui[e.toKey()];return i||(i=new yO(t,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,i){de("MemoryPersistence","Starting transaction:",e);const o=new bO(this.ci.next());return this.referenceDelegate.Ei(),i(o).next(c=>this.referenceDelegate.di(o).next(()=>c)).toPromise().then(c=>(o.raiseOnCommittedEvent(),c))}Ai(e,t){return re.or(Object.values(this.ui).map(i=>()=>i.containsKey(e,t)))}}class bO extends $2{constructor(e){super(),this.currentSequenceNumber=e}}class uy{constructor(e){this.persistence=e,this.Ri=new cy,this.Vi=null}static mi(e){return new uy(e)}get fi(){if(this.Vi)return this.Vi;throw Se(60996)}addReference(e,t,i){return this.Ri.addReference(i,t),this.fi.delete(i.toString()),re.resolve()}removeReference(e,t,i){return this.Ri.removeReference(i,t),this.fi.add(i.toString()),re.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),re.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(o=>this.fi.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(c=>this.fi.add(c.toString()))}).next(()=>i.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.fi,i=>{const o=_e.fromPath(i);return this.gi(e,o).next(c=>{c||t.removeEntry(o,Re.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(i=>{i?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return re.or([()=>re.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Cf{constructor(e,t){this.persistence=e,this.pi=new La(i=>Z2(i.path),(i,o)=>i.isEqual(o)),this.garbageCollector=uO(this,t)}static mi(e,t){return new Cf(e,t)}Ei(){}di(e){return re.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(o=>i+o))}wr(e){let t=0;return this.pr(e,i=>{t++}).next(()=>t)}pr(e,t){return re.forEach(this.pi,(i,o)=>this.br(e,i,o).next(c=>c?re.resolve():t(o)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,h=>this.br(e,h,t).next(d=>{d||(i++,c.removeEntry(h,Re.min()))})).next(()=>c.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),re.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),re.resolve()}removeReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),re.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),re.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=af(e.data.value)),t}br(e,t,i){return re.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return re.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.Es=i,this.ds=o}static As(e,t){let i=je(),o=je();for(const c of t.docChanges)switch(c.type){case 0:i=i.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new hy(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return Jx()?8:X2(hn())>0?6:4}()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,i,o){const c={result:null};return this.ys(e,t).next(h=>{c.result=h}).next(()=>{if(!c.result)return this.ws(e,t,o,i).next(h=>{c.result=h})}).next(()=>{if(c.result)return;const h=new TO;return this.Ss(e,t,h).next(d=>{if(c.result=d,this.Vs)return this.bs(e,t,h,d.size)})}).next(()=>c.result)}bs(e,t,i,o){return i.documentReadCount<this.fs?(Lo()<=Le.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",Uo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),re.resolve()):(Lo()<=Le.DEBUG&&de("QueryEngine","Query:",Uo(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.gs*o?(Lo()<=Le.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",Uo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Mr(t))):re.resolve())}ys(e,t){if(hb(t))return re.resolve(null);let i=Mr(t);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=gg(t,null,"F"),i=Mr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(c=>{const h=je(...c);return this.ps.getDocuments(e,h).next(d=>this.indexManager.getMinOffset(e,i).next(p=>{const g=this.Ds(t,d);return this.Cs(t,g,h,p.readTime)?this.ys(e,gg(t,null,"F")):this.vs(e,g,t,p)}))})))}ws(e,t,i,o){return hb(t)||o.isEqual(Re.min())?re.resolve(null):this.ps.getDocuments(e,i).next(c=>{const h=this.Ds(t,c);return this.Cs(t,h,i,o)?re.resolve(null):(Lo()<=Le.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Uo(t)),this.vs(e,h,t,G2(o,qc)).next(d=>d))})}Ds(e,t){let i=new Bt(r1(e));return t.forEach((o,c)=>{Zf(e,c)&&(i=i.add(c))}),i}Cs(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const c=e.limitType==="F"?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,t,i){return Lo()<=Le.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",Uo(t)),this.ps.getDocumentsMatchingQuery(e,t,vs.min(),i)}vs(e,t,i,o){return this.ps.getDocumentsMatchingQuery(e,i,o).next(c=>(t.forEach(h=>{c=c.insert(h.key,h)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fy="LocalStore",SO=3e8;class AO{constructor(e,t,i,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new mt(Ue),this.xs=new La(c=>ny(c),ry),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new dO(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function RO(n,e,t,i){return new AO(n,e,t,i)}async function R1(n,e){const t=xe(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next(c=>(o=c,t.Bs(e),t.mutationQueue.getAllMutationBatches(i))).next(c=>{const h=[],d=[];let p=je();for(const g of o){h.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of c){d.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return t.localDocuments.getDocuments(i,p).next(g=>({Ls:g,removedBatchIds:h,addedBatchIds:d}))})})}function xO(n,e){const t=xe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=e.batch.keys(),c=t.Ns.newChangeBuffer({trackRemovals:!0});return function(d,p,g,v){const w=g.batch,T=w.keys();let C=re.resolve();return T.forEach(L=>{C=C.next(()=>v.getEntry(p,L)).next(I=>{const x=g.docVersions.get(L);Xe(x!==null,48541),I.version.compareTo(x)<0&&(w.applyToRemoteDocument(I,g),I.isValidDocument()&&(I.setReadTime(g.commitVersion),v.addEntry(I)))})}),C.next(()=>d.mutationQueue.removeMutationBatch(p,w))}(t,i,e,c).next(()=>c.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(d){let p=je();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(p=p.add(d.batch.mutations[g].key));return p}(e))).next(()=>t.localDocuments.getDocuments(i,o))})}function x1(n){const e=xe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Pi.getLastRemoteSnapshotVersion(t))}function IO(n,e){const t=xe(n),i=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const h=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const d=[];e.targetChanges.forEach((v,w)=>{const T=o.get(w);if(!T)return;d.push(t.Pi.removeMatchingKeys(c,v.removedDocuments,w).next(()=>t.Pi.addMatchingKeys(c,v.addedDocuments,w)));let C=T.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(w)!==null?C=C.withResumeToken(rn.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):v.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(v.resumeToken,i)),o=o.insert(w,C),function(I,x,B){return I.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=SO?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0}(T,C,v)&&d.push(t.Pi.updateTargetData(c,C))});let p=Ti(),g=je();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(c,v))}),d.push(NO(c,h,e.documentUpdates).next(v=>{p=v.ks,g=v.qs})),!i.isEqual(Re.min())){const v=t.Pi.getLastRemoteSnapshotVersion(c).next(w=>t.Pi.setTargetsMetadata(c,c.currentSequenceNumber,i));d.push(v)}return re.waitFor(d).next(()=>h.apply(c)).next(()=>t.localDocuments.getLocalViewOfDocuments(c,p,g)).next(()=>p)}).then(c=>(t.Ms=o,c))}function NO(n,e,t){let i=je(),o=je();return t.forEach(c=>i=i.add(c)),e.getEntries(n,i).next(c=>{let h=Ti();return t.forEach((d,p)=>{const g=c.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(Re.min())?(e.removeEntry(d,p.readTime),h=h.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(d,p)):de(fy,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)}),{ks:h,qs:o}})}function CO(n,e){const t=xe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=Jg),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function DO(n,e){const t=xe(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return t.Pi.getTargetData(i,e).next(c=>c?(o=c,re.resolve(o)):t.Pi.allocateTargetId(i).next(h=>(o=new cs(e,h,"TargetPurposeListen",i.currentSequenceNumber),t.Pi.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=t.Ms.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(i.targetId,i),t.xs.set(e,i.targetId)),i})}async function bg(n,e,t){const i=xe(n),o=i.Ms.get(e),c=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",c,h=>i.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!sl(h))throw h;de(fy,`Failed to update sequence numbers for target ${e}: ${h}`)}i.Ms=i.Ms.remove(e),i.xs.delete(o.target)}function Sb(n,e,t){const i=xe(n);let o=Re.min(),c=je();return i.persistence.runTransaction("Execute query","readwrite",h=>function(p,g,v){const w=xe(p),T=w.xs.get(v);return T!==void 0?re.resolve(w.Ms.get(T)):w.Pi.getTargetData(g,v)}(i,h,Mr(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(h,d.targetId).next(p=>{c=p})}).next(()=>i.Fs.getDocumentsMatchingQuery(h,e,t?o:Re.min(),t?c:je())).next(d=>(OO(i,yD(e),d),{documents:d,Qs:c})))}function OO(n,e,t){let i=n.Os.get(e)||Re.min();t.forEach((o,c)=>{c.readTime.compareTo(i)>0&&(i=c.readTime)}),n.Os.set(e,i)}class Ab{constructor(){this.activeTargetIds=wD()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class MO{constructor(){this.Mo=new Ab,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,i){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Ab,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb="ConnectivityMonitor";class xb{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){de(Rb,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){de(Rb,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fh=null;function Tg(){return Fh===null?Fh=function(){return 268435456+Math.round(2147483648*Math.random())}():Fh++,"0x"+Fh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Op="RestConnection",PO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class VO{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${i}/databases/${o}`,this.Wo=this.databaseId.database===Sf?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Go(e,t,i,o,c){const h=Tg(),d=this.zo(e,t.toUriEncodedString());de(Op,`Sending RPC '${e}' ${h}:`,d,i);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,c);const{host:g}=new URL(d),v=As(g);return this.Jo(e,d,p,i,v).then(w=>(de(Op,`Received RPC '${e}' ${h}: `,w),w),w=>{throw Xo(Op,`RPC '${e}' ${h} failed with error: `,w,"url: ",d,"request:",i),w})}Ho(e,t,i,o,c,h){return this.Go(e,t,i,o,c)}jo(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+rl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,c)=>e[c]=o),i&&i.headers.forEach((o,c)=>e[c]=o)}zo(e,t){const i=PO[e];return`${this.Uo}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ln="WebChannelConnection";class UO extends VO{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,i,o,c){const h=Tg();return new Promise((d,p)=>{const g=new Cw;g.setWithCredentials(!0),g.listenOnce(Dw.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case sf.NO_ERROR:const w=g.getResponseJson();de(ln,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(w)),d(w);break;case sf.TIMEOUT:de(ln,`RPC '${e}' ${h} timed out`),p(new fe(te.DEADLINE_EXCEEDED,"Request time out"));break;case sf.HTTP_ERROR:const T=g.getStatus();if(de(ln,`RPC '${e}' ${h} failed with status:`,T,"response text:",g.getResponseText()),T>0){let C=g.getResponseJson();Array.isArray(C)&&(C=C[0]);const L=C==null?void 0:C.error;if(L&&L.status&&L.message){const I=function(B){const X=B.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(X)>=0?X:te.UNKNOWN}(L.status);p(new fe(I,L.message))}else p(new fe(te.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new fe(te.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{l_:e,streamId:h,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{de(ln,`RPC '${e}' ${h} completed.`)}});const v=JSON.stringify(o);de(ln,`RPC '${e}' ${h} sending request:`,o),g.send(t,"POST",v,i,15)})}T_(e,t,i){const o=Tg(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=kw(),d=Mw(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const v=c.join("");de(ln,`Creating RPC '${e}' stream ${o}: ${v}`,p);const w=h.createWebChannel(v,p);this.I_(w);let T=!1,C=!1;const L=new LO({Yo:x=>{C?de(ln,`Not sending because RPC '${e}' stream ${o} is closed:`,x):(T||(de(ln,`Opening RPC '${e}' stream ${o} transport.`),w.open(),T=!0),de(ln,`RPC '${e}' stream ${o} sending:`,x),w.send(x))},Zo:()=>w.close()}),I=(x,B,X)=>{x.listen(B,W=>{try{X(W)}catch(J){setTimeout(()=>{throw J},0)}})};return I(w,xc.EventType.OPEN,()=>{C||(de(ln,`RPC '${e}' stream ${o} transport opened.`),L.o_())}),I(w,xc.EventType.CLOSE,()=>{C||(C=!0,de(ln,`RPC '${e}' stream ${o} transport closed`),L.a_(),this.E_(w))}),I(w,xc.EventType.ERROR,x=>{C||(C=!0,Xo(ln,`RPC '${e}' stream ${o} transport errored. Name:`,x.name,"Message:",x.message),L.a_(new fe(te.UNAVAILABLE,"The operation could not be completed")))}),I(w,xc.EventType.MESSAGE,x=>{var B;if(!C){const X=x.data[0];Xe(!!X,16349);const W=X,J=(W==null?void 0:W.error)||((B=W[0])==null?void 0:B.error);if(J){de(ln,`RPC '${e}' stream ${o} received error:`,J);const oe=J.status;let he=function(D){const k=Dt[D];if(k!==void 0)return m1(k)}(oe),M=J.message;he===void 0&&(he=te.INTERNAL,M="Unknown error status: "+oe+" with message "+J.message),C=!0,L.a_(new fe(he,M)),w.close()}else de(ln,`RPC '${e}' stream ${o} received:`,X),L.u_(X)}}),I(d,Ow.STAT_EVENT,x=>{x.stat===cg.PROXY?de(ln,`RPC '${e}' stream ${o} detected buffering proxy`):x.stat===cg.NOPROXY&&de(ln,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{L.__()},0),L}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function Mp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nd(n){return new qD(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(e,t,i=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=t,this.d_=i,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-i);o>0&&de("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ib="PersistentStream";class N1{constructor(e,t,i,o,c,h,d,p){this.Mi=e,this.S_=i,this.b_=o,this.connection=c,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new I1(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===te.RESOURCE_EXHAUSTED?(bi(t.toString()),bi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.D_===t&&this.G_(i,o)},i=>{e(()=>{const o=new fe(te.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(o)})})}G_(e,t){const i=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{i(()=>this.listener.Xo())}),this.stream.t_(()=>{i(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{i(()=>this.z_(o))}),this.stream.onMessage(o=>{i(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return de(Ib,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(de(Ib,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class jO extends N1{constructor(e,t,i,o,c,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,h),this.serializer=c}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=GD(this.serializer,e),i=function(c){if(!("targetChange"in c))return Re.min();const h=c.targetChange;return h.targetIds&&h.targetIds.length?Re.min():h.readTime?kr(h.readTime):Re.min()}(e);return this.listener.H_(t,i)}Y_(e){const t={};t.database=Eg(this.serializer),t.addTarget=function(c,h){let d;const p=h.target;if(d=mg(p)?{documents:QD(c,p)}:{query:$D(c,p).ft},d.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){d.resumeToken=y1(c,h.resumeToken);const g=yg(c,h.expectedCount);g!==null&&(d.expectedCount=g)}else if(h.snapshotVersion.compareTo(Re.min())>0){d.readTime=Nf(c,h.snapshotVersion.toTimestamp());const g=yg(c,h.expectedCount);g!==null&&(d.expectedCount=g)}return d}(this.serializer,e);const i=WD(this.serializer,e);i&&(t.labels=i),this.q_(t)}Z_(e){const t={};t.database=Eg(this.serializer),t.removeTarget=e,this.q_(t)}}class zO extends N1{constructor(e,t,i,o,c,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,h),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Xe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Xe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Xe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=KD(e.writeResults,e.commitTime),i=kr(e.commitTime);return this.listener.na(i,t)}ra(){const e={};e.database=Eg(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>YD(this.serializer,i))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{}class qO extends BO{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new fe(te.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,h])=>this.connection.Go(e,vg(t,i),o,c,h)).catch(c=>{throw c.name==="FirebaseError"?(c.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new fe(te.UNKNOWN,c.toString())})}Ho(e,t,i,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.Ho(e,vg(t,i),o,h,d,c)).catch(h=>{throw h.name==="FirebaseError"?(h.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new fe(te.UNKNOWN,h.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class FO{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(bi(t),this.aa=!1):de("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Na="RemoteStore";class HO{constructor(e,t,i,o,c){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo(h=>{i.enqueueAndForget(async()=>{Ua(this)&&(de(Na,"Restarting streams for network reachability change."),await async function(p){const g=xe(p);g.Ea.add(4),await ou(g),g.Ra.set("Unknown"),g.Ea.delete(4),await rd(g)}(this))})}),this.Ra=new FO(i,o)}}async function rd(n){if(Ua(n))for(const e of n.da)await e(!0)}async function ou(n){for(const e of n.da)await e(!1)}function C1(n,e){const t=xe(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),gy(t)?py(t):ol(t).O_()&&my(t,e))}function dy(n,e){const t=xe(n),i=ol(t);t.Ia.delete(e),i.O_()&&D1(t,e),t.Ia.size===0&&(i.O_()?i.L_():Ua(t)&&t.Ra.set("Unknown"))}function my(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ol(n).Y_(e)}function D1(n,e){n.Va.Ue(e),ol(n).Z_(e)}function py(n){n.Va=new UD({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),ol(n).start(),n.Ra.ua()}function gy(n){return Ua(n)&&!ol(n).x_()&&n.Ia.size>0}function Ua(n){return xe(n).Ea.size===0}function O1(n){n.Va=void 0}async function GO(n){n.Ra.set("Online")}async function YO(n){n.Ia.forEach((e,t)=>{my(n,e)})}async function KO(n,e){O1(n),gy(n)?(n.Ra.ha(e),py(n)):n.Ra.set("Unknown")}async function QO(n,e,t){if(n.Ra.set("Online"),e instanceof g1&&e.state===2&&e.cause)try{await async function(o,c){const h=c.cause;for(const d of c.targetIds)o.Ia.has(d)&&(await o.remoteSyncer.rejectListen(d,h),o.Ia.delete(d),o.Va.removeTarget(d))}(n,e)}catch(i){de(Na,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Df(n,i)}else if(e instanceof cf?n.Va.Ze(e):e instanceof p1?n.Va.st(e):n.Va.tt(e),!t.isEqual(Re.min()))try{const i=await x1(n.localStore);t.compareTo(i)>=0&&await function(c,h){const d=c.Va.Tt(h);return d.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=c.Ia.get(g);v&&c.Ia.set(g,v.withResumeToken(p.resumeToken,h))}}),d.targetMismatches.forEach((p,g)=>{const v=c.Ia.get(p);if(!v)return;c.Ia.set(p,v.withResumeToken(rn.EMPTY_BYTE_STRING,v.snapshotVersion)),D1(c,p);const w=new cs(v.target,p,g,v.sequenceNumber);my(c,w)}),c.remoteSyncer.applyRemoteEvent(d)}(n,t)}catch(i){de(Na,"Failed to raise snapshot:",i),await Df(n,i)}}async function Df(n,e,t){if(!sl(e))throw e;n.Ea.add(1),await ou(n),n.Ra.set("Offline"),t||(t=()=>x1(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{de(Na,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await rd(n)})}function M1(n,e){return e().catch(t=>Df(n,t,e))}async function id(n){const e=xe(n),t=Ts(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Jg;for(;$O(e);)try{const o=await CO(e.localStore,i);if(o===null){e.Ta.length===0&&t.L_();break}i=o.batchId,XO(e,o)}catch(o){await Df(e,o)}k1(e)&&P1(e)}function $O(n){return Ua(n)&&n.Ta.length<10}function XO(n,e){n.Ta.push(e);const t=Ts(n);t.O_()&&t.X_&&t.ea(e.mutations)}function k1(n){return Ua(n)&&!Ts(n).x_()&&n.Ta.length>0}function P1(n){Ts(n).start()}async function WO(n){Ts(n).ra()}async function ZO(n){const e=Ts(n);for(const t of n.Ta)e.ea(t.mutations)}async function JO(n,e,t){const i=n.Ta.shift(),o=ay.from(i,e,t);await M1(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await id(n)}async function eM(n,e){e&&Ts(n).X_&&await async function(i,o){if(function(h){return PD(h)&&h!==te.ABORTED}(o.code)){const c=i.Ta.shift();Ts(i).B_(),await M1(i,()=>i.remoteSyncer.rejectFailedWrite(c.batchId,o)),await id(i)}}(n,e),k1(n)&&P1(n)}async function Nb(n,e){const t=xe(n);t.asyncQueue.verifyOperationInProgress(),de(Na,"RemoteStore received new credentials");const i=Ua(t);t.Ea.add(3),await ou(t),i&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await rd(t)}async function tM(n,e){const t=xe(n);e?(t.Ea.delete(2),await rd(t)):e||(t.Ea.add(2),await ou(t),t.Ra.set("Unknown"))}function ol(n){return n.ma||(n.ma=function(t,i,o){const c=xe(t);return c.sa(),new jO(i,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(n.datastore,n.asyncQueue,{Xo:GO.bind(null,n),t_:YO.bind(null,n),r_:KO.bind(null,n),H_:QO.bind(null,n)}),n.da.push(async e=>{e?(n.ma.B_(),gy(n)?py(n):n.Ra.set("Unknown")):(await n.ma.stop(),O1(n))})),n.ma}function Ts(n){return n.fa||(n.fa=function(t,i,o){const c=xe(t);return c.sa(),new zO(i,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:WO.bind(null,n),r_:eM.bind(null,n),ta:ZO.bind(null,n),na:JO.bind(null,n)}),n.da.push(async e=>{e?(n.fa.B_(),await id(n)):(await n.fa.stop(),n.Ta.length>0&&(de(Na,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))})),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(e,t,i,o,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=c,this.deferred=new yi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,c){const h=Date.now()+i,d=new yy(e,t,h,o,c);return d.start(i),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vy(n,e){if(bi("AsyncQueue",`${e}: ${n}`),sl(n))return new fe(te.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{static emptySet(e){return new Yo(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||_e.comparator(t.key,i.key):(t,i)=>_e.comparator(t.key,i.key),this.keyedMap=Ic(),this.sortedSet=new mt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Yo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,c=i.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Yo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(){this.ga=new mt(_e.comparator)}track(e){const t=e.doc.key,i=this.ga.get(t);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(t,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(t):e.type===1&&i.type===2?this.ga=this.ga.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Se(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,i)=>{e.push(i)}),e}}class tl{constructor(e,t,i,o,c,h,d,p,g){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=c,this.fromCache=h,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,i,o,c){const h=[];return t.forEach(d=>{h.push({type:0,doc:d})}),new tl(e,t,Yo.emptySet(t),h,i,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class rM{constructor(){this.queries=Db(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const o=xe(t),c=o.queries;o.queries=Db(),c.forEach((h,d)=>{for(const p of d.Sa)p.onError(i)})})(this,new fe(te.ABORTED,"Firestore shutting down"))}}function Db(){return new La(n=>n1(n),Wf)}async function _y(n,e){const t=xe(n);let i=3;const o=e.query;let c=t.queries.get(o);c?!c.ba()&&e.Da()&&(i=2):(c=new nM,i=e.Da()?0:1);try{switch(i){case 0:c.wa=await t.onListen(o,!0);break;case 1:c.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const d=vy(h,`Initialization of query '${Uo(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,c),c.Sa.push(e),e.va(t.onlineState),c.wa&&e.Fa(c.wa)&&by(t)}async function Ey(n,e){const t=xe(n),i=e.query;let o=3;const c=t.queries.get(i);if(c){const h=c.Sa.indexOf(e);h>=0&&(c.Sa.splice(h,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function iM(n,e){const t=xe(n);let i=!1;for(const o of e){const c=o.query,h=t.queries.get(c);if(h){for(const d of h.Sa)d.Fa(o)&&(i=!0);h.wa=o}}i&&by(t)}function sM(n,e,t){const i=xe(n),o=i.queries.get(e);if(o)for(const c of o.Sa)c.onError(t);i.queries.delete(e)}function by(n){n.Ca.forEach(e=>{e.next()})}var wg,Ob;(Ob=wg||(wg={})).Ma="default",Ob.Cache="cache";class Ty{constructor(e,t,i){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new tl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const i=t!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=tl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==wg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(e){this.key=e}}class L1{constructor(e){this.key=e}}class aM{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=je(),this.mutatedKeys=je(),this.eu=r1(e),this.tu=new Yo(this.eu)}get nu(){return this.Ya}ru(e,t){const i=t?t.iu:new Cb,o=t?t.tu:this.tu;let c=t?t.mutatedKeys:this.mutatedKeys,h=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((v,w)=>{const T=o.get(v),C=Zf(this.query,w)?w:null,L=!!T&&this.mutatedKeys.has(T.key),I=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let x=!1;T&&C?T.data.isEqual(C.data)?L!==I&&(i.track({type:3,doc:C}),x=!0):this.su(T,C)||(i.track({type:2,doc:C}),x=!0,(p&&this.eu(C,p)>0||g&&this.eu(C,g)<0)&&(d=!0)):!T&&C?(i.track({type:0,doc:C}),x=!0):T&&!C&&(i.track({type:1,doc:T}),x=!0,(p||g)&&(d=!0)),x&&(C?(h=h.add(C),c=I?c.add(v):c.delete(v)):(h=h.delete(v),c=c.delete(v)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const v=this.query.limitType==="F"?h.last():h.first();h=h.delete(v.key),c=c.delete(v.key),i.track({type:1,doc:v})}return{tu:h,iu:i,Cs:d,mutatedKeys:c}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort((v,w)=>function(C,L){const I=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Rt:x})}};return I(C)-I(L)}(v.type,w.type)||this.eu(v.doc,w.doc)),this.ou(i),o=o??!1;const d=t&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,h.length!==0||g?{snapshot:new tl(this.query,e.tu,c,h,e.mutatedKeys,p===0,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Cb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(t=>this.Ya=this.Ya.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ya=this.Ya.delete(t)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=je(),this.tu.forEach(i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))});const t=[];return e.forEach(i=>{this.Xa.has(i)||t.push(new L1(i))}),this.Xa.forEach(i=>{e.has(i)||t.push(new V1(i))}),t}cu(e){this.Ya=e.Qs,this.Xa=je();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return tl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const wy="SyncEngine";class oM{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class lM{constructor(e){this.key=e,this.hu=!1}}class cM{constructor(e,t,i,o,c,h){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new La(d=>n1(d),Wf),this.Iu=new Map,this.Eu=new Set,this.du=new mt(_e.comparator),this.Au=new Map,this.Ru=new cy,this.Vu={},this.mu=new Map,this.fu=el.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function uM(n,e,t=!0){const i=F1(n);let o;const c=i.Tu.get(e);return c?(i.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await U1(i,e,t,!0),o}async function hM(n,e){const t=F1(n);await U1(t,e,!0,!1)}async function U1(n,e,t,i){const o=await DO(n.localStore,Mr(e)),c=o.targetId,h=n.sharedClientState.addLocalQueryTarget(c,t);let d;return i&&(d=await fM(n,e,c,h==="current",o.resumeToken)),n.isPrimaryClient&&t&&C1(n.remoteStore,o),d}async function fM(n,e,t,i,o){n.pu=(w,T,C)=>async function(I,x,B,X){let W=x.view.ru(B);W.Cs&&(W=await Sb(I.localStore,x.query,!1).then(({documents:M})=>x.view.ru(M,W)));const J=X&&X.targetChanges.get(x.targetId),oe=X&&X.targetMismatches.get(x.targetId)!=null,he=x.view.applyChanges(W,I.isPrimaryClient,J,oe);return kb(I,x.targetId,he.au),he.snapshot}(n,w,T,C);const c=await Sb(n.localStore,e,!0),h=new aM(e,c.Qs),d=h.ru(c.documents),p=au.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",o),g=h.applyChanges(d,n.isPrimaryClient,p);kb(n,t,g.au);const v=new oM(e,t,h);return n.Tu.set(e,v),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),g.snapshot}async function dM(n,e,t){const i=xe(n),o=i.Tu.get(e),c=i.Iu.get(o.targetId);if(c.length>1)return i.Iu.set(o.targetId,c.filter(h=>!Wf(h,e))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await bg(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),t&&dy(i.remoteStore,o.targetId),Sg(i,o.targetId)}).catch(il)):(Sg(i,o.targetId),await bg(i.localStore,o.targetId,!0))}async function mM(n,e){const t=xe(n),i=t.Tu.get(e),o=t.Iu.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),dy(t.remoteStore,i.targetId))}async function pM(n,e,t){const i=TM(n);try{const o=await function(h,d){const p=xe(h),g=Ge.now(),v=d.reduce((C,L)=>C.add(L.key),je());let w,T;return p.persistence.runTransaction("Locally write mutations","readwrite",C=>{let L=Ti(),I=je();return p.Ns.getEntries(C,v).next(x=>{L=x,L.forEach((B,X)=>{X.isValidDocument()||(I=I.add(B))})}).next(()=>p.localDocuments.getOverlayedDocuments(C,L)).next(x=>{w=x;const B=[];for(const X of d){const W=CD(X,w.get(X.key).overlayedDocument);W!=null&&B.push(new Ns(X.key,W,Qw(W.value.mapValue),er.exists(!0)))}return p.mutationQueue.addMutationBatch(C,g,B,d)}).next(x=>{T=x;const B=x.applyToLocalDocumentSet(w,I);return p.documentOverlayCache.saveOverlays(C,x.batchId,B)})}).then(()=>({batchId:T.batchId,changes:s1(w)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),function(h,d,p){let g=h.Vu[h.currentUser.toKey()];g||(g=new mt(Ue)),g=g.insert(d,p),h.Vu[h.currentUser.toKey()]=g}(i,o.batchId,t),await lu(i,o.changes),await id(i.remoteStore)}catch(o){const c=vy(o,"Failed to persist write");t.reject(c)}}async function j1(n,e){const t=xe(n);try{const i=await IO(t.localStore,e);e.targetChanges.forEach((o,c)=>{const h=t.Au.get(c);h&&(Xe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?Xe(h.hu,14607):o.removedDocuments.size>0&&(Xe(h.hu,42227),h.hu=!1))}),await lu(t,i,e)}catch(i){await il(i)}}function Mb(n,e,t){const i=xe(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.Tu.forEach((c,h)=>{const d=h.view.va(e);d.snapshot&&o.push(d.snapshot)}),function(h,d){const p=xe(h);p.onlineState=d;let g=!1;p.queries.forEach((v,w)=>{for(const T of w.Sa)T.va(d)&&(g=!0)}),g&&by(p)}(i.eventManager,e),o.length&&i.Pu.H_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function gM(n,e,t){const i=xe(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Au.get(e),c=o&&o.key;if(c){let h=new mt(_e.comparator);h=h.insert(c,un.newNoDocument(c,Re.min()));const d=je().add(c),p=new td(Re.min(),new Map,new mt(Ue),h,d);await j1(i,p),i.du=i.du.remove(c),i.Au.delete(e),Sy(i)}else await bg(i.localStore,e,!1).then(()=>Sg(i,e,t)).catch(il)}async function yM(n,e){const t=xe(n),i=e.batch.batchId;try{const o=await xO(t.localStore,e);B1(t,i,null),z1(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await lu(t,o)}catch(o){await il(o)}}async function vM(n,e,t){const i=xe(n);try{const o=await function(h,d){const p=xe(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let v;return p.mutationQueue.lookupMutationBatch(g,d).next(w=>(Xe(w!==null,37113),v=w.keys(),p.mutationQueue.removeMutationBatch(g,w))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,d)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v)).next(()=>p.localDocuments.getDocuments(g,v))})}(i.localStore,e);B1(i,e,t),z1(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await lu(i,o)}catch(o){await il(o)}}function z1(n,e){(n.mu.get(e)||[]).forEach(t=>{t.resolve()}),n.mu.delete(e)}function B1(n,e,t){const i=xe(n);let o=i.Vu[i.currentUser.toKey()];if(o){const c=o.get(e);c&&(t?c.reject(t):c.resolve(),o=o.remove(e)),i.Vu[i.currentUser.toKey()]=o}}function Sg(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Iu.get(e))n.Tu.delete(i),t&&n.Pu.yu(i,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach(i=>{n.Ru.containsKey(i)||q1(n,i)})}function q1(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(dy(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),Sy(n))}function kb(n,e,t){for(const i of t)i instanceof V1?(n.Ru.addReference(i.key,e),_M(n,i)):i instanceof L1?(de(wy,"Document no longer in limbo: "+i.key),n.Ru.removeReference(i.key,e),n.Ru.containsKey(i.key)||q1(n,i.key)):Se(19791,{wu:i})}function _M(n,e){const t=e.key,i=t.path.canonicalString();n.du.get(t)||n.Eu.has(i)||(de(wy,"New document in limbo: "+t),n.Eu.add(i),Sy(n))}function Sy(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new _e(ct.fromString(e)),i=n.fu.next();n.Au.set(i,new lM(t)),n.du=n.du.insert(t,i),C1(n.remoteStore,new cs(Mr(Xf(t.path)),i,"TargetPurposeLimboResolution",Kf.ce))}}async function lu(n,e,t){const i=xe(n),o=[],c=[],h=[];i.Tu.isEmpty()||(i.Tu.forEach((d,p)=>{h.push(i.pu(p,e,t).then(g=>{var v;if((g||t)&&i.isPrimaryClient){const w=g?!g.fromCache:(v=t==null?void 0:t.targetChanges.get(p.targetId))==null?void 0:v.current;i.sharedClientState.updateQueryState(p.targetId,w?"current":"not-current")}if(g){o.push(g);const w=hy.As(p.targetId,g);c.push(w)}}))}),await Promise.all(h),i.Pu.H_(o),await async function(p,g){const v=xe(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>re.forEach(g,T=>re.forEach(T.Es,C=>v.persistence.referenceDelegate.addReference(w,T.targetId,C)).next(()=>re.forEach(T.ds,C=>v.persistence.referenceDelegate.removeReference(w,T.targetId,C)))))}catch(w){if(!sl(w))throw w;de(fy,"Failed to update sequence numbers: "+w)}for(const w of g){const T=w.targetId;if(!w.fromCache){const C=v.Ms.get(T),L=C.snapshotVersion,I=C.withLastLimboFreeSnapshotVersion(L);v.Ms=v.Ms.insert(T,I)}}}(i.localStore,c))}async function EM(n,e){const t=xe(n);if(!t.currentUser.isEqual(e)){de(wy,"User change. New user:",e.toKey());const i=await R1(t.localStore,e);t.currentUser=e,function(c,h){c.mu.forEach(d=>{d.forEach(p=>{p.reject(new fe(te.CANCELLED,h))})}),c.mu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await lu(t,i.Ls)}}function bM(n,e){const t=xe(n),i=t.Au.get(e);if(i&&i.hu)return je().add(i.key);{let o=je();const c=t.Iu.get(e);if(!c)return o;for(const h of c){const d=t.Tu.get(h);o=o.unionWith(d.view.nu)}return o}}function F1(n){const e=xe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=j1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=bM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=gM.bind(null,e),e.Pu.H_=iM.bind(null,e.eventManager),e.Pu.yu=sM.bind(null,e.eventManager),e}function TM(n){const e=xe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=yM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=vM.bind(null,e),e}class Of{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=nd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return RO(this.persistence,new wO,e.initialUser,this.serializer)}Cu(e){return new A1(uy.mi,this.serializer)}Du(e){return new MO}async terminate(){var e,t;(e=this.gcScheduler)==null||e.stop(),(t=this.indexBackfillerScheduler)==null||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Of.provider={build:()=>new Of};class wM extends Of{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Xe(this.persistence.referenceDelegate instanceof Cf,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new lO(i,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?bn.withCacheSize(this.cacheSizeBytes):bn.DEFAULT;return new A1(i=>Cf.mi(i,t),this.serializer)}}class Ag{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Mb(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=EM.bind(null,this.syncEngine),await tM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new rM}()}createDatastore(e){const t=nd(e.databaseInfo.databaseId),i=function(c){return new UO(c)}(e.databaseInfo);return function(c,h,d,p){return new qO(c,h,d,p)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,o,c,h,d){return new HO(i,o,c,h,d)}(this.localStore,this.datastore,e.asyncQueue,t=>Mb(this.syncEngine,t,0),function(){return xb.v()?new xb:new kO}())}createSyncEngine(e,t){return function(o,c,h,d,p,g,v){const w=new cM(o,c,h,d,p,g);return v&&(w.gu=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const c=xe(o);de(Na,"RemoteStore shutting down."),c.Ea.add(5),await ou(c),c.Aa.shutdown(),c.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(t=this.eventManager)==null||t.terminate()}}Ag.provider={build:()=>new Ag};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):bi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ws="FirestoreClient";class SM{constructor(e,t,i,o,c){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=cn.UNAUTHENTICATED,this.clientId=Zg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(i,async h=>{de(ws,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(i,h=>(de(ws,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new yi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=vy(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function kp(n,e){n.asyncQueue.verifyOperationInProgress(),de(ws,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async o=>{i.isEqual(o)||(await R1(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function Pb(n,e){n.asyncQueue.verifyOperationInProgress();const t=await AM(n);de(ws,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>Nb(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,o)=>Nb(e.remoteStore,o)),n._onlineComponents=e}async function AM(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){de(ws,"Using user provided OfflineComponentProvider");try{await kp(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===te.FAILED_PRECONDITION||o.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;Xo("Error using user provided cache. Falling back to memory cache: "+t),await kp(n,new Of)}}else de(ws,"Using default OfflineComponentProvider"),await kp(n,new wM(void 0));return n._offlineComponents}async function H1(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(de(ws,"Using user provided OnlineComponentProvider"),await Pb(n,n._uninitializedComponentsProvider._online)):(de(ws,"Using default OnlineComponentProvider"),await Pb(n,new Ag))),n._onlineComponents}function RM(n){return H1(n).then(e=>e.syncEngine)}async function Mf(n){const e=await H1(n),t=e.eventManager;return t.onListen=uM.bind(null,e.syncEngine),t.onUnlisten=dM.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=hM.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=mM.bind(null,e.syncEngine),t}function xM(n,e,t={}){const i=new yi;return n.asyncQueue.enqueueAndForget(async()=>function(c,h,d,p,g){const v=new Ay({next:T=>{v.Nu(),h.enqueueAndForget(()=>Ey(c,w));const C=T.docs.has(d);!C&&T.fromCache?g.reject(new fe(te.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&T.fromCache&&p&&p.source==="server"?g.reject(new fe(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(T)},error:T=>g.reject(T)}),w=new Ty(Xf(d.path),v,{includeMetadataChanges:!0,qa:!0});return _y(c,w)}(await Mf(n),n.asyncQueue,e,t,i)),i.promise}function IM(n,e,t={}){const i=new yi;return n.asyncQueue.enqueueAndForget(async()=>function(c,h,d,p,g){const v=new Ay({next:T=>{v.Nu(),h.enqueueAndForget(()=>Ey(c,w)),T.fromCache&&p.source==="server"?g.reject(new fe(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(T)},error:T=>g.reject(T)}),w=new Ty(d,v,{includeMetadataChanges:!0,qa:!0});return _y(c,w)}(await Mf(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G1(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vb=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1="firestore.googleapis.com",Lb=!0;class Ub{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new fe(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Y1,this.ssl=Lb}else this.host=e.host,this.ssl=e.ssl??Lb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=S1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<aO)throw new fe(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}H2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=G1(e.experimentalLongPollingOptions??{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new fe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new fe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new fe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class sd{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ub({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ub(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new k2;switch(i.type){case"firstParty":return new U2(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new fe(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=Vb.get(t);i&&(de("ComponentProvider","Removing Datastore"),Vb.delete(t),i.terminate())}(this),Promise.resolve()}}function NM(n,e,t,i={}){var g;n=An(n,sd);const o=As(e),c=n._getSettings(),h={...c,emulatorOptions:n._getEmulatorOptions()},d=`${e}:${t}`;o&&(Vg(`https://${d}`),Lg("Firestore",!0)),c.host!==Y1&&c.host!==d&&Xo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...c,host:d,ssl:o,emulatorOptions:i};if(!Sa(p,h)&&(n._setSettings(p),i.mockUserToken)){let v,w;if(typeof i.mockUserToken=="string")v=i.mockUserToken,w=cn.MOCK_USER;else{v=HT(i.mockUserToken,(g=n._app)==null?void 0:g.options.projectId);const T=i.mockUserToken.sub||i.mockUserToken.user_id;if(!T)throw new fe(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new cn(T)}n._authCredentials=new P2(new Vw(v,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Cs(this.firestore,e,this._query)}}class vt{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vt(this.firestore,e,this._key)}toJSON(){return{type:vt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(iu(t,vt._jsonSchema))return new vt(e,i||null,new _e(ct.fromString(t.referencePath)))}}vt._jsonSchemaVersion="firestore/documentReference/1.0",vt._jsonSchema={type:Mt("string",vt._jsonSchemaVersion),referencePath:Mt("string")};class gs extends Cs{constructor(e,t,i){super(e,t,Xf(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vt(this.firestore,null,new _e(e))}withConverter(e){return new gs(this.firestore,e,this._path)}}function pi(n,e,...t){if(n=ft(n),Lw("collection","path",e),n instanceof sd){const i=ct.fromString(e,...t);return WE(i),new gs(n,null,i)}{if(!(n instanceof vt||n instanceof gs))throw new fe(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ct.fromString(e,...t));return WE(i),new gs(n.firestore,null,i)}}function Ko(n,e,...t){if(n=ft(n),arguments.length===1&&(e=Zg.newId()),Lw("doc","path",e),n instanceof sd){const i=ct.fromString(e,...t);return XE(i),new vt(n,null,new _e(i))}{if(!(n instanceof vt||n instanceof gs))throw new fe(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ct.fromString(e,...t));return XE(i),new vt(n.firestore,n instanceof gs?n.converter:null,new _e(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jb="AsyncQueue";class zb{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new I1(this,"async_queue_retry"),this._c=()=>{const i=Mp();i&&de(jb,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const t=Mp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Mp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new yi;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!sl(e))throw e;de(jb,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(i=>{throw this.nc=i,this.rc=!1,bi("INTERNAL UNHANDLED ERROR: ",Bb(i)),i}).then(i=>(this.rc=!1,i))));return this.ac=t,t}enqueueAfterDelay(e,t,i){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=yy.createAndSchedule(this,e,t,i,c=>this.hc(c));return this.tc.push(o),o}uc(){this.nc&&Se(47125,{Pc:Bb(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Bb(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qb(n){return function(t,i){if(typeof t!="object"||t===null)return!1;const o=t;for(const c of i)if(c in o&&typeof o[c]=="function")return!0;return!1}(n,["next","error","complete"])}class wi extends sd{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new zb,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new zb(e),this._firestoreClient=void 0,await e}}}function CM(n,e){const t=typeof n=="object"?n:zg(),i=typeof n=="string"?n:Sf,o=qf(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const c=BT("firestore");c&&NM(o,...c)}return o}function ad(n){if(n._terminated)throw new fe(te.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||DM(n),n._firestoreClient}function DM(n){var i,o,c;const e=n._freezeSettings(),t=function(d,p,g,v){return new tD(d,p,g,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,G1(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)}(n._databaseId,((i=n._app)==null?void 0:i.options.appId)||"",n._persistenceKey,e);n._componentsProvider||(o=e.localCache)!=null&&o._offlineComponentProvider&&((c=e.localCache)!=null&&c._onlineComponentProvider)&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new SM(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&function(d){const p=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(p),_online:p}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Jn(rn.fromBase64String(e))}catch(t){throw new fe(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Jn(rn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Jn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(iu(e,Jn._jsonSchema))return Jn.fromBase64String(e.bytes)}}Jn._jsonSchemaVersion="firestore/bytes/1.0",Jn._jsonSchema={type:Mt("string",Jn._jsonSchemaVersion),bytes:Mt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new fe(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new fe(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new fe(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Pr._jsonSchemaVersion}}static fromJSON(e){if(iu(e,Pr._jsonSchema))return new Pr(e.latitude,e.longitude)}}Pr._jsonSchemaVersion="firestore/geoPoint/1.0",Pr._jsonSchema={type:Mt("string",Pr._jsonSchemaVersion),latitude:Mt("number"),longitude:Mt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let c=0;c<i.length;++c)if(i[c]!==o[c])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Vr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(iu(e,Vr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new Vr(e.vectorValues);throw new fe(te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Vr._jsonSchemaVersion="firestore/vectorValue/1.0",Vr._jsonSchema={type:Mt("string",Vr._jsonSchemaVersion),vectorValues:Mt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OM=/^__.*__$/;class MM{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Ns(e,this.data,this.fieldMask,t,this.fieldTransforms):new su(e,this.data,t,this.fieldTransforms)}}class K1{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Ns(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Q1(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{Ac:n})}}class xy{constructor(e,t,i,o,c,h){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new xy({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var o;const t=(o=this.path)==null?void 0:o.child(e),i=this.Vc({path:t,fc:!1});return i.gc(e),i}yc(e){var o;const t=(o=this.path)==null?void 0:o.child(e),i=this.Vc({path:t,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return kf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Q1(this.Ac)&&OM.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class kM{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||nd(e)}Cc(e,t,i,o=!1){return new xy({Ac:e,methodName:t,Dc:i,path:tn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ld(n){const e=n._freezeSettings(),t=nd(n._databaseId);return new kM(n._databaseId,!!e.ignoreUndefinedProperties,t)}function $1(n,e,t,i,o,c={}){const h=n.Cc(c.merge||c.mergeFields?2:0,e,t,o);Iy("Data must be an object, but it was:",h,i);const d=X1(i,h);let p,g;if(c.merge)p=new Ln(h.fieldMask),g=h.fieldTransforms;else if(c.mergeFields){const v=[];for(const w of c.mergeFields){const T=Rg(e,w,t);if(!h.contains(T))throw new fe(te.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);Z1(v,T)||v.push(T)}p=new Ln(v),g=h.fieldTransforms.filter(w=>p.covers(w.field))}else p=null,g=h.fieldTransforms;return new MM(new wn(d),p,g)}class cd extends Ry{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof cd}}function PM(n,e,t,i){const o=n.Cc(1,e,t);Iy("Data must be an object, but it was:",o,i);const c=[],h=wn.empty();Is(i,(p,g)=>{const v=Ny(e,p,t);g=ft(g);const w=o.yc(v);if(g instanceof cd)c.push(v);else{const T=cu(g,w);T!=null&&(c.push(v),h.set(v,T))}});const d=new Ln(c);return new K1(h,d,o.fieldTransforms)}function VM(n,e,t,i,o,c){const h=n.Cc(1,e,t),d=[Rg(e,i,t)],p=[o];if(c.length%2!=0)throw new fe(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<c.length;T+=2)d.push(Rg(e,c[T])),p.push(c[T+1]);const g=[],v=wn.empty();for(let T=d.length-1;T>=0;--T)if(!Z1(g,d[T])){const C=d[T];let L=p[T];L=ft(L);const I=h.yc(C);if(L instanceof cd)g.push(C);else{const x=cu(L,I);x!=null&&(g.push(C),v.set(C,x))}}const w=new Ln(g);return new K1(v,w,h.fieldTransforms)}function LM(n,e,t,i=!1){return cu(t,n.Cc(i?4:3,e))}function cu(n,e){if(W1(n=ft(n)))return Iy("Unsupported field value:",e,n),X1(n,e);if(n instanceof Ry)return function(i,o){if(!Q1(o.Ac))throw o.Sc(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${i._methodName}() is not currently supported inside arrays`);const c=i._toFieldTransform(o);c&&o.fieldTransforms.push(c)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(i,o){const c=[];let h=0;for(const d of i){let p=cu(d,o.wc(h));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),h++}return{arrayValue:{values:c}}}(n,e)}return function(i,o){if((i=ft(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return SD(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const c=Ge.fromDate(i);return{timestampValue:Nf(o.serializer,c)}}if(i instanceof Ge){const c=new Ge(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Nf(o.serializer,c)}}if(i instanceof Pr)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Jn)return{bytesValue:y1(o.serializer,i._byteString)};if(i instanceof vt){const c=o.databaseId,h=i.firestore._databaseId;if(!h.isEqual(c))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:ly(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof Vr)return function(h,d){return{mapValue:{fields:{[Yw]:{stringValue:Kw},[Af]:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw d.Sc("VectorValues must only contain numeric values.");return iy(d.serializer,g)})}}}}}}(i,o);throw o.Sc(`Unsupported field value: ${Yf(i)}`)}(n,e)}function X1(n,e){const t={};return zw(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Is(n,(i,o)=>{const c=cu(o,e.mc(i));c!=null&&(t[i]=c)}),{mapValue:{fields:t}}}function W1(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ge||n instanceof Pr||n instanceof Jn||n instanceof vt||n instanceof Ry||n instanceof Vr)}function Iy(n,e,t){if(!W1(t)||!Uw(t)){const i=Yf(t);throw i==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+i)}}function Rg(n,e,t){if((e=ft(e))instanceof od)return e._internalPath;if(typeof e=="string")return Ny(n,e);throw kf("Field path arguments must be of type string or ",n,!1,void 0,t)}const UM=new RegExp("[~\\*/\\[\\]]");function Ny(n,e,t){if(e.search(UM)>=0)throw kf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new od(...e.split("."))._internalPath}catch{throw kf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function kf(n,e,t,i,o){const c=i&&!i.isEmpty(),h=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(c||h)&&(p+=" (found",c&&(p+=` in field ${i}`),h&&(p+=` in document ${o}`),p+=")"),new fe(te.INVALID_ARGUMENT,d+n+p)}function Z1(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(e,t,i,o,c){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new jM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(ud("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class jM extends J1{data(){return super.data()}}function ud(n,e){return typeof e=="string"?Ny(n,e):e instanceof od?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eS(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new fe(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Cy{}class tS extends Cy{}function $c(n,e,...t){let i=[];e instanceof Cy&&i.push(e),i=i.concat(t),function(c){const h=c.filter(p=>p instanceof Dy).length,d=c.filter(p=>p instanceof hd).length;if(h>1||h>0&&d>0)throw new fe(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const o of i)n=o._apply(n);return n}class hd extends tS{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new hd(e,t,i)}_apply(e){const t=this._parse(e);return nS(e._query,t),new Cs(e.firestore,e.converter,pg(e._query,t))}_parse(e){const t=ld(e.firestore);return function(c,h,d,p,g,v,w){let T;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new fe(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){Hb(w,v);const L=[];for(const I of w)L.push(Fb(p,c,I));T={arrayValue:{values:L}}}else T=Fb(p,c,w)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||Hb(w,v),T=LM(d,h,w,v==="in"||v==="not-in");return Ot.create(g,v,T)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function us(n,e,t){const i=e,o=ud("where",n);return hd._create(o,i,t)}class Dy extends Cy{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Dy(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:ur.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,c){let h=o;const d=c.getFlattenedFilters();for(const p of d)nS(h,p),h=pg(h,p)}(e._query,t),new Cs(e.firestore,e.converter,pg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Oy extends tS{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Oy(e,t)}_apply(e){const t=function(o,c,h){if(o.startAt!==null)throw new fe(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new fe(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Yc(c,h)}(e._query,this._field,this._direction);return new Cs(e.firestore,e.converter,function(o,c){const h=o.explicitOrderBy.concat([c]);return new al(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function Lc(n,e="asc"){const t=e,i=ud("orderBy",n);return Oy._create(i,t)}function Fb(n,e,t){if(typeof(t=ft(t))=="string"){if(t==="")throw new fe(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!t1(e)&&t.indexOf("/")!==-1)throw new fe(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(ct.fromString(t));if(!_e.isDocumentKey(i))throw new fe(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return sb(n,new _e(i))}if(t instanceof vt)return sb(n,t._key);throw new fe(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Yf(t)}.`)}function Hb(n,e){if(!Array.isArray(n)||n.length===0)throw new fe(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function nS(n,e){const t=function(o,c){for(const h of o)for(const d of h.getFlattenedFilters())if(c.indexOf(d.op)>=0)return d.op;return null}(n.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new fe(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class zM{convertValue(e,t="none"){switch(bs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return At(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Es(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Is(e,(o,c)=>{i[o]=this.convertValue(c,t)}),i}convertVectorValue(e){var i,o,c;const t=(c=(o=(i=e.fields)==null?void 0:i[Af].arrayValue)==null?void 0:o.values)==null?void 0:c.map(h=>At(h.doubleValue));return new Vr(t)}convertGeoPoint(e){return new Pr(At(e.latitude),At(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=$f(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Fc(e));default:return null}}convertTimestamp(e){const t=_s(e);return new Ge(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=ct.fromString(e);Xe(w1(i),9688,{name:e});const o=new Hc(i.get(1),i.get(3)),c=new _e(i.popFirst(5));return o.isEqual(t)||bi(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rS(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class Cc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ea extends J1{constructor(e,t,i,o,c,h){super(e,t,i,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new uf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(ud("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Ea._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Ea._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ea._jsonSchema={type:Mt("string",Ea._jsonSchemaVersion),bundleSource:Mt("string","DocumentSnapshot"),bundleName:Mt("string"),bundle:Mt("string")};class uf extends Ea{data(e={}){return super.data(e)}}class ba{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Cc(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new uf(this._firestore,this._userDataWriter,i.key,i,new Cc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new fe(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,c){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(d=>{const p=new uf(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Cc(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>c||d.type!==3).map(d=>{const p=new uf(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Cc(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,v=-1;return d.type!==0&&(g=h.indexOf(d.doc.key),h=h.delete(d.doc.key)),d.type!==1&&(h=h.add(d.doc),v=h.indexOf(d.doc.key)),{type:BM(d.type),doc:p,oldIndex:g,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ba._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Zg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],o=[];return this.docs.forEach(c=>{c._document!==null&&(t.push(c._document),i.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function BM(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gb(n){n=An(n,vt);const e=An(n.firestore,wi);return xM(ad(e),n._key).then(t=>iS(e,n,t))}ba._jsonSchemaVersion="firestore/querySnapshot/1.0",ba._jsonSchema={type:Mt("string",ba._jsonSchemaVersion),bundleSource:Mt("string","QuerySnapshot"),bundleName:Mt("string"),bundle:Mt("string")};class My extends zM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Jn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new vt(this.firestore,null,t)}}function qM(n){n=An(n,Cs);const e=An(n.firestore,wi),t=ad(e),i=new My(e);return eS(n._query),IM(t,n._query).then(o=>new ba(e,i,n,o))}function Yb(n,e,t){n=An(n,vt);const i=An(n.firestore,wi),o=rS(n.converter,e,t);return fd(i,[$1(ld(i),"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,er.none())])}function FM(n,e,t,...i){n=An(n,vt);const o=An(n.firestore,wi),c=ld(o);let h;return h=typeof(e=ft(e))=="string"||e instanceof od?VM(c,"updateDoc",n._key,e,t,i):PM(c,"updateDoc",n._key,e),fd(o,[h.toMutation(n._key,er.exists(!0))])}function HM(n){return fd(An(n.firestore,wi),[new sy(n._key,er.none())])}function Pf(n,e){const t=An(n.firestore,wi),i=Ko(n),o=rS(n.converter,e);return fd(t,[$1(ld(n.firestore),"addDoc",i._key,o,n.converter!==null,{}).toMutation(i._key,er.exists(!1))]).then(()=>i)}function Vf(n,...e){var p,g,v;n=ft(n);let t={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||qb(e[i])||(t=e[i++]);const o={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(qb(e[i])){const w=e[i];e[i]=(p=w.next)==null?void 0:p.bind(w),e[i+1]=(g=w.error)==null?void 0:g.bind(w),e[i+2]=(v=w.complete)==null?void 0:v.bind(w)}let c,h,d;if(n instanceof vt)h=An(n.firestore,wi),d=Xf(n._key.path),c={next:w=>{e[i]&&e[i](iS(h,n,w))},error:e[i+1],complete:e[i+2]};else{const w=An(n,Cs);h=An(w.firestore,wi),d=w._query;const T=new My(h);c={next:C=>{e[i]&&e[i](new ba(h,T,w,C))},error:e[i+1],complete:e[i+2]},eS(n._query)}return function(T,C,L,I){const x=new Ay(I),B=new Ty(C,x,L);return T.asyncQueue.enqueueAndForget(async()=>_y(await Mf(T),B)),()=>{x.Nu(),T.asyncQueue.enqueueAndForget(async()=>Ey(await Mf(T),B))}}(ad(h),d,o,c)}function fd(n,e){return function(i,o){const c=new yi;return i.asyncQueue.enqueueAndForget(async()=>pM(await RM(i),o,c)),c.promise}(ad(n),e)}function iS(n,e,t){const i=t.docs.get(e._key),o=new My(n);return new Ea(n,o,e._key,i,new Cc(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){rl=o})(Va),Aa(new ys("firestore",(i,{instanceIdentifier:o,options:c})=>{const h=i.getProvider("app").getImmediate(),d=new wi(new V2(i.getProvider("auth-internal")),new j2(h,i.getProvider("app-check-internal")),function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new fe(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hc(g.options.projectId,v)}(h,o),h);return c={useFetchStreams:t,...c},d._setSettings(c),d},"PUBLIC").setMultipleInstances(!0)),Dr(YE,KE,e),Dr(YE,KE,"esm2020")})();var GM="firebase",YM="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Dr(GM,YM,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sS="firebasestorage.googleapis.com",aS="storageBucket",KM=2*60*1e3,QM=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et extends jr{constructor(e,t,i=0){super(Pp(e),`Firebase Storage: ${t} (${Pp(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Et.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Pp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var _t;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(_t||(_t={}));function Pp(n){return"storage/"+n}function ky(){const n="An unknown error occurred, please check the error payload for server response.";return new Et(_t.UNKNOWN,n)}function $M(n){return new Et(_t.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function XM(n){return new Et(_t.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function WM(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Et(_t.UNAUTHENTICATED,n)}function ZM(){return new Et(_t.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function JM(n){return new Et(_t.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function ek(){return new Et(_t.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function tk(){return new Et(_t.CANCELED,"User canceled the upload/download.")}function nk(n){return new Et(_t.INVALID_URL,"Invalid URL '"+n+"'.")}function rk(n){return new Et(_t.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function ik(){return new Et(_t.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+aS+"' property when initializing the app?")}function sk(){return new Et(_t.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function ak(){return new Et(_t.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function ok(n){return new Et(_t.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function xg(n){return new Et(_t.INVALID_ARGUMENT,n)}function oS(){return new Et(_t.APP_DELETED,"The Firebase app was deleted.")}function lk(n){return new Et(_t.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Uc(n,e){return new Et(_t.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function Ec(n){throw new Et(_t.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=Un.makeFromUrl(e,t)}catch{return new Un(e,"")}if(i.path==="")return i;throw rk(e)}static makeFromUrl(e,t){let i=null;const o="([A-Za-z0-9.\\-_]+)";function c(J){J.path.charAt(J.path.length-1)==="/"&&(J.path_=J.path_.slice(0,-1))}const h="(/(.*))?$",d=new RegExp("^gs://"+o+h,"i"),p={bucket:1,path:3};function g(J){J.path_=decodeURIComponent(J.path)}const v="v[A-Za-z0-9_]+",w=t.replace(/[.]/g,"\\."),T="(/([^?#]*).*)?$",C=new RegExp(`^https?://${w}/${v}/b/${o}/o${T}`,"i"),L={bucket:1,path:3},I=t===sS?"(?:storage.googleapis.com|storage.cloud.google.com)":t,x="([^?#]*)",B=new RegExp(`^https?://${I}/${o}/${x}`,"i"),W=[{regex:d,indices:p,postModify:c},{regex:C,indices:L,postModify:g},{regex:B,indices:{bucket:1,path:2},postModify:g}];for(let J=0;J<W.length;J++){const oe=W[J],he=oe.regex.exec(e);if(he){const M=he[oe.indices.bucket];let R=he[oe.indices.path];R||(R=""),i=new Un(M,R),oe.postModify(i);break}}if(i==null)throw nk(e);return i}}class ck{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uk(n,e,t){let i=1,o=null,c=null,h=!1,d=0;function p(){return d===2}let g=!1;function v(...x){g||(g=!0,e.apply(null,x))}function w(x){o=setTimeout(()=>{o=null,n(C,p())},x)}function T(){c&&clearTimeout(c)}function C(x,...B){if(g){T();return}if(x){T(),v.call(null,x,...B);return}if(p()||h){T(),v.call(null,x,...B);return}i<64&&(i*=2);let W;d===1?(d=2,W=0):W=(i+Math.random())*1e3,w(W)}let L=!1;function I(x){L||(L=!0,T(),!g&&(o!==null?(x||(d=2),clearTimeout(o),w(0)):x||(d=1)))}return w(0),c=setTimeout(()=>{h=!0,I(!0)},t),I}function hk(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fk(n){return n!==void 0}function dk(n){return typeof n=="object"&&!Array.isArray(n)}function Py(n){return typeof n=="string"||n instanceof String}function Kb(n){return Vy()&&n instanceof Blob}function Vy(){return typeof Blob<"u"}function Qb(n,e,t,i){if(i<e)throw xg(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw xg(`Invalid value for '${n}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ly(n,e,t){let i=e;return t==null&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function lS(n){const e=encodeURIComponent;let t="?";for(const i in n)if(n.hasOwnProperty(i)){const o=e(i)+"="+e(n[i]);t=t+o+"&"}return t=t.slice(0,-1),t}var Ta;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Ta||(Ta={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mk(n,e){const t=n>=500&&n<600,o=[408,429].indexOf(n)!==-1,c=e.indexOf(n)!==-1;return t||o||c}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(e,t,i,o,c,h,d,p,g,v,w,T=!0,C=!1){this.url_=e,this.method_=t,this.headers_=i,this.body_=o,this.successCodes_=c,this.additionalRetryCodes_=h,this.callback_=d,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=v,this.connectionFactory_=w,this.retry=T,this.isUsingEmulator=C,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((L,I)=>{this.resolve_=L,this.reject_=I,this.start_()})}start_(){const e=(i,o)=>{if(o){i(!1,new Hh(!1,null,!0));return}const c=this.connectionFactory_();this.pendingConnection_=c;const h=d=>{const p=d.loaded,g=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&c.addUploadProgressListener(h),c.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&c.removeUploadProgressListener(h),this.pendingConnection_=null;const d=c.getErrorCode()===Ta.NO_ERROR,p=c.getStatus();if(!d||mk(p,this.additionalRetryCodes_)&&this.retry){const v=c.getErrorCode()===Ta.ABORT;i(!1,new Hh(!1,null,v));return}const g=this.successCodes_.indexOf(p)!==-1;i(!0,new Hh(g,c))})},t=(i,o)=>{const c=this.resolve_,h=this.reject_,d=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(d,d.getResponse());fk(p)?c(p):c()}catch(p){h(p)}else if(d!==null){const p=ky();p.serverResponse=d.getErrorText(),this.errorCallback_?h(this.errorCallback_(d,p)):h(p)}else if(o.canceled){const p=this.appDelete_?oS():tk();h(p)}else{const p=ek();h(p)}};this.canceled_?t(!1,new Hh(!1,null,!0)):this.backoffId_=uk(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&hk(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Hh{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function gk(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function yk(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function vk(n,e){e&&(n["X-Firebase-GMPID"]=e)}function _k(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function Ek(n,e,t,i,o,c,h=!0,d=!1){const p=lS(n.urlParams),g=n.url+p,v=Object.assign({},n.headers);return vk(v,e),gk(v,t),yk(v,c),_k(v,i),new pk(g,n.method,v,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,o,h,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bk(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Tk(...n){const e=bk();if(e!==void 0){const t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}else{if(Vy())return new Blob(n);throw new Et(_t.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function wk(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sk(n){if(typeof atob>"u")throw ok("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Vp{constructor(e,t){this.data=e,this.contentType=t||null}}function Ak(n,e){switch(n){case Cr.RAW:return new Vp(cS(e));case Cr.BASE64:case Cr.BASE64URL:return new Vp(uS(n,e));case Cr.DATA_URL:return new Vp(xk(e),Ik(e))}throw ky()}function cS(n){const e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const c=i,h=n.charCodeAt(++t);i=65536|(c&1023)<<10|h&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function Rk(n){let e;try{e=decodeURIComponent(n)}catch{throw Uc(Cr.DATA_URL,"Malformed data URL.")}return cS(e)}function uS(n,e){switch(n){case Cr.BASE64:{const o=e.indexOf("-")!==-1,c=e.indexOf("_")!==-1;if(o||c)throw Uc(n,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Cr.BASE64URL:{const o=e.indexOf("+")!==-1,c=e.indexOf("/")!==-1;if(o||c)throw Uc(n,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=Sk(e)}catch(o){throw o.message.includes("polyfill")?o:Uc(n,"Invalid character found")}const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}class hS{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw Uc(Cr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;i!=null&&(this.base64=Nk(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function xk(n){const e=new hS(n);return e.base64?uS(Cr.BASE64,e.rest):Rk(e.rest)}function Ik(n){return new hS(n).contentType}function Nk(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e,t){let i=0,o="";Kb(e)?(this.data_=e,i=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if(Kb(this.data_)){const i=this.data_,o=wk(i,e,t);return o===null?null:new ls(o)}else{const i=new Uint8Array(this.data_.buffer,e,t-e);return new ls(i,!0)}}static getBlob(...e){if(Vy()){const t=e.map(i=>i instanceof ls?i.data_:i);return new ls(Tk.apply(null,t))}else{const t=e.map(h=>Py(h)?Ak(Cr.RAW,h).data:h.data_);let i=0;t.forEach(h=>{i+=h.byteLength});const o=new Uint8Array(i);let c=0;return t.forEach(h=>{for(let d=0;d<h.length;d++)o[c++]=h[d]}),new ls(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fS(n){let e;try{e=JSON.parse(n)}catch{return null}return dk(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ck(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function Dk(n,e){const t=e.split("/").filter(i=>i.length>0).join("/");return n.length===0?t:n+"/"+t}function dS(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ok(n,e){return e}class yn{constructor(e,t,i,o){this.server=e,this.local=t||e,this.writable=!!i,this.xform=o||Ok}}let Gh=null;function Mk(n){return!Py(n)||n.length<2?n:dS(n)}function mS(){if(Gh)return Gh;const n=[];n.push(new yn("bucket")),n.push(new yn("generation")),n.push(new yn("metageneration")),n.push(new yn("name","fullPath",!0));function e(c,h){return Mk(h)}const t=new yn("name");t.xform=e,n.push(t);function i(c,h){return h!==void 0?Number(h):h}const o=new yn("size");return o.xform=i,n.push(o),n.push(new yn("timeCreated")),n.push(new yn("updated")),n.push(new yn("md5Hash",null,!0)),n.push(new yn("cacheControl",null,!0)),n.push(new yn("contentDisposition",null,!0)),n.push(new yn("contentEncoding",null,!0)),n.push(new yn("contentLanguage",null,!0)),n.push(new yn("contentType",null,!0)),n.push(new yn("metadata","customMetadata",!0)),Gh=n,Gh}function kk(n,e){function t(){const i=n.bucket,o=n.fullPath,c=new Un(i,o);return e._makeStorageReference(c)}Object.defineProperty(n,"ref",{get:t})}function Pk(n,e,t){const i={};i.type="file";const o=t.length;for(let c=0;c<o;c++){const h=t[c];i[h.local]=h.xform(i,e[h.server])}return kk(i,n),i}function pS(n,e,t){const i=fS(e);return i===null?null:Pk(n,i,t)}function Vk(n,e,t,i){const o=fS(e);if(o===null||!Py(o.downloadTokens))return null;const c=o.downloadTokens;if(c.length===0)return null;const h=encodeURIComponent;return c.split(",").map(g=>{const v=n.bucket,w=n.fullPath,T="/b/"+h(v)+"/o/"+h(w),C=Ly(T,t,i),L=lS({alt:"media",token:g});return C+L})[0]}function Lk(n,e){const t={},i=e.length;for(let o=0;o<i;o++){const c=e[o];c.writable&&(t[c.server]=n[c.local])}return JSON.stringify(t)}class gS{constructor(e,t,i,o){this.url=e,this.method=t,this.handler=i,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yS(n){if(!n)throw ky()}function Uk(n,e){function t(i,o){const c=pS(n,o,e);return yS(c!==null),c}return t}function jk(n,e){function t(i,o){const c=pS(n,o,e);return yS(c!==null),Vk(c,o,n.host,n._protocol)}return t}function vS(n){function e(t,i){let o;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?o=ZM():o=WM():t.getStatus()===402?o=XM(n.bucket):t.getStatus()===403?o=JM(n.path):o=i,o.status=t.getStatus(),o.serverResponse=i.serverResponse,o}return e}function zk(n){const e=vS(n);function t(i,o){let c=e(i,o);return i.getStatus()===404&&(c=$M(n.path)),c.serverResponse=o.serverResponse,c}return t}function Bk(n,e,t){const i=e.fullServerUrl(),o=Ly(i,n.host,n._protocol),c="GET",h=n.maxOperationRetryTime,d=new gS(o,c,jk(n,t),h);return d.errorHandler=zk(e),d}function qk(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function Fk(n,e,t){const i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=qk(null,e)),i}function Hk(n,e,t,i,o){const c=e.bucketOnlyServerUrl(),h={"X-Goog-Upload-Protocol":"multipart"};function d(){let W="";for(let J=0;J<2;J++)W=W+Math.random().toString().slice(2);return W}const p=d();h["Content-Type"]="multipart/related; boundary="+p;const g=Fk(e,i,o),v=Lk(g,t),w="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+p+`\r
Content-Type: `+g.contentType+`\r
\r
`,T=`\r
--`+p+"--",C=ls.getBlob(w,i,T);if(C===null)throw sk();const L={name:g.fullPath},I=Ly(c,n.host,n._protocol),x="POST",B=n.maxUploadRetryTime,X=new gS(I,x,Uk(n,t),B);return X.urlParams=L,X.headers=h,X.body=C.uploadData(),X.errorHandler=vS(e),X}class Gk{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ta.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ta.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ta.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,o,c){if(this.sent_)throw Ec("cannot .send() more than once");if(As(e)&&i&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),c!==void 0)for(const h in c)c.hasOwnProperty(h)&&this.xhr_.setRequestHeader(h,c[h].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ec("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ec("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ec("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ec("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Yk extends Gk{initXhr(){this.xhr_.responseType="text"}}function _S(){return new Yk}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(e,t){this._service=e,t instanceof Un?this._location=t:this._location=Un.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Ca(e,t)}get root(){const e=new Un(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return dS(this._location.path)}get storage(){return this._service}get parent(){const e=Ck(this._location.path);if(e===null)return null;const t=new Un(this._location.bucket,e);return new Ca(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw lk(e)}}function Kk(n,e,t){n._throwIfRoot("uploadBytes");const i=Hk(n.storage,n._location,mS(),new ls(e,!0),t);return n.storage.makeRequestWithTokens(i,_S).then(o=>({metadata:o,ref:n}))}function Qk(n){n._throwIfRoot("getDownloadURL");const e=Bk(n.storage,n._location,mS());return n.storage.makeRequestWithTokens(e,_S).then(t=>{if(t===null)throw ak();return t})}function $k(n,e){const t=Dk(n._location.path,e),i=new Un(n._location.bucket,t);return new Ca(n.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xk(n){return/^[A-Za-z]+:\/\//.test(n)}function Wk(n,e){return new Ca(n,e)}function ES(n,e){if(n instanceof Uy){const t=n;if(t._bucket==null)throw ik();const i=new Ca(t,t._bucket);return e!=null?ES(i,e):i}else return e!==void 0?$k(n,e):n}function Zk(n,e){if(e&&Xk(e)){if(n instanceof Uy)return Wk(n,e);throw xg("To use ref(service, url), the first argument must be a Storage instance.")}else return ES(n,e)}function $b(n,e){const t=e==null?void 0:e[aS];return t==null?null:Un.makeFromBucketSpec(t,n)}function Jk(n,e,t,i={}){n.host=`${e}:${t}`;const o=As(e);o&&(Vg(`https://${n.host}/b`),Lg("Storage",!0)),n._isUsingEmulator=!0,n._protocol=o?"https":"http";const{mockUserToken:c}=i;c&&(n._overrideAuthToken=typeof c=="string"?c:HT(c,n.app.options.projectId))}class Uy{constructor(e,t,i,o,c,h=!1){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=o,this._firebaseVersion=c,this._isUsingEmulator=h,this._bucket=null,this._host=sS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=KM,this._maxUploadRetryTime=QM,this._requests=new Set,o!=null?this._bucket=Un.makeFromBucketSpec(o,this._host):this._bucket=$b(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Un.makeFromBucketSpec(this._url,e):this._bucket=$b(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Qb("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Qb("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Tn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ca(this,e)}_makeRequest(e,t,i,o,c=!0){if(this._deleted)return new ck(oS());{const h=Ek(e,this._appId,i,o,t,this._firebaseVersion,c,this._isUsingEmulator);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,t){const[i,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,i,o).getPromise()}}const Xb="@firebase/storage",Wb="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bS="storage";function TS(n,e,t){return n=ft(n),Kk(n,e,t)}function wS(n){return n=ft(n),Qk(n)}function SS(n,e){return n=ft(n),Zk(n,e)}function eP(n=zg(),e){n=ft(n);const i=qf(n,bS).getImmediate({identifier:e}),o=BT("storage");return o&&tP(i,...o),i}function tP(n,e,t,i={}){Jk(n,e,t,i)}function nP(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return new Uy(t,i,o,e,Va)}function rP(){Aa(new ys(bS,nP,"PUBLIC").setMultipleInstances(!0)),Dr(Xb,Wb,""),Dr(Xb,Wb,"esm2020")}rP();const iP={apiKey:"AIzaSyAor1Aq2Myi8BwI6Eosiz7elTtPl2WgwLs",authDomain:"emesg-mvp-sc.firebaseapp.com",projectId:"emesg-mvp-sc",storageBucket:"emesg-mvp-sc.firebasestorage.app",messagingSenderId:"157751238183",appId:"1:157751238183:web:7196e759c8f9e556263802",measurementId:"G-L00GR5FN5W"},jy=KT(iP),bc=O2(jy),Sn=CM(jy),AS=eP(jy),sP=new fi,RS=P.createContext({}),Ds=()=>{const n=P.useContext(RS);if(!n)throw new Error("useAuth must be used within an AuthProvider");return n},aP=({children:n})=>{const[e,t]=P.useState(null),[i,o]=P.useState(null),[c,h]=P.useState(!0),d=async(I,x={})=>{const B=Ko(Sn,"users",I.uid);if(!(await Gb(B)).exists()){const{displayName:W,email:J,photoURL:oe}=I,he=new Date;try{await Yb(B,{displayName:W||x.displayName||"",email:J,photoURL:oe||"",bio:"",createdAt:he,lastActive:he,...x})}catch(M){console.error("Error creating user profile:",M)}}return p(I.uid)},p=async I=>{try{const x=Ko(Sn,"users",I),B=await Gb(x);if(B.exists()){const X=B.data();return{uid:I,email:X.email,displayName:X.displayName,photoURL:X.photoURL,bio:X.bio,createdAt:X.createdAt.toDate(),lastActive:X.lastActive.toDate()}}}catch(x){console.error("Error getting user profile:",x)}return null},g=async(I,x)=>{const B=await gC(bc,I,x);await d(B.user)},v=async(I,x,B)=>{const X=await pC(bc,I,x);await og(X.user,{displayName:B}),await d(X.user,{displayName:B})},w=async()=>{const I=await BC(bc,sP);await d(I.user)},T=async()=>{await bC(bc),o(null)},C=async I=>{if(!e)return;const x=Ko(Sn,"users",e.uid);await Yb(x,{...I,lastActive:new Date},{merge:!0}),I.displayName&&I.displayName!==e.displayName&&await og(e,{displayName:I.displayName});const B=await p(e.uid);o(B)};P.useEffect(()=>EC(bc,async x=>{if(x){const B=await p(x.uid);o(B)}else o(null);t(x),h(!1)}),[]);const L={currentUser:e,userProfile:i,login:g,signup:v,loginWithGoogle:w,logout:T,updateUserProfile:C,loading:c};return E.jsx(RS.Provider,{value:L,children:!c&&n})};function Zb(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function xS(...n){return e=>{let t=!1;const i=n.map(o=>{const c=Zb(o,e);return!t&&typeof c=="function"&&(t=!0),c});if(t)return()=>{for(let o=0;o<i.length;o++){const c=i[o];typeof c=="function"?c():Zb(n[o],null)}}}}function Ur(...n){return P.useCallback(xS(...n),n)}function Xc(n){const e=oP(n),t=P.forwardRef((i,o)=>{const{children:c,...h}=i,d=P.Children.toArray(c),p=d.find(cP);if(p){const g=p.props.children,v=d.map(w=>w===p?P.Children.count(g)>1?P.Children.only(null):P.isValidElement(g)?g.props.children:null:w);return E.jsx(e,{...h,ref:o,children:P.isValidElement(g)?P.cloneElement(g,void 0,v):null})}return E.jsx(e,{...h,ref:o,children:c})});return t.displayName=`${n}.Slot`,t}var IS=Xc("Slot");function oP(n){const e=P.forwardRef((t,i)=>{const{children:o,...c}=t;if(P.isValidElement(o)){const h=hP(o),d=uP(c,o.props);return o.type!==P.Fragment&&(d.ref=i?xS(i,h):h),P.cloneElement(o,d)}return P.Children.count(o)>1?P.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var lP=Symbol("radix.slottable");function cP(n){return P.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===lP}function uP(n,e){const t={...e};for(const i in e){const o=n[i],c=e[i];/^on[A-Z]/.test(i)?o&&c?t[i]=(...d)=>{const p=c(...d);return o(...d),p}:o&&(t[i]=o):i==="style"?t[i]={...o,...c}:i==="className"&&(t[i]=[o,c].filter(Boolean).join(" "))}return{...n,...t}}function hP(n){var i,o;let e=(i=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(o=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:o.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function NS(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var o=n.length;for(e=0;e<o;e++)n[e]&&(t=NS(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function CS(){for(var n,e,t=0,i="",o=arguments.length;t<o;t++)(n=arguments[t])&&(e=NS(n))&&(i&&(i+=" "),i+=e);return i}const Jb=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,eT=CS,DS=(n,e)=>t=>{var i;if((e==null?void 0:e.variants)==null)return eT(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:o,defaultVariants:c}=e,h=Object.keys(o).map(g=>{const v=t==null?void 0:t[g],w=c==null?void 0:c[g];if(v===null)return null;const T=Jb(v)||Jb(w);return o[g][T]}),d=t&&Object.entries(t).reduce((g,v)=>{let[w,T]=v;return T===void 0||(g[w]=T),g},{}),p=e==null||(i=e.compoundVariants)===null||i===void 0?void 0:i.reduce((g,v)=>{let{class:w,className:T,...C}=v;return Object.entries(C).every(L=>{let[I,x]=L;return Array.isArray(x)?x.includes({...c,...d}[I]):{...c,...d}[I]===x})?[...g,w,T]:g},[]);return eT(n,h,p,t==null?void 0:t.class,t==null?void 0:t.className)},zy="-",fP=n=>{const e=mP(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:i}=n;return{getClassGroupId:h=>{const d=h.split(zy);return d[0]===""&&d.length!==1&&d.shift(),OS(d,e)||dP(h)},getConflictingClassGroupIds:(h,d)=>{const p=t[h]||[];return d&&i[h]?[...p,...i[h]]:p}}},OS=(n,e)=>{var h;if(n.length===0)return e.classGroupId;const t=n[0],i=e.nextPart.get(t),o=i?OS(n.slice(1),i):void 0;if(o)return o;if(e.validators.length===0)return;const c=n.join(zy);return(h=e.validators.find(({validator:d})=>d(c)))==null?void 0:h.classGroupId},tT=/^\[(.+)\]$/,dP=n=>{if(tT.test(n)){const e=tT.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},mP=n=>{const{theme:e,classGroups:t}=n,i={nextPart:new Map,validators:[]};for(const o in t)Ig(t[o],i,o,e);return i},Ig=(n,e,t,i)=>{n.forEach(o=>{if(typeof o=="string"){const c=o===""?e:nT(e,o);c.classGroupId=t;return}if(typeof o=="function"){if(pP(o)){Ig(o(i),e,t,i);return}e.validators.push({validator:o,classGroupId:t});return}Object.entries(o).forEach(([c,h])=>{Ig(h,nT(e,c),t,i)})})},nT=(n,e)=>{let t=n;return e.split(zy).forEach(i=>{t.nextPart.has(i)||t.nextPart.set(i,{nextPart:new Map,validators:[]}),t=t.nextPart.get(i)}),t},pP=n=>n.isThemeGetter,gP=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,i=new Map;const o=(c,h)=>{t.set(c,h),e++,e>n&&(e=0,i=t,t=new Map)};return{get(c){let h=t.get(c);if(h!==void 0)return h;if((h=i.get(c))!==void 0)return o(c,h),h},set(c,h){t.has(c)?t.set(c,h):o(c,h)}}},Ng="!",Cg=":",yP=Cg.length,vP=n=>{const{prefix:e,experimentalParseClassName:t}=n;let i=o=>{const c=[];let h=0,d=0,p=0,g;for(let L=0;L<o.length;L++){let I=o[L];if(h===0&&d===0){if(I===Cg){c.push(o.slice(p,L)),p=L+yP;continue}if(I==="/"){g=L;continue}}I==="["?h++:I==="]"?h--:I==="("?d++:I===")"&&d--}const v=c.length===0?o:o.substring(p),w=_P(v),T=w!==v,C=g&&g>p?g-p:void 0;return{modifiers:c,hasImportantModifier:T,baseClassName:w,maybePostfixModifierPosition:C}};if(e){const o=e+Cg,c=i;i=h=>h.startsWith(o)?c(h.substring(o.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:h,maybePostfixModifierPosition:void 0}}if(t){const o=i;i=c=>t({className:c,parseClassName:o})}return i},_P=n=>n.endsWith(Ng)?n.substring(0,n.length-1):n.startsWith(Ng)?n.substring(1):n,EP=n=>{const e=Object.fromEntries(n.orderSensitiveModifiers.map(i=>[i,!0]));return i=>{if(i.length<=1)return i;const o=[];let c=[];return i.forEach(h=>{h[0]==="["||e[h]?(o.push(...c.sort(),h),c=[]):c.push(h)}),o.push(...c.sort()),o}},bP=n=>({cache:gP(n.cacheSize),parseClassName:vP(n),sortModifiers:EP(n),...fP(n)}),TP=/\s+/,wP=(n,e)=>{const{parseClassName:t,getClassGroupId:i,getConflictingClassGroupIds:o,sortModifiers:c}=e,h=[],d=n.trim().split(TP);let p="";for(let g=d.length-1;g>=0;g-=1){const v=d[g],{isExternal:w,modifiers:T,hasImportantModifier:C,baseClassName:L,maybePostfixModifierPosition:I}=t(v);if(w){p=v+(p.length>0?" "+p:p);continue}let x=!!I,B=i(x?L.substring(0,I):L);if(!B){if(!x){p=v+(p.length>0?" "+p:p);continue}if(B=i(L),!B){p=v+(p.length>0?" "+p:p);continue}x=!1}const X=c(T).join(":"),W=C?X+Ng:X,J=W+B;if(h.includes(J))continue;h.push(J);const oe=o(B,x);for(let he=0;he<oe.length;++he){const M=oe[he];h.push(W+M)}p=v+(p.length>0?" "+p:p)}return p};function SP(){let n=0,e,t,i="";for(;n<arguments.length;)(e=arguments[n++])&&(t=MS(e))&&(i&&(i+=" "),i+=t);return i}const MS=n=>{if(typeof n=="string")return n;let e,t="";for(let i=0;i<n.length;i++)n[i]&&(e=MS(n[i]))&&(t&&(t+=" "),t+=e);return t};function AP(n,...e){let t,i,o,c=h;function h(p){const g=e.reduce((v,w)=>w(v),n());return t=bP(g),i=t.cache.get,o=t.cache.set,c=d,d(p)}function d(p){const g=i(p);if(g)return g;const v=wP(p,t);return o(p,v),v}return function(){return c(SP.apply(null,arguments))}}const zt=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},kS=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,PS=/^\((?:(\w[\w-]*):)?(.+)\)$/i,RP=/^\d+\/\d+$/,xP=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,IP=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,NP=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,CP=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,DP=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Oo=n=>RP.test(n),De=n=>!!n&&!Number.isNaN(Number(n)),ts=n=>!!n&&Number.isInteger(Number(n)),Lp=n=>n.endsWith("%")&&De(n.slice(0,-1)),hi=n=>xP.test(n),OP=()=>!0,MP=n=>IP.test(n)&&!NP.test(n),VS=()=>!1,kP=n=>CP.test(n),PP=n=>DP.test(n),VP=n=>!ge(n)&&!ye(n),LP=n=>ll(n,jS,VS),ge=n=>kS.test(n),ma=n=>ll(n,zS,MP),Up=n=>ll(n,qP,De),rT=n=>ll(n,LS,VS),UP=n=>ll(n,US,PP),Yh=n=>ll(n,BS,kP),ye=n=>PS.test(n),Tc=n=>cl(n,zS),jP=n=>cl(n,FP),iT=n=>cl(n,LS),zP=n=>cl(n,jS),BP=n=>cl(n,US),Kh=n=>cl(n,BS,!0),ll=(n,e,t)=>{const i=kS.exec(n);return i?i[1]?e(i[1]):t(i[2]):!1},cl=(n,e,t=!1)=>{const i=PS.exec(n);return i?i[1]?e(i[1]):t:!1},LS=n=>n==="position"||n==="percentage",US=n=>n==="image"||n==="url",jS=n=>n==="length"||n==="size"||n==="bg-size",zS=n=>n==="length",qP=n=>n==="number",FP=n=>n==="family-name",BS=n=>n==="shadow",HP=()=>{const n=zt("color"),e=zt("font"),t=zt("text"),i=zt("font-weight"),o=zt("tracking"),c=zt("leading"),h=zt("breakpoint"),d=zt("container"),p=zt("spacing"),g=zt("radius"),v=zt("shadow"),w=zt("inset-shadow"),T=zt("text-shadow"),C=zt("drop-shadow"),L=zt("blur"),I=zt("perspective"),x=zt("aspect"),B=zt("ease"),X=zt("animate"),W=()=>["auto","avoid","all","avoid-page","page","left","right","column"],J=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],oe=()=>[...J(),ye,ge],he=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto","contain","none"],R=()=>[ye,ge,p],D=()=>[Oo,"full","auto",...R()],k=()=>[ts,"none","subgrid",ye,ge],V=()=>["auto",{span:["full",ts,ye,ge]},ts,ye,ge],z=()=>[ts,"auto",ye,ge],N=()=>["auto","min","max","fr",ye,ge],Me=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Ke=()=>["start","end","center","stretch","center-safe","end-safe"],Q=()=>["auto",...R()],le=()=>[Oo,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...R()],ae=()=>[n,ye,ge],ze=()=>[...J(),iT,rT,{position:[ye,ge]}],U=()=>["no-repeat",{repeat:["","x","y","space","round"]}],ie=()=>["auto","cover","contain",zP,LP,{size:[ye,ge]}],ue=()=>[Lp,Tc,ma],se=()=>["","none","full",g,ye,ge],me=()=>["",De,Tc,ma],Ie=()=>["solid","dashed","dotted","double"],Te=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ke=()=>[De,Lp,iT,rT],We=()=>["","none",L,ye,ge],fn=()=>["none",De,ye,ge],Rn=()=>["none",De,ye,ge],xn=()=>[De,ye,ge],jn=()=>[Oo,"full",...R()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[hi],breakpoint:[hi],color:[OP],container:[hi],"drop-shadow":[hi],ease:["in","out","in-out"],font:[VP],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[hi],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[hi],shadow:[hi],spacing:["px",De],text:[hi],"text-shadow":[hi],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Oo,ge,ye,x]}],container:["container"],columns:[{columns:[De,ge,ye,d]}],"break-after":[{"break-after":W()}],"break-before":[{"break-before":W()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:oe()}],overflow:[{overflow:he()}],"overflow-x":[{"overflow-x":he()}],"overflow-y":[{"overflow-y":he()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:D()}],"inset-x":[{"inset-x":D()}],"inset-y":[{"inset-y":D()}],start:[{start:D()}],end:[{end:D()}],top:[{top:D()}],right:[{right:D()}],bottom:[{bottom:D()}],left:[{left:D()}],visibility:["visible","invisible","collapse"],z:[{z:[ts,"auto",ye,ge]}],basis:[{basis:[Oo,"full","auto",d,...R()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[De,Oo,"auto","initial","none",ge]}],grow:[{grow:["",De,ye,ge]}],shrink:[{shrink:["",De,ye,ge]}],order:[{order:[ts,"first","last","none",ye,ge]}],"grid-cols":[{"grid-cols":k()}],"col-start-end":[{col:V()}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":k()}],"row-start-end":[{row:V()}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":N()}],"auto-rows":[{"auto-rows":N()}],gap:[{gap:R()}],"gap-x":[{"gap-x":R()}],"gap-y":[{"gap-y":R()}],"justify-content":[{justify:[...Me(),"normal"]}],"justify-items":[{"justify-items":[...Ke(),"normal"]}],"justify-self":[{"justify-self":["auto",...Ke()]}],"align-content":[{content:["normal",...Me()]}],"align-items":[{items:[...Ke(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Ke(),{baseline:["","last"]}]}],"place-content":[{"place-content":Me()}],"place-items":[{"place-items":[...Ke(),"baseline"]}],"place-self":[{"place-self":["auto",...Ke()]}],p:[{p:R()}],px:[{px:R()}],py:[{py:R()}],ps:[{ps:R()}],pe:[{pe:R()}],pt:[{pt:R()}],pr:[{pr:R()}],pb:[{pb:R()}],pl:[{pl:R()}],m:[{m:Q()}],mx:[{mx:Q()}],my:[{my:Q()}],ms:[{ms:Q()}],me:[{me:Q()}],mt:[{mt:Q()}],mr:[{mr:Q()}],mb:[{mb:Q()}],ml:[{ml:Q()}],"space-x":[{"space-x":R()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":R()}],"space-y-reverse":["space-y-reverse"],size:[{size:le()}],w:[{w:[d,"screen",...le()]}],"min-w":[{"min-w":[d,"screen","none",...le()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[h]},...le()]}],h:[{h:["screen","lh",...le()]}],"min-h":[{"min-h":["screen","lh","none",...le()]}],"max-h":[{"max-h":["screen","lh",...le()]}],"font-size":[{text:["base",t,Tc,ma]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,ye,Up]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Lp,ge]}],"font-family":[{font:[jP,ge,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,ye,ge]}],"line-clamp":[{"line-clamp":[De,"none",ye,Up]}],leading:[{leading:[c,...R()]}],"list-image":[{"list-image":["none",ye,ge]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ye,ge]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:ae()}],"text-color":[{text:ae()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ie(),"wavy"]}],"text-decoration-thickness":[{decoration:[De,"from-font","auto",ye,ma]}],"text-decoration-color":[{decoration:ae()}],"underline-offset":[{"underline-offset":[De,"auto",ye,ge]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ye,ge]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ye,ge]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ze()}],"bg-repeat":[{bg:U()}],"bg-size":[{bg:ie()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ts,ye,ge],radial:["",ye,ge],conic:[ts,ye,ge]},BP,UP]}],"bg-color":[{bg:ae()}],"gradient-from-pos":[{from:ue()}],"gradient-via-pos":[{via:ue()}],"gradient-to-pos":[{to:ue()}],"gradient-from":[{from:ae()}],"gradient-via":[{via:ae()}],"gradient-to":[{to:ae()}],rounded:[{rounded:se()}],"rounded-s":[{"rounded-s":se()}],"rounded-e":[{"rounded-e":se()}],"rounded-t":[{"rounded-t":se()}],"rounded-r":[{"rounded-r":se()}],"rounded-b":[{"rounded-b":se()}],"rounded-l":[{"rounded-l":se()}],"rounded-ss":[{"rounded-ss":se()}],"rounded-se":[{"rounded-se":se()}],"rounded-ee":[{"rounded-ee":se()}],"rounded-es":[{"rounded-es":se()}],"rounded-tl":[{"rounded-tl":se()}],"rounded-tr":[{"rounded-tr":se()}],"rounded-br":[{"rounded-br":se()}],"rounded-bl":[{"rounded-bl":se()}],"border-w":[{border:me()}],"border-w-x":[{"border-x":me()}],"border-w-y":[{"border-y":me()}],"border-w-s":[{"border-s":me()}],"border-w-e":[{"border-e":me()}],"border-w-t":[{"border-t":me()}],"border-w-r":[{"border-r":me()}],"border-w-b":[{"border-b":me()}],"border-w-l":[{"border-l":me()}],"divide-x":[{"divide-x":me()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":me()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Ie(),"hidden","none"]}],"divide-style":[{divide:[...Ie(),"hidden","none"]}],"border-color":[{border:ae()}],"border-color-x":[{"border-x":ae()}],"border-color-y":[{"border-y":ae()}],"border-color-s":[{"border-s":ae()}],"border-color-e":[{"border-e":ae()}],"border-color-t":[{"border-t":ae()}],"border-color-r":[{"border-r":ae()}],"border-color-b":[{"border-b":ae()}],"border-color-l":[{"border-l":ae()}],"divide-color":[{divide:ae()}],"outline-style":[{outline:[...Ie(),"none","hidden"]}],"outline-offset":[{"outline-offset":[De,ye,ge]}],"outline-w":[{outline:["",De,Tc,ma]}],"outline-color":[{outline:ae()}],shadow:[{shadow:["","none",v,Kh,Yh]}],"shadow-color":[{shadow:ae()}],"inset-shadow":[{"inset-shadow":["none",w,Kh,Yh]}],"inset-shadow-color":[{"inset-shadow":ae()}],"ring-w":[{ring:me()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:ae()}],"ring-offset-w":[{"ring-offset":[De,ma]}],"ring-offset-color":[{"ring-offset":ae()}],"inset-ring-w":[{"inset-ring":me()}],"inset-ring-color":[{"inset-ring":ae()}],"text-shadow":[{"text-shadow":["none",T,Kh,Yh]}],"text-shadow-color":[{"text-shadow":ae()}],opacity:[{opacity:[De,ye,ge]}],"mix-blend":[{"mix-blend":[...Te(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Te()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[De]}],"mask-image-linear-from-pos":[{"mask-linear-from":ke()}],"mask-image-linear-to-pos":[{"mask-linear-to":ke()}],"mask-image-linear-from-color":[{"mask-linear-from":ae()}],"mask-image-linear-to-color":[{"mask-linear-to":ae()}],"mask-image-t-from-pos":[{"mask-t-from":ke()}],"mask-image-t-to-pos":[{"mask-t-to":ke()}],"mask-image-t-from-color":[{"mask-t-from":ae()}],"mask-image-t-to-color":[{"mask-t-to":ae()}],"mask-image-r-from-pos":[{"mask-r-from":ke()}],"mask-image-r-to-pos":[{"mask-r-to":ke()}],"mask-image-r-from-color":[{"mask-r-from":ae()}],"mask-image-r-to-color":[{"mask-r-to":ae()}],"mask-image-b-from-pos":[{"mask-b-from":ke()}],"mask-image-b-to-pos":[{"mask-b-to":ke()}],"mask-image-b-from-color":[{"mask-b-from":ae()}],"mask-image-b-to-color":[{"mask-b-to":ae()}],"mask-image-l-from-pos":[{"mask-l-from":ke()}],"mask-image-l-to-pos":[{"mask-l-to":ke()}],"mask-image-l-from-color":[{"mask-l-from":ae()}],"mask-image-l-to-color":[{"mask-l-to":ae()}],"mask-image-x-from-pos":[{"mask-x-from":ke()}],"mask-image-x-to-pos":[{"mask-x-to":ke()}],"mask-image-x-from-color":[{"mask-x-from":ae()}],"mask-image-x-to-color":[{"mask-x-to":ae()}],"mask-image-y-from-pos":[{"mask-y-from":ke()}],"mask-image-y-to-pos":[{"mask-y-to":ke()}],"mask-image-y-from-color":[{"mask-y-from":ae()}],"mask-image-y-to-color":[{"mask-y-to":ae()}],"mask-image-radial":[{"mask-radial":[ye,ge]}],"mask-image-radial-from-pos":[{"mask-radial-from":ke()}],"mask-image-radial-to-pos":[{"mask-radial-to":ke()}],"mask-image-radial-from-color":[{"mask-radial-from":ae()}],"mask-image-radial-to-color":[{"mask-radial-to":ae()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":J()}],"mask-image-conic-pos":[{"mask-conic":[De]}],"mask-image-conic-from-pos":[{"mask-conic-from":ke()}],"mask-image-conic-to-pos":[{"mask-conic-to":ke()}],"mask-image-conic-from-color":[{"mask-conic-from":ae()}],"mask-image-conic-to-color":[{"mask-conic-to":ae()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ze()}],"mask-repeat":[{mask:U()}],"mask-size":[{mask:ie()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ye,ge]}],filter:[{filter:["","none",ye,ge]}],blur:[{blur:We()}],brightness:[{brightness:[De,ye,ge]}],contrast:[{contrast:[De,ye,ge]}],"drop-shadow":[{"drop-shadow":["","none",C,Kh,Yh]}],"drop-shadow-color":[{"drop-shadow":ae()}],grayscale:[{grayscale:["",De,ye,ge]}],"hue-rotate":[{"hue-rotate":[De,ye,ge]}],invert:[{invert:["",De,ye,ge]}],saturate:[{saturate:[De,ye,ge]}],sepia:[{sepia:["",De,ye,ge]}],"backdrop-filter":[{"backdrop-filter":["","none",ye,ge]}],"backdrop-blur":[{"backdrop-blur":We()}],"backdrop-brightness":[{"backdrop-brightness":[De,ye,ge]}],"backdrop-contrast":[{"backdrop-contrast":[De,ye,ge]}],"backdrop-grayscale":[{"backdrop-grayscale":["",De,ye,ge]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[De,ye,ge]}],"backdrop-invert":[{"backdrop-invert":["",De,ye,ge]}],"backdrop-opacity":[{"backdrop-opacity":[De,ye,ge]}],"backdrop-saturate":[{"backdrop-saturate":[De,ye,ge]}],"backdrop-sepia":[{"backdrop-sepia":["",De,ye,ge]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":R()}],"border-spacing-x":[{"border-spacing-x":R()}],"border-spacing-y":[{"border-spacing-y":R()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ye,ge]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[De,"initial",ye,ge]}],ease:[{ease:["linear","initial",B,ye,ge]}],delay:[{delay:[De,ye,ge]}],animate:[{animate:["none",X,ye,ge]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[I,ye,ge]}],"perspective-origin":[{"perspective-origin":oe()}],rotate:[{rotate:fn()}],"rotate-x":[{"rotate-x":fn()}],"rotate-y":[{"rotate-y":fn()}],"rotate-z":[{"rotate-z":fn()}],scale:[{scale:Rn()}],"scale-x":[{"scale-x":Rn()}],"scale-y":[{"scale-y":Rn()}],"scale-z":[{"scale-z":Rn()}],"scale-3d":["scale-3d"],skew:[{skew:xn()}],"skew-x":[{"skew-x":xn()}],"skew-y":[{"skew-y":xn()}],transform:[{transform:[ye,ge,"","none","gpu","cpu"]}],"transform-origin":[{origin:oe()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:jn()}],"translate-x":[{"translate-x":jn()}],"translate-y":[{"translate-y":jn()}],"translate-z":[{"translate-z":jn()}],"translate-none":["translate-none"],accent:[{accent:ae()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:ae()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ye,ge]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ye,ge]}],fill:[{fill:["none",...ae()]}],"stroke-w":[{stroke:[De,Tc,ma,Up]}],stroke:[{stroke:["none",...ae()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},GP=AP(HP);function bt(...n){return GP(CS(n))}const YP=DS("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function Rt({className:n,variant:e,size:t,asChild:i=!1,...o}){const c=i?IS:"button";return E.jsx(c,{"data-slot":"button",className:bt(YP({variant:e,size:t,className:n})),...o})}function wa({className:n,type:e,...t}){return E.jsx("input",{type:e,"data-slot":"input",className:bt("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",n),...t})}function hs({className:n,...e}){return E.jsx("div",{"data-slot":"card",className:bt("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",n),...e})}function Bo({className:n,...e}){return E.jsx("div",{"data-slot":"card-header",className:bt("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",n),...e})}function qo({className:n,...e}){return E.jsx("div",{"data-slot":"card-title",className:bt("leading-none font-semibold",n),...e})}function KP({className:n,...e}){return E.jsx("div",{"data-slot":"card-description",className:bt("text-muted-foreground text-sm",n),...e})}function fs({className:n,...e}){return E.jsx("div",{"data-slot":"card-content",className:bt("px-6",n),...e})}var qS=VT();const QP=kT(qS);var $P=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],kt=$P.reduce((n,e)=>{const t=Xc(`Primitive.${e}`),i=P.forwardRef((o,c)=>{const{asChild:h,...d}=o,p=h?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),E.jsx(p,{...d,ref:c})});return i.displayName=`Primitive.${e}`,{...n,[e]:i}},{});function XP(n,e){n&&qS.flushSync(()=>n.dispatchEvent(e))}var WP="Separator",sT="horizontal",ZP=["horizontal","vertical"],FS=P.forwardRef((n,e)=>{const{decorative:t,orientation:i=sT,...o}=n,c=JP(i)?i:sT,d=t?{role:"none"}:{"aria-orientation":c==="vertical"?c:void 0,role:"separator"};return E.jsx(kt.div,{"data-orientation":c,...d,...o,ref:e})});FS.displayName=WP;function JP(n){return ZP.includes(n)}var e4=FS;function t4({className:n,orientation:e="horizontal",decorative:t=!0,...i}){return E.jsx(e4,{"data-slot":"separator-root",decorative:t,orientation:e,className:bt("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",n),...i})}/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n4=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),r4=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase()),aT=n=>{const e=r4(n);return e.charAt(0).toUpperCase()+e.slice(1)},HS=(...n)=>n.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim(),i4=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var s4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a4=P.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:o="",children:c,iconNode:h,...d},p)=>P.createElement("svg",{ref:p,...s4,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:HS("lucide",o),...!c&&!i4(d)&&{"aria-hidden":"true"},...d},[...h.map(([g,v])=>P.createElement(g,v)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const at=(n,e)=>{const t=P.forwardRef(({className:i,...o},c)=>P.createElement(a4,{ref:c,iconNode:e,className:HS(`lucide-${n4(aT(n))}`,`lucide-${n}`,i),...o}));return t.displayName=aT(n),t};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o4=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],l4=at("arrow-left",o4);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c4=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],GS=at("camera",c4);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u4=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],YS=at("check-check",u4);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h4=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],KS=at("check",h4);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["line",{x1:"21.17",x2:"12",y1:"8",y2:"8",key:"a0cw5f"}],["line",{x1:"3.95",x2:"8.54",y1:"6.06",y2:"14",key:"1kftof"}],["line",{x1:"10.88",x2:"15.46",y1:"21.94",y2:"14",key:"1ymyh8"}]],d4=at("chrome",f4);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],QS=at("clock",m4);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p4=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],g4=at("ellipsis-vertical",p4);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y4=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],oT=at("eye",y4);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v4=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],lT=at("image",v4);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _4=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],E4=at("lock",_4);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b4=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],T4=at("log-out",b4);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w4=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],$S=at("mail",w4);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S4=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],vi=at("message-circle",S4);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A4=[["path",{d:"M13.234 20.252 21 12.3",key:"1cbrk9"}],["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 0 2.828 2 2 0 0 0 2.828 0l8.414-8.586a4 4 0 0 0 0-5.656 4 4 0 0 0-5.656 0l-8.415 8.585a6 6 0 1 0 8.486 8.486",key:"1pkts6"}]],R4=at("paperclip",A4);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x4=[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]],cT=at("pen-line",x4);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I4=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],N4=at("phone",I4);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],XS=at("plus",C4);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D4=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],O4=at("save",D4);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M4=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],hf=at("search",M4);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k4=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],P4=at("send",k4);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V4=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],uT=at("shield",V4);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L4=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],U4=at("smartphone",L4);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],z4=at("smile",j4);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B4=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],By=at("user",B4);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q4=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],qy=at("users",q4);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F4=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],H4=at("video",F4);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G4=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Y4=at("x",G4);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K4=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],hT=at("zap",K4),Q4=({isLogin:n,onToggle:e})=>{const[t,i]=P.useState(""),[o,c]=P.useState(""),[h,d]=P.useState(""),[p,g]=P.useState(!1),[v,w]=P.useState(""),{login:T,signup:C,loginWithGoogle:L}=Ds(),I=async B=>{if(B.preventDefault(),!(!t||!o)){g(!0),w("");try{if(n)await T(t,o);else{if(!h){w("Display name is required");return}await C(t,o,h)}}catch(X){w(X.message||"Authentication failed")}finally{g(!1)}}},x=async()=>{g(!0),w("");try{await L()}catch(B){w(B.message||"Google sign-in failed")}finally{g(!1)}};return E.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 p-4",children:E.jsxs(hs,{className:"w-full max-w-md shadow-xl",children:[E.jsxs(Bo,{className:"text-center",children:[E.jsx("div",{className:"mx-auto mb-4 flex h-12 w-12 items-center justify-center rounded-full bg-blue-600",children:E.jsx(vi,{className:"h-6 w-6 text-white"})}),E.jsx(qo,{className:"text-2xl font-bold",children:n?"Welcome back":"Get started"}),E.jsx(KP,{className:"text-gray-600",children:n?"Sign in to your E-mesg account":"Smart conversation starts here"})]}),E.jsxs(fs,{className:"space-y-4",children:[E.jsxs(Rt,{variant:"outline",className:"w-full",onClick:x,disabled:p,children:[E.jsx(d4,{className:"mr-2 h-4 w-4"}),"Continue with Google"]}),E.jsxs("div",{className:"relative",children:[E.jsx(t4,{}),E.jsx("span",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 bg-background px-2 text-xs text-muted-foreground",children:"or continue with email"})]}),E.jsxs("form",{onSubmit:I,className:"space-y-4",children:[!n&&E.jsxs("div",{className:"relative",children:[E.jsx(By,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400"}),E.jsx(wa,{type:"text",placeholder:"Display name",value:h,onChange:B=>d(B.target.value),className:"pl-10",required:!0})]}),E.jsxs("div",{className:"relative",children:[E.jsx($S,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400"}),E.jsx(wa,{type:"email",placeholder:"Email",value:t,onChange:B=>i(B.target.value),className:"pl-10",required:!0})]}),E.jsxs("div",{className:"relative",children:[E.jsx(E4,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400"}),E.jsx(wa,{type:"password",placeholder:"Password",value:o,onChange:B=>c(B.target.value),className:"pl-10",required:!0,minLength:6})]}),v&&E.jsx("p",{className:"text-sm text-red-600",children:v}),E.jsx(Rt,{type:"submit",className:"w-full",disabled:p,children:p?"Please wait...":n?"Sign In":"Create Account"})]}),E.jsx("div",{className:"text-center",children:E.jsx(Rt,{variant:"link",onClick:e,className:"text-sm",children:n?"Don't have an account? Sign up":"Already have an account? Sign in"})})]})]})})};function nn(n,e,{checkForDefaultPrevented:t=!0}={}){return function(o){if(n==null||n(o),t===!1||!o.defaultPrevented)return e==null?void 0:e(o)}}function $4(n,e){const t=P.createContext(e),i=c=>{const{children:h,...d}=c,p=P.useMemo(()=>d,Object.values(d));return E.jsx(t.Provider,{value:p,children:h})};i.displayName=n+"Provider";function o(c){const h=P.useContext(t);if(h)return h;if(e!==void 0)return e;throw new Error(`\`${c}\` must be used within \`${n}\``)}return[i,o]}function uu(n,e=[]){let t=[];function i(c,h){const d=P.createContext(h),p=t.length;t=[...t,h];const g=w=>{var B;const{scope:T,children:C,...L}=w,I=((B=T==null?void 0:T[n])==null?void 0:B[p])||d,x=P.useMemo(()=>L,Object.values(L));return E.jsx(I.Provider,{value:x,children:C})};g.displayName=c+"Provider";function v(w,T){var I;const C=((I=T==null?void 0:T[n])==null?void 0:I[p])||d,L=P.useContext(C);if(L)return L;if(h!==void 0)return h;throw new Error(`\`${w}\` must be used within \`${c}\``)}return[g,v]}const o=()=>{const c=t.map(h=>P.createContext(h));return function(d){const p=(d==null?void 0:d[n])||c;return P.useMemo(()=>({[`__scope${n}`]:{...d,[n]:p}}),[d,p])}};return o.scopeName=n,[i,X4(o,...e)]}function X4(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const i=n.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(c){const h=i.reduce((d,{useScope:p,scopeName:g})=>{const w=p(c)[`__scope${g}`];return{...d,...w}},{});return P.useMemo(()=>({[`__scope${e.scopeName}`]:h}),[h])}};return t.scopeName=e.scopeName,t}function W4(n){const e=n+"CollectionProvider",[t,i]=uu(e),[o,c]=t(e,{collectionRef:{current:null},itemMap:new Map}),h=I=>{const{scope:x,children:B}=I,X=rs.useRef(null),W=rs.useRef(new Map).current;return E.jsx(o,{scope:x,itemMap:W,collectionRef:X,children:B})};h.displayName=e;const d=n+"CollectionSlot",p=Xc(d),g=rs.forwardRef((I,x)=>{const{scope:B,children:X}=I,W=c(d,B),J=Ur(x,W.collectionRef);return E.jsx(p,{ref:J,children:X})});g.displayName=d;const v=n+"CollectionItemSlot",w="data-radix-collection-item",T=Xc(v),C=rs.forwardRef((I,x)=>{const{scope:B,children:X,...W}=I,J=rs.useRef(null),oe=Ur(x,J),he=c(v,B);return rs.useEffect(()=>(he.itemMap.set(J,{ref:J,...W}),()=>void he.itemMap.delete(J))),E.jsx(T,{[w]:"",ref:oe,children:X})});C.displayName=v;function L(I){const x=c(n+"CollectionConsumer",I);return rs.useCallback(()=>{const X=x.collectionRef.current;if(!X)return[];const W=Array.from(X.querySelectorAll(`[${w}]`));return Array.from(x.itemMap.values()).sort((he,M)=>W.indexOf(he.ref.current)-W.indexOf(M.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:h,Slot:g,ItemSlot:C},L,i]}var Ss=globalThis!=null&&globalThis.document?P.useLayoutEffect:()=>{},Z4=PT[" useId ".trim().toString()]||(()=>{}),J4=0;function jc(n){const[e,t]=P.useState(Z4());return Ss(()=>{t(i=>i??String(J4++))},[n]),n||(e?`radix-${e}`:"")}function Da(n){const e=P.useRef(n);return P.useEffect(()=>{e.current=n}),P.useMemo(()=>(...t)=>{var i;return(i=e.current)==null?void 0:i.call(e,...t)},[])}var eV=PT[" useInsertionEffect ".trim().toString()]||Ss;function Fy({prop:n,defaultProp:e,onChange:t=()=>{},caller:i}){const[o,c,h]=tV({defaultProp:e,onChange:t}),d=n!==void 0,p=d?n:o;{const v=P.useRef(n!==void 0);P.useEffect(()=>{const w=v.current;w!==d&&console.warn(`${i} is changing from ${w?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),v.current=d},[d,i])}const g=P.useCallback(v=>{var w;if(d){const T=nV(v)?v(n):v;T!==n&&((w=h.current)==null||w.call(h,T))}else c(v)},[d,n,c,h]);return[p,g]}function tV({defaultProp:n,onChange:e}){const[t,i]=P.useState(n),o=P.useRef(t),c=P.useRef(e);return eV(()=>{c.current=e},[e]),P.useEffect(()=>{var h;o.current!==t&&((h=c.current)==null||h.call(c,t),o.current=t)},[t,o]),[t,i,c]}function nV(n){return typeof n=="function"}var rV=P.createContext(void 0);function WS(n){const e=P.useContext(rV);return n||e||"ltr"}var jp="rovingFocusGroup.onEntryFocus",iV={bubbles:!1,cancelable:!0},hu="RovingFocusGroup",[Dg,ZS,sV]=W4(hu),[aV,JS]=uu(hu,[sV]),[oV,lV]=aV(hu),eA=P.forwardRef((n,e)=>E.jsx(Dg.Provider,{scope:n.__scopeRovingFocusGroup,children:E.jsx(Dg.Slot,{scope:n.__scopeRovingFocusGroup,children:E.jsx(cV,{...n,ref:e})})}));eA.displayName=hu;var cV=P.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,orientation:i,loop:o=!1,dir:c,currentTabStopId:h,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:p,onEntryFocus:g,preventScrollOnEntryFocus:v=!1,...w}=n,T=P.useRef(null),C=Ur(e,T),L=WS(c),[I,x]=Fy({prop:h,defaultProp:d??null,onChange:p,caller:hu}),[B,X]=P.useState(!1),W=Da(g),J=ZS(t),oe=P.useRef(!1),[he,M]=P.useState(0);return P.useEffect(()=>{const R=T.current;if(R)return R.addEventListener(jp,W),()=>R.removeEventListener(jp,W)},[W]),E.jsx(oV,{scope:t,orientation:i,dir:L,loop:o,currentTabStopId:I,onItemFocus:P.useCallback(R=>x(R),[x]),onItemShiftTab:P.useCallback(()=>X(!0),[]),onFocusableItemAdd:P.useCallback(()=>M(R=>R+1),[]),onFocusableItemRemove:P.useCallback(()=>M(R=>R-1),[]),children:E.jsx(kt.div,{tabIndex:B||he===0?-1:0,"data-orientation":i,...w,ref:C,style:{outline:"none",...n.style},onMouseDown:nn(n.onMouseDown,()=>{oe.current=!0}),onFocus:nn(n.onFocus,R=>{const D=!oe.current;if(R.target===R.currentTarget&&D&&!B){const k=new CustomEvent(jp,iV);if(R.currentTarget.dispatchEvent(k),!k.defaultPrevented){const V=J().filter(Q=>Q.focusable),z=V.find(Q=>Q.active),N=V.find(Q=>Q.id===I),Ke=[z,N,...V].filter(Boolean).map(Q=>Q.ref.current);rA(Ke,v)}}oe.current=!1}),onBlur:nn(n.onBlur,()=>X(!1))})})}),tA="RovingFocusGroupItem",nA=P.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,focusable:i=!0,active:o=!1,tabStopId:c,children:h,...d}=n,p=jc(),g=c||p,v=lV(tA,t),w=v.currentTabStopId===g,T=ZS(t),{onFocusableItemAdd:C,onFocusableItemRemove:L,currentTabStopId:I}=v;return P.useEffect(()=>{if(i)return C(),()=>L()},[i,C,L]),E.jsx(Dg.ItemSlot,{scope:t,id:g,focusable:i,active:o,children:E.jsx(kt.span,{tabIndex:w?0:-1,"data-orientation":v.orientation,...d,ref:e,onMouseDown:nn(n.onMouseDown,x=>{i?v.onItemFocus(g):x.preventDefault()}),onFocus:nn(n.onFocus,()=>v.onItemFocus(g)),onKeyDown:nn(n.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){v.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const B=fV(x,v.orientation,v.dir);if(B!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let W=T().filter(J=>J.focusable).map(J=>J.ref.current);if(B==="last")W.reverse();else if(B==="prev"||B==="next"){B==="prev"&&W.reverse();const J=W.indexOf(x.currentTarget);W=v.loop?dV(W,J+1):W.slice(J+1)}setTimeout(()=>rA(W))}}),children:typeof h=="function"?h({isCurrentTabStop:w,hasTabStop:I!=null}):h})})});nA.displayName=tA;var uV={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function hV(n,e){return e!=="rtl"?n:n==="ArrowLeft"?"ArrowRight":n==="ArrowRight"?"ArrowLeft":n}function fV(n,e,t){const i=hV(n.key,t);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(i))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(i)))return uV[i]}function rA(n,e=!1){const t=document.activeElement;for(const i of n)if(i===t||(i.focus({preventScroll:e}),document.activeElement!==t))return}function dV(n,e){return n.map((t,i)=>n[(e+i)%n.length])}var mV=eA,pV=nA;function gV(n,e){return P.useReducer((t,i)=>e[t][i]??t,n)}var fu=n=>{const{present:e,children:t}=n,i=yV(e),o=typeof t=="function"?t({present:i.isPresent}):P.Children.only(t),c=Ur(i.ref,vV(o));return typeof t=="function"||i.isPresent?P.cloneElement(o,{ref:c}):null};fu.displayName="Presence";function yV(n){const[e,t]=P.useState(),i=P.useRef(null),o=P.useRef(n),c=P.useRef("none"),h=n?"mounted":"unmounted",[d,p]=gV(h,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return P.useEffect(()=>{const g=Qh(i.current);c.current=d==="mounted"?g:"none"},[d]),Ss(()=>{const g=i.current,v=o.current;if(v!==n){const T=c.current,C=Qh(g);n?p("MOUNT"):C==="none"||(g==null?void 0:g.display)==="none"?p("UNMOUNT"):p(v&&T!==C?"ANIMATION_OUT":"UNMOUNT"),o.current=n}},[n,p]),Ss(()=>{if(e){let g;const v=e.ownerDocument.defaultView??window,w=C=>{const I=Qh(i.current).includes(C.animationName);if(C.target===e&&I&&(p("ANIMATION_END"),!o.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",g=v.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},T=C=>{C.target===e&&(c.current=Qh(i.current))};return e.addEventListener("animationstart",T),e.addEventListener("animationcancel",w),e.addEventListener("animationend",w),()=>{v.clearTimeout(g),e.removeEventListener("animationstart",T),e.removeEventListener("animationcancel",w),e.removeEventListener("animationend",w)}}else p("ANIMATION_END")},[e,p]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:P.useCallback(g=>{i.current=g?getComputedStyle(g):null,t(g)},[])}}function Qh(n){return(n==null?void 0:n.animationName)||"none"}function vV(n){var i,o;let e=(i=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(o=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:o.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var dd="Tabs",[_V,B3]=uu(dd,[JS]),iA=JS(),[EV,Hy]=_V(dd),sA=P.forwardRef((n,e)=>{const{__scopeTabs:t,value:i,onValueChange:o,defaultValue:c,orientation:h="horizontal",dir:d,activationMode:p="automatic",...g}=n,v=WS(d),[w,T]=Fy({prop:i,onChange:o,defaultProp:c??"",caller:dd});return E.jsx(EV,{scope:t,baseId:jc(),value:w,onValueChange:T,orientation:h,dir:v,activationMode:p,children:E.jsx(kt.div,{dir:v,"data-orientation":h,...g,ref:e})})});sA.displayName=dd;var aA="TabsList",oA=P.forwardRef((n,e)=>{const{__scopeTabs:t,loop:i=!0,...o}=n,c=Hy(aA,t),h=iA(t);return E.jsx(mV,{asChild:!0,...h,orientation:c.orientation,dir:c.dir,loop:i,children:E.jsx(kt.div,{role:"tablist","aria-orientation":c.orientation,...o,ref:e})})});oA.displayName=aA;var lA="TabsTrigger",cA=P.forwardRef((n,e)=>{const{__scopeTabs:t,value:i,disabled:o=!1,...c}=n,h=Hy(lA,t),d=iA(t),p=fA(h.baseId,i),g=dA(h.baseId,i),v=i===h.value;return E.jsx(pV,{asChild:!0,...d,focusable:!o,active:v,children:E.jsx(kt.button,{type:"button",role:"tab","aria-selected":v,"aria-controls":g,"data-state":v?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:p,...c,ref:e,onMouseDown:nn(n.onMouseDown,w=>{!o&&w.button===0&&w.ctrlKey===!1?h.onValueChange(i):w.preventDefault()}),onKeyDown:nn(n.onKeyDown,w=>{[" ","Enter"].includes(w.key)&&h.onValueChange(i)}),onFocus:nn(n.onFocus,()=>{const w=h.activationMode!=="manual";!v&&!o&&w&&h.onValueChange(i)})})})});cA.displayName=lA;var uA="TabsContent",hA=P.forwardRef((n,e)=>{const{__scopeTabs:t,value:i,forceMount:o,children:c,...h}=n,d=Hy(uA,t),p=fA(d.baseId,i),g=dA(d.baseId,i),v=i===d.value,w=P.useRef(v);return P.useEffect(()=>{const T=requestAnimationFrame(()=>w.current=!1);return()=>cancelAnimationFrame(T)},[]),E.jsx(fu,{present:o||v,children:({present:T})=>E.jsx(kt.div,{"data-state":v?"active":"inactive","data-orientation":d.orientation,role:"tabpanel","aria-labelledby":p,hidden:!T,id:g,tabIndex:0,...h,ref:e,style:{...n.style,animationDuration:w.current?"0s":void 0},children:T&&c})})});hA.displayName=uA;function fA(n,e){return`${n}-trigger-${e}`}function dA(n,e){return`${n}-content-${e}`}var bV=sA,TV=oA,wV=cA,SV=hA;function AV({className:n,...e}){return E.jsx(bV,{"data-slot":"tabs",className:bt("flex flex-col gap-2",n),...e})}function RV({className:n,...e}){return E.jsx(TV,{"data-slot":"tabs-list",className:bt("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",n),...e})}function zp({className:n,...e}){return E.jsx(wV,{"data-slot":"tabs-trigger",className:bt("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),...e})}function Bp({className:n,...e}){return E.jsx(SV,{"data-slot":"tabs-content",className:bt("flex-1 outline-none",n),...e})}var qp={exports:{}},Fp={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fT;function xV(){if(fT)return Fp;fT=1;var n=zf();function e(w,T){return w===T&&(w!==0||1/w===1/T)||w!==w&&T!==T}var t=typeof Object.is=="function"?Object.is:e,i=n.useState,o=n.useEffect,c=n.useLayoutEffect,h=n.useDebugValue;function d(w,T){var C=T(),L=i({inst:{value:C,getSnapshot:T}}),I=L[0].inst,x=L[1];return c(function(){I.value=C,I.getSnapshot=T,p(I)&&x({inst:I})},[w,C,T]),o(function(){return p(I)&&x({inst:I}),w(function(){p(I)&&x({inst:I})})},[w]),h(C),C}function p(w){var T=w.getSnapshot;w=w.value;try{var C=T();return!t(w,C)}catch{return!0}}function g(w,T){return T()}var v=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?g:d;return Fp.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:v,Fp}var dT;function IV(){return dT||(dT=1,qp.exports=xV()),qp.exports}var NV=IV();function CV(){return NV.useSyncExternalStore(DV,()=>!0,()=>!1)}function DV(){return()=>{}}var Gy="Avatar",[OV,q3]=uu(Gy),[MV,mA]=OV(Gy),pA=P.forwardRef((n,e)=>{const{__scopeAvatar:t,...i}=n,[o,c]=P.useState("idle");return E.jsx(MV,{scope:t,imageLoadingStatus:o,onImageLoadingStatusChange:c,children:E.jsx(kt.span,{...i,ref:e})})});pA.displayName=Gy;var gA="AvatarImage",yA=P.forwardRef((n,e)=>{const{__scopeAvatar:t,src:i,onLoadingStatusChange:o=()=>{},...c}=n,h=mA(gA,t),d=kV(i,c),p=Da(g=>{o(g),h.onImageLoadingStatusChange(g)});return Ss(()=>{d!=="idle"&&p(d)},[d,p]),d==="loaded"?E.jsx(kt.img,{...c,ref:e,src:i}):null});yA.displayName=gA;var vA="AvatarFallback",_A=P.forwardRef((n,e)=>{const{__scopeAvatar:t,delayMs:i,...o}=n,c=mA(vA,t),[h,d]=P.useState(i===void 0);return P.useEffect(()=>{if(i!==void 0){const p=window.setTimeout(()=>d(!0),i);return()=>window.clearTimeout(p)}},[i]),h&&c.imageLoadingStatus!=="loaded"?E.jsx(kt.span,{...o,ref:e}):null});_A.displayName=vA;function mT(n,e){return n?e?(n.src!==e&&(n.src=e),n.complete&&n.naturalWidth>0?"loaded":"loading"):"error":"idle"}function kV(n,{referrerPolicy:e,crossOrigin:t}){const i=CV(),o=P.useRef(null),c=i?(o.current||(o.current=new window.Image),o.current):null,[h,d]=P.useState(()=>mT(c,n));return Ss(()=>{d(mT(c,n))},[c,n]),Ss(()=>{const p=w=>()=>{d(w)};if(!c)return;const g=p("loaded"),v=p("error");return c.addEventListener("load",g),c.addEventListener("error",v),e&&(c.referrerPolicy=e),typeof t=="string"&&(c.crossOrigin=t),()=>{c.removeEventListener("load",g),c.removeEventListener("error",v)}},[c,t,e]),h}var PV=pA,VV=yA,LV=_A;function Oa({className:n,...e}){return E.jsx(PV,{"data-slot":"avatar",className:bt("relative flex size-8 shrink-0 overflow-hidden rounded-full",n),...e})}function Ma({className:n,...e}){return E.jsx(VV,{"data-slot":"avatar-image",className:bt("aspect-square size-full",n),...e})}function ka({className:n,...e}){return E.jsx(LV,{"data-slot":"avatar-fallback",className:bt("bg-muted flex size-full items-center justify-center rounded-full",n),...e})}const UV=DS("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Og({className:n,variant:e,asChild:t=!1,...i}){const o=t?IS:"span";return E.jsx(o,{"data-slot":"badge",className:bt(UV({variant:e}),n),...i})}function jV(n,e=globalThis==null?void 0:globalThis.document){const t=Da(n);P.useEffect(()=>{const i=o=>{o.key==="Escape"&&t(o)};return e.addEventListener("keydown",i,{capture:!0}),()=>e.removeEventListener("keydown",i,{capture:!0})},[t,e])}var zV="DismissableLayer",Mg="dismissableLayer.update",BV="dismissableLayer.pointerDownOutside",qV="dismissableLayer.focusOutside",pT,EA=P.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),bA=P.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:c,onInteractOutside:h,onDismiss:d,...p}=n,g=P.useContext(EA),[v,w]=P.useState(null),T=(v==null?void 0:v.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,C]=P.useState({}),L=Ur(e,M=>w(M)),I=Array.from(g.layers),[x]=[...g.layersWithOutsidePointerEventsDisabled].slice(-1),B=I.indexOf(x),X=v?I.indexOf(v):-1,W=g.layersWithOutsidePointerEventsDisabled.size>0,J=X>=B,oe=GV(M=>{const R=M.target,D=[...g.branches].some(k=>k.contains(R));!J||D||(o==null||o(M),h==null||h(M),M.defaultPrevented||d==null||d())},T),he=YV(M=>{const R=M.target;[...g.branches].some(k=>k.contains(R))||(c==null||c(M),h==null||h(M),M.defaultPrevented||d==null||d())},T);return jV(M=>{X===g.layers.size-1&&(i==null||i(M),!M.defaultPrevented&&d&&(M.preventDefault(),d()))},T),P.useEffect(()=>{if(v)return t&&(g.layersWithOutsidePointerEventsDisabled.size===0&&(pT=T.body.style.pointerEvents,T.body.style.pointerEvents="none"),g.layersWithOutsidePointerEventsDisabled.add(v)),g.layers.add(v),gT(),()=>{t&&g.layersWithOutsidePointerEventsDisabled.size===1&&(T.body.style.pointerEvents=pT)}},[v,T,t,g]),P.useEffect(()=>()=>{v&&(g.layers.delete(v),g.layersWithOutsidePointerEventsDisabled.delete(v),gT())},[v,g]),P.useEffect(()=>{const M=()=>C({});return document.addEventListener(Mg,M),()=>document.removeEventListener(Mg,M)},[]),E.jsx(kt.div,{...p,ref:L,style:{pointerEvents:W?J?"auto":"none":void 0,...n.style},onFocusCapture:nn(n.onFocusCapture,he.onFocusCapture),onBlurCapture:nn(n.onBlurCapture,he.onBlurCapture),onPointerDownCapture:nn(n.onPointerDownCapture,oe.onPointerDownCapture)})});bA.displayName=zV;var FV="DismissableLayerBranch",HV=P.forwardRef((n,e)=>{const t=P.useContext(EA),i=P.useRef(null),o=Ur(e,i);return P.useEffect(()=>{const c=i.current;if(c)return t.branches.add(c),()=>{t.branches.delete(c)}},[t.branches]),E.jsx(kt.div,{...n,ref:o})});HV.displayName=FV;function GV(n,e=globalThis==null?void 0:globalThis.document){const t=Da(n),i=P.useRef(!1),o=P.useRef(()=>{});return P.useEffect(()=>{const c=d=>{if(d.target&&!i.current){let p=function(){TA(BV,t,g,{discrete:!0})};const g={originalEvent:d};d.pointerType==="touch"?(e.removeEventListener("click",o.current),o.current=p,e.addEventListener("click",o.current,{once:!0})):p()}else e.removeEventListener("click",o.current);i.current=!1},h=window.setTimeout(()=>{e.addEventListener("pointerdown",c)},0);return()=>{window.clearTimeout(h),e.removeEventListener("pointerdown",c),e.removeEventListener("click",o.current)}},[e,t]),{onPointerDownCapture:()=>i.current=!0}}function YV(n,e=globalThis==null?void 0:globalThis.document){const t=Da(n),i=P.useRef(!1);return P.useEffect(()=>{const o=c=>{c.target&&!i.current&&TA(qV,t,{originalEvent:c},{discrete:!1})};return e.addEventListener("focusin",o),()=>e.removeEventListener("focusin",o)},[e,t]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function gT(){const n=new CustomEvent(Mg);document.dispatchEvent(n)}function TA(n,e,t,{discrete:i}){const o=t.originalEvent.target,c=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&o.addEventListener(n,e,{once:!0}),i?XP(o,c):o.dispatchEvent(c)}var Hp="focusScope.autoFocusOnMount",Gp="focusScope.autoFocusOnUnmount",yT={bubbles:!1,cancelable:!0},KV="FocusScope",wA=P.forwardRef((n,e)=>{const{loop:t=!1,trapped:i=!1,onMountAutoFocus:o,onUnmountAutoFocus:c,...h}=n,[d,p]=P.useState(null),g=Da(o),v=Da(c),w=P.useRef(null),T=Ur(e,I=>p(I)),C=P.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;P.useEffect(()=>{if(i){let I=function(W){if(C.paused||!d)return;const J=W.target;d.contains(J)?w.current=J:is(w.current,{select:!0})},x=function(W){if(C.paused||!d)return;const J=W.relatedTarget;J!==null&&(d.contains(J)||is(w.current,{select:!0}))},B=function(W){if(document.activeElement===document.body)for(const oe of W)oe.removedNodes.length>0&&is(d)};document.addEventListener("focusin",I),document.addEventListener("focusout",x);const X=new MutationObserver(B);return d&&X.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",I),document.removeEventListener("focusout",x),X.disconnect()}}},[i,d,C.paused]),P.useEffect(()=>{if(d){_T.add(C);const I=document.activeElement;if(!d.contains(I)){const B=new CustomEvent(Hp,yT);d.addEventListener(Hp,g),d.dispatchEvent(B),B.defaultPrevented||(QV(JV(SA(d)),{select:!0}),document.activeElement===I&&is(d))}return()=>{d.removeEventListener(Hp,g),setTimeout(()=>{const B=new CustomEvent(Gp,yT);d.addEventListener(Gp,v),d.dispatchEvent(B),B.defaultPrevented||is(I??document.body,{select:!0}),d.removeEventListener(Gp,v),_T.remove(C)},0)}}},[d,g,v,C]);const L=P.useCallback(I=>{if(!t&&!i||C.paused)return;const x=I.key==="Tab"&&!I.altKey&&!I.ctrlKey&&!I.metaKey,B=document.activeElement;if(x&&B){const X=I.currentTarget,[W,J]=$V(X);W&&J?!I.shiftKey&&B===J?(I.preventDefault(),t&&is(W,{select:!0})):I.shiftKey&&B===W&&(I.preventDefault(),t&&is(J,{select:!0})):B===X&&I.preventDefault()}},[t,i,C.paused]);return E.jsx(kt.div,{tabIndex:-1,...h,ref:T,onKeyDown:L})});wA.displayName=KV;function QV(n,{select:e=!1}={}){const t=document.activeElement;for(const i of n)if(is(i,{select:e}),document.activeElement!==t)return}function $V(n){const e=SA(n),t=vT(e,n),i=vT(e.reverse(),n);return[t,i]}function SA(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const o=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||o?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function vT(n,e){for(const t of n)if(!XV(t,{upTo:e}))return t}function XV(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function WV(n){return n instanceof HTMLInputElement&&"select"in n}function is(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&WV(n)&&e&&n.select()}}var _T=ZV();function ZV(){let n=[];return{add(e){const t=n[0];e!==t&&(t==null||t.pause()),n=ET(n,e),n.unshift(e)},remove(e){var t;n=ET(n,e),(t=n[0])==null||t.resume()}}}function ET(n,e){const t=[...n],i=t.indexOf(e);return i!==-1&&t.splice(i,1),t}function JV(n){return n.filter(e=>e.tagName!=="A")}var e6="Portal",AA=P.forwardRef((n,e)=>{var d;const{container:t,...i}=n,[o,c]=P.useState(!1);Ss(()=>c(!0),[]);const h=t||o&&((d=globalThis==null?void 0:globalThis.document)==null?void 0:d.body);return h?QP.createPortal(E.jsx(kt.div,{...i,ref:e}),h):null});AA.displayName=e6;var Yp=0;function t6(){P.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??bT()),document.body.insertAdjacentElement("beforeend",n[1]??bT()),Yp++,()=>{Yp===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Yp--}},[])}function bT(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var Nr=function(){return Nr=Object.assign||function(e){for(var t,i=1,o=arguments.length;i<o;i++){t=arguments[i];for(var c in t)Object.prototype.hasOwnProperty.call(t,c)&&(e[c]=t[c])}return e},Nr.apply(this,arguments)};function RA(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t}function n6(n,e,t){if(t||arguments.length===2)for(var i=0,o=e.length,c;i<o;i++)(c||!(i in e))&&(c||(c=Array.prototype.slice.call(e,0,i)),c[i]=e[i]);return n.concat(c||Array.prototype.slice.call(e))}var ff="right-scroll-bar-position",df="width-before-scroll-bar",r6="with-scroll-bars-hidden",i6="--removed-body-scroll-bar-size";function Kp(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function s6(n,e){var t=P.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(i){var o=t.value;o!==i&&(t.value=i,t.callback(i,o))}}}})[0];return t.callback=e,t.facade}var a6=typeof window<"u"?P.useLayoutEffect:P.useEffect,TT=new WeakMap;function o6(n,e){var t=s6(null,function(i){return n.forEach(function(o){return Kp(o,i)})});return a6(function(){var i=TT.get(t);if(i){var o=new Set(i),c=new Set(n),h=t.current;o.forEach(function(d){c.has(d)||Kp(d,null)}),c.forEach(function(d){o.has(d)||Kp(d,h)})}TT.set(t,n)},[n]),t}function l6(n){return n}function c6(n,e){e===void 0&&(e=l6);var t=[],i=!1,o={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(c){var h=e(c,i);return t.push(h),function(){t=t.filter(function(d){return d!==h})}},assignSyncMedium:function(c){for(i=!0;t.length;){var h=t;t=[],h.forEach(c)}t={push:function(d){return c(d)},filter:function(){return t}}},assignMedium:function(c){i=!0;var h=[];if(t.length){var d=t;t=[],d.forEach(c),h=t}var p=function(){var v=h;h=[],v.forEach(c)},g=function(){return Promise.resolve().then(p)};g(),t={push:function(v){h.push(v),g()},filter:function(v){return h=h.filter(v),t}}}};return o}function u6(n){n===void 0&&(n={});var e=c6(null);return e.options=Nr({async:!0,ssr:!1},n),e}var xA=function(n){var e=n.sideCar,t=RA(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=e.read();if(!i)throw new Error("Sidecar medium not found");return P.createElement(i,Nr({},t))};xA.isSideCarExport=!0;function h6(n,e){return n.useMedium(e),xA}var IA=u6(),Qp=function(){},md=P.forwardRef(function(n,e){var t=P.useRef(null),i=P.useState({onScrollCapture:Qp,onWheelCapture:Qp,onTouchMoveCapture:Qp}),o=i[0],c=i[1],h=n.forwardProps,d=n.children,p=n.className,g=n.removeScrollBar,v=n.enabled,w=n.shards,T=n.sideCar,C=n.noRelative,L=n.noIsolation,I=n.inert,x=n.allowPinchZoom,B=n.as,X=B===void 0?"div":B,W=n.gapMode,J=RA(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),oe=T,he=o6([t,e]),M=Nr(Nr({},J),o);return P.createElement(P.Fragment,null,v&&P.createElement(oe,{sideCar:IA,removeScrollBar:g,shards:w,noRelative:C,noIsolation:L,inert:I,setCallbacks:c,allowPinchZoom:!!x,lockRef:t,gapMode:W}),h?P.cloneElement(P.Children.only(d),Nr(Nr({},M),{ref:he})):P.createElement(X,Nr({},M,{className:p,ref:he}),d))});md.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};md.classNames={fullWidth:df,zeroRight:ff};var f6=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function d6(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=f6();return e&&n.setAttribute("nonce",e),n}function m6(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function p6(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var g6=function(){var n=0,e=null;return{add:function(t){n==0&&(e=d6())&&(m6(e,t),p6(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},y6=function(){var n=g6();return function(e,t){P.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},NA=function(){var n=y6(),e=function(t){var i=t.styles,o=t.dynamic;return n(i,o),null};return e},v6={left:0,top:0,right:0,gap:0},$p=function(n){return parseInt(n||"",10)||0},_6=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],i=e[n==="padding"?"paddingTop":"marginTop"],o=e[n==="padding"?"paddingRight":"marginRight"];return[$p(t),$p(i),$p(o)]},E6=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return v6;var e=_6(n),t=document.documentElement.clientWidth,i=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,i-t+e[2]-e[0])}},b6=NA(),Qo="data-scroll-locked",T6=function(n,e,t,i){var o=n.left,c=n.top,h=n.right,d=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(r6,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(d,"px ").concat(i,`;
  }
  body[`).concat(Qo,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(i,";"),t==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(c,`px;
    padding-right: `).concat(h,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(i,`;
    `),t==="padding"&&"padding-right: ".concat(d,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ff,` {
    right: `).concat(d,"px ").concat(i,`;
  }
  
  .`).concat(df,` {
    margin-right: `).concat(d,"px ").concat(i,`;
  }
  
  .`).concat(ff," .").concat(ff,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(df," .").concat(df,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(Qo,`] {
    `).concat(i6,": ").concat(d,`px;
  }
`)},wT=function(){var n=parseInt(document.body.getAttribute(Qo)||"0",10);return isFinite(n)?n:0},w6=function(){P.useEffect(function(){return document.body.setAttribute(Qo,(wT()+1).toString()),function(){var n=wT()-1;n<=0?document.body.removeAttribute(Qo):document.body.setAttribute(Qo,n.toString())}},[])},S6=function(n){var e=n.noRelative,t=n.noImportant,i=n.gapMode,o=i===void 0?"margin":i;w6();var c=P.useMemo(function(){return E6(o)},[o]);return P.createElement(b6,{styles:T6(c,!e,o,t?"":"!important")})},kg=!1;if(typeof window<"u")try{var $h=Object.defineProperty({},"passive",{get:function(){return kg=!0,!0}});window.addEventListener("test",$h,$h),window.removeEventListener("test",$h,$h)}catch{kg=!1}var Mo=kg?{passive:!1}:!1,A6=function(n){return n.tagName==="TEXTAREA"},CA=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!A6(n)&&t[e]==="visible")},R6=function(n){return CA(n,"overflowY")},x6=function(n){return CA(n,"overflowX")},ST=function(n,e){var t=e.ownerDocument,i=e;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var o=DA(n,i);if(o){var c=OA(n,i),h=c[1],d=c[2];if(h>d)return!0}i=i.parentNode}while(i&&i!==t.body);return!1},I6=function(n){var e=n.scrollTop,t=n.scrollHeight,i=n.clientHeight;return[e,t,i]},N6=function(n){var e=n.scrollLeft,t=n.scrollWidth,i=n.clientWidth;return[e,t,i]},DA=function(n,e){return n==="v"?R6(e):x6(e)},OA=function(n,e){return n==="v"?I6(e):N6(e)},C6=function(n,e){return n==="h"&&e==="rtl"?-1:1},D6=function(n,e,t,i,o){var c=C6(n,window.getComputedStyle(e).direction),h=c*i,d=t.target,p=e.contains(d),g=!1,v=h>0,w=0,T=0;do{var C=OA(n,d),L=C[0],I=C[1],x=C[2],B=I-x-c*L;(L||B)&&DA(n,d)&&(w+=B,T+=L),d=d.parentNode.host||d.parentNode}while(!p&&d!==document.body||p&&(e.contains(d)||e===d));return(v&&Math.abs(w)<1||!v&&Math.abs(T)<1)&&(g=!0),g},Xh=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},AT=function(n){return[n.deltaX,n.deltaY]},RT=function(n){return n&&"current"in n?n.current:n},O6=function(n,e){return n[0]===e[0]&&n[1]===e[1]},M6=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},k6=0,ko=[];function P6(n){var e=P.useRef([]),t=P.useRef([0,0]),i=P.useRef(),o=P.useState(k6++)[0],c=P.useState(NA)[0],h=P.useRef(n);P.useEffect(function(){h.current=n},[n]),P.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(o));var I=n6([n.lockRef.current],(n.shards||[]).map(RT),!0).filter(Boolean);return I.forEach(function(x){return x.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),I.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(o))})}}},[n.inert,n.lockRef.current,n.shards]);var d=P.useCallback(function(I,x){if("touches"in I&&I.touches.length===2||I.type==="wheel"&&I.ctrlKey)return!h.current.allowPinchZoom;var B=Xh(I),X=t.current,W="deltaX"in I?I.deltaX:X[0]-B[0],J="deltaY"in I?I.deltaY:X[1]-B[1],oe,he=I.target,M=Math.abs(W)>Math.abs(J)?"h":"v";if("touches"in I&&M==="h"&&he.type==="range")return!1;var R=ST(M,he);if(!R)return!0;if(R?oe=M:(oe=M==="v"?"h":"v",R=ST(M,he)),!R)return!1;if(!i.current&&"changedTouches"in I&&(W||J)&&(i.current=oe),!oe)return!0;var D=i.current||oe;return D6(D,x,I,D==="h"?W:J)},[]),p=P.useCallback(function(I){var x=I;if(!(!ko.length||ko[ko.length-1]!==c)){var B="deltaY"in x?AT(x):Xh(x),X=e.current.filter(function(oe){return oe.name===x.type&&(oe.target===x.target||x.target===oe.shadowParent)&&O6(oe.delta,B)})[0];if(X&&X.should){x.cancelable&&x.preventDefault();return}if(!X){var W=(h.current.shards||[]).map(RT).filter(Boolean).filter(function(oe){return oe.contains(x.target)}),J=W.length>0?d(x,W[0]):!h.current.noIsolation;J&&x.cancelable&&x.preventDefault()}}},[]),g=P.useCallback(function(I,x,B,X){var W={name:I,delta:x,target:B,should:X,shadowParent:V6(B)};e.current.push(W),setTimeout(function(){e.current=e.current.filter(function(J){return J!==W})},1)},[]),v=P.useCallback(function(I){t.current=Xh(I),i.current=void 0},[]),w=P.useCallback(function(I){g(I.type,AT(I),I.target,d(I,n.lockRef.current))},[]),T=P.useCallback(function(I){g(I.type,Xh(I),I.target,d(I,n.lockRef.current))},[]);P.useEffect(function(){return ko.push(c),n.setCallbacks({onScrollCapture:w,onWheelCapture:w,onTouchMoveCapture:T}),document.addEventListener("wheel",p,Mo),document.addEventListener("touchmove",p,Mo),document.addEventListener("touchstart",v,Mo),function(){ko=ko.filter(function(I){return I!==c}),document.removeEventListener("wheel",p,Mo),document.removeEventListener("touchmove",p,Mo),document.removeEventListener("touchstart",v,Mo)}},[]);var C=n.removeScrollBar,L=n.inert;return P.createElement(P.Fragment,null,L?P.createElement(c,{styles:M6(o)}):null,C?P.createElement(S6,{noRelative:n.noRelative,gapMode:n.gapMode}):null)}function V6(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const L6=h6(IA,P6);var MA=P.forwardRef(function(n,e){return P.createElement(md,Nr({},n,{ref:e,sideCar:L6}))});MA.classNames=md.classNames;var U6=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},Po=new WeakMap,Wh=new WeakMap,Zh={},Xp=0,kA=function(n){return n&&(n.host||kA(n.parentNode))},j6=function(n,e){return e.map(function(t){if(n.contains(t))return t;var i=kA(t);return i&&n.contains(i)?i:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},z6=function(n,e,t,i){var o=j6(e,Array.isArray(n)?n:[n]);Zh[t]||(Zh[t]=new WeakMap);var c=Zh[t],h=[],d=new Set,p=new Set(o),g=function(w){!w||d.has(w)||(d.add(w),g(w.parentNode))};o.forEach(g);var v=function(w){!w||p.has(w)||Array.prototype.forEach.call(w.children,function(T){if(d.has(T))v(T);else try{var C=T.getAttribute(i),L=C!==null&&C!=="false",I=(Po.get(T)||0)+1,x=(c.get(T)||0)+1;Po.set(T,I),c.set(T,x),h.push(T),I===1&&L&&Wh.set(T,!0),x===1&&T.setAttribute(t,"true"),L||T.setAttribute(i,"true")}catch(B){console.error("aria-hidden: cannot operate on ",T,B)}})};return v(e),d.clear(),Xp++,function(){h.forEach(function(w){var T=Po.get(w)-1,C=c.get(w)-1;Po.set(w,T),c.set(w,C),T||(Wh.has(w)||w.removeAttribute(i),Wh.delete(w)),C||w.removeAttribute(t)}),Xp--,Xp||(Po=new WeakMap,Po=new WeakMap,Wh=new WeakMap,Zh={})}},B6=function(n,e,t){t===void 0&&(t="data-aria-hidden");var i=Array.from(Array.isArray(n)?n:[n]),o=U6(n);return o?(i.push.apply(i,Array.from(o.querySelectorAll("[aria-live], script"))),z6(i,o,t,"aria-hidden")):function(){return null}},pd="Dialog",[PA,F3]=uu(pd),[q6,hr]=PA(pd),VA=n=>{const{__scopeDialog:e,children:t,open:i,defaultOpen:o,onOpenChange:c,modal:h=!0}=n,d=P.useRef(null),p=P.useRef(null),[g,v]=Fy({prop:i,defaultProp:o??!1,onChange:c,caller:pd});return E.jsx(q6,{scope:e,triggerRef:d,contentRef:p,contentId:jc(),titleId:jc(),descriptionId:jc(),open:g,onOpenChange:v,onOpenToggle:P.useCallback(()=>v(w=>!w),[v]),modal:h,children:t})};VA.displayName=pd;var LA="DialogTrigger",UA=P.forwardRef((n,e)=>{const{__scopeDialog:t,...i}=n,o=hr(LA,t),c=Ur(e,o.triggerRef);return E.jsx(kt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":Qy(o.open),...i,ref:c,onClick:nn(n.onClick,o.onOpenToggle)})});UA.displayName=LA;var Yy="DialogPortal",[F6,jA]=PA(Yy,{forceMount:void 0}),zA=n=>{const{__scopeDialog:e,forceMount:t,children:i,container:o}=n,c=hr(Yy,e);return E.jsx(F6,{scope:e,forceMount:t,children:P.Children.map(i,h=>E.jsx(fu,{present:t||c.open,children:E.jsx(AA,{asChild:!0,container:o,children:h})}))})};zA.displayName=Yy;var Lf="DialogOverlay",BA=P.forwardRef((n,e)=>{const t=jA(Lf,n.__scopeDialog),{forceMount:i=t.forceMount,...o}=n,c=hr(Lf,n.__scopeDialog);return c.modal?E.jsx(fu,{present:i||c.open,children:E.jsx(G6,{...o,ref:e})}):null});BA.displayName=Lf;var H6=Xc("DialogOverlay.RemoveScroll"),G6=P.forwardRef((n,e)=>{const{__scopeDialog:t,...i}=n,o=hr(Lf,t);return E.jsx(MA,{as:H6,allowPinchZoom:!0,shards:[o.contentRef],children:E.jsx(kt.div,{"data-state":Qy(o.open),...i,ref:e,style:{pointerEvents:"auto",...i.style}})})}),Pa="DialogContent",qA=P.forwardRef((n,e)=>{const t=jA(Pa,n.__scopeDialog),{forceMount:i=t.forceMount,...o}=n,c=hr(Pa,n.__scopeDialog);return E.jsx(fu,{present:i||c.open,children:c.modal?E.jsx(Y6,{...o,ref:e}):E.jsx(K6,{...o,ref:e})})});qA.displayName=Pa;var Y6=P.forwardRef((n,e)=>{const t=hr(Pa,n.__scopeDialog),i=P.useRef(null),o=Ur(e,t.contentRef,i);return P.useEffect(()=>{const c=i.current;if(c)return B6(c)},[]),E.jsx(FA,{...n,ref:o,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:nn(n.onCloseAutoFocus,c=>{var h;c.preventDefault(),(h=t.triggerRef.current)==null||h.focus()}),onPointerDownOutside:nn(n.onPointerDownOutside,c=>{const h=c.detail.originalEvent,d=h.button===0&&h.ctrlKey===!0;(h.button===2||d)&&c.preventDefault()}),onFocusOutside:nn(n.onFocusOutside,c=>c.preventDefault())})}),K6=P.forwardRef((n,e)=>{const t=hr(Pa,n.__scopeDialog),i=P.useRef(!1),o=P.useRef(!1);return E.jsx(FA,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:c=>{var h,d;(h=n.onCloseAutoFocus)==null||h.call(n,c),c.defaultPrevented||(i.current||(d=t.triggerRef.current)==null||d.focus(),c.preventDefault()),i.current=!1,o.current=!1},onInteractOutside:c=>{var p,g;(p=n.onInteractOutside)==null||p.call(n,c),c.defaultPrevented||(i.current=!0,c.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const h=c.target;((g=t.triggerRef.current)==null?void 0:g.contains(h))&&c.preventDefault(),c.detail.originalEvent.type==="focusin"&&o.current&&c.preventDefault()}})}),FA=P.forwardRef((n,e)=>{const{__scopeDialog:t,trapFocus:i,onOpenAutoFocus:o,onCloseAutoFocus:c,...h}=n,d=hr(Pa,t),p=P.useRef(null),g=Ur(e,p);return t6(),E.jsxs(E.Fragment,{children:[E.jsx(wA,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:o,onUnmountAutoFocus:c,children:E.jsx(bA,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":Qy(d.open),...h,ref:g,onDismiss:()=>d.onOpenChange(!1)})}),E.jsxs(E.Fragment,{children:[E.jsx($6,{titleId:d.titleId}),E.jsx(W6,{contentRef:p,descriptionId:d.descriptionId})]})]})}),Ky="DialogTitle",HA=P.forwardRef((n,e)=>{const{__scopeDialog:t,...i}=n,o=hr(Ky,t);return E.jsx(kt.h2,{id:o.titleId,...i,ref:e})});HA.displayName=Ky;var GA="DialogDescription",Q6=P.forwardRef((n,e)=>{const{__scopeDialog:t,...i}=n,o=hr(GA,t);return E.jsx(kt.p,{id:o.descriptionId,...i,ref:e})});Q6.displayName=GA;var YA="DialogClose",KA=P.forwardRef((n,e)=>{const{__scopeDialog:t,...i}=n,o=hr(YA,t);return E.jsx(kt.button,{type:"button",...i,ref:e,onClick:nn(n.onClick,()=>o.onOpenChange(!1))})});KA.displayName=YA;function Qy(n){return n?"open":"closed"}var QA="DialogTitleWarning",[H3,$A]=$4(QA,{contentName:Pa,titleName:Ky,docsSlug:"dialog"}),$6=({titleId:n})=>{const e=$A(QA),t=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return P.useEffect(()=>{n&&(document.getElementById(n)||console.error(t))},[t,n]),null},X6="DialogDescriptionWarning",W6=({contentRef:n,descriptionId:e})=>{const i=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${$A(X6).contentName}}.`;return P.useEffect(()=>{var c;const o=(c=n.current)==null?void 0:c.getAttribute("aria-describedby");e&&o&&(document.getElementById(e)||console.warn(i))},[i,n,e]),null},Z6=VA,J6=UA,eL=zA,tL=BA,nL=qA,rL=HA,iL=KA;function sL({...n}){return E.jsx(Z6,{"data-slot":"dialog",...n})}function aL({...n}){return E.jsx(J6,{"data-slot":"dialog-trigger",...n})}function oL({...n}){return E.jsx(eL,{"data-slot":"dialog-portal",...n})}function lL({className:n,...e}){return E.jsx(tL,{"data-slot":"dialog-overlay",className:bt("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",n),...e})}function cL({className:n,children:e,...t}){return E.jsxs(oL,{"data-slot":"dialog-portal",children:[E.jsx(lL,{}),E.jsxs(nL,{"data-slot":"dialog-content",className:bt("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",n),...t,children:[e,E.jsxs(iL,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[E.jsx(Y4,{}),E.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function uL({className:n,...e}){return E.jsx("div",{"data-slot":"dialog-header",className:bt("flex flex-col gap-2 text-center sm:text-left",n),...e})}function hL({className:n,...e}){return E.jsx(rL,{"data-slot":"dialog-title",className:bt("text-lg leading-none font-semibold",n),...e})}const fL=({onChatCreated:n})=>{const{currentUser:e,userProfile:t}=Ds(),[i,o]=P.useState(!1),[c,h]=P.useState(""),[d,p]=P.useState([]),[g,v]=P.useState(!1),[w,T]=P.useState(!1);P.useEffect(()=>{i&&c.trim()?C():c.trim()||p([])},[c,i]);const C=async()=>{if(c.trim()){v(!0);try{const x=$c(pi(Sn,"users"),us("displayName",">=",c),us("displayName","<=",c+"")),B=await qM(x),X=[];B.forEach(W=>{const J=W.data();W.id!==(e==null?void 0:e.uid)&&X.push({uid:W.id,email:J.email,displayName:J.displayName,photoURL:J.photoURL})}),p(X)}catch(x){console.error("Error searching users:",x)}finally{v(!1)}}},L=async x=>{if(!(!e||!t)){T(!0);try{const B={participants:[e.uid,x.uid],participantDetails:{[e.uid]:{displayName:t.displayName,photoURL:t.photoURL||""},[x.uid]:{displayName:x.displayName,photoURL:x.photoURL||""}},lastMessage:{text:"",senderId:"",timestamp:Ge.now(),type:"text"},unreadCount:0,isGroup:!1,createdAt:Ge.now()},X=await Pf(pi(Sn,"chats"),B);n==null||n(X.id),o(!1),h(""),p([])}catch(B){console.error("Error creating chat:",B)}finally{T(!1)}}},I=x=>x.split(" ").map(B=>B[0]).join("").toUpperCase().slice(0,2);return E.jsxs(sL,{open:i,onOpenChange:o,children:[E.jsx(aL,{asChild:!0,children:E.jsxs(Rt,{className:"w-full",variant:"outline",children:[E.jsx(XS,{className:"mr-2 h-4 w-4"}),"New Chat"]})}),E.jsxs(cL,{className:"sm:max-w-md",children:[E.jsx(uL,{children:E.jsxs(hL,{className:"flex items-center space-x-2",children:[E.jsx(vi,{className:"h-5 w-5"}),E.jsx("span",{children:"Start New Chat"})]})}),E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{className:"relative",children:[E.jsx(hf,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400"}),E.jsx(wa,{placeholder:"Search users by name...",value:c,onChange:x=>h(x.target.value),className:"pl-10"})]}),E.jsx("div",{className:"space-y-2",children:E.jsxs(Rt,{variant:"ghost",className:"w-full justify-start",disabled:!0,children:[E.jsx(qy,{className:"mr-3 h-4 w-4"}),"New Group Chat",E.jsx("span",{className:"ml-auto text-xs text-gray-400",children:"Coming Soon"})]})}),E.jsxs("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:[g&&E.jsxs("div",{className:"text-center py-4",children:[E.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),E.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Searching..."})]}),!g&&c&&d.length===0&&E.jsxs("div",{className:"text-center py-8 text-gray-500",children:[E.jsx(hf,{className:"h-8 w-8 mx-auto mb-2 text-gray-300"}),E.jsx("p",{className:"text-sm",children:"No users found"}),E.jsx("p",{className:"text-xs",children:"Try searching with a different name"})]}),d.map(x=>E.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-50 transition-colors",children:[E.jsxs(Oa,{className:"h-10 w-10",children:[E.jsx(Ma,{src:x.photoURL}),E.jsx(ka,{className:"bg-gray-600 text-white",children:I(x.displayName)})]}),E.jsxs("div",{className:"flex-1 min-w-0",children:[E.jsx("p",{className:"font-medium text-sm text-gray-900",children:x.displayName}),E.jsx("p",{className:"text-xs text-gray-500 truncate",children:x.email})]}),E.jsx(Rt,{size:"sm",onClick:()=>L(x),disabled:w,children:w?E.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):E.jsx(vi,{className:"h-4 w-4"})})]},x.uid))]}),!c&&E.jsxs("div",{className:"text-center py-8 text-gray-500",children:[E.jsx(hf,{className:"h-8 w-8 mx-auto mb-2 text-gray-300"}),E.jsx("p",{className:"text-sm",children:"Search for users to start chatting"}),E.jsx("p",{className:"text-xs",children:"Enter a name in the search box above"})]})]})]})]})},XA=6048e5,dL=864e5,Jh=43200,xT=1440,IT=Symbol.for("constructDateFrom");function Si(n,e){return typeof n=="function"?n(e):n&&typeof n=="object"&&IT in n?n[IT](e):n instanceof Date?new n.constructor(e):new Date(e)}function Qt(n,e){return Si(e||n,n)}let mL={};function du(){return mL}function Wc(n,e){var d,p,g,v;const t=du(),i=(e==null?void 0:e.weekStartsOn)??((p=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:p.weekStartsOn)??t.weekStartsOn??((v=(g=t.locale)==null?void 0:g.options)==null?void 0:v.weekStartsOn)??0,o=Qt(n,e==null?void 0:e.in),c=o.getDay(),h=(c<i?7:0)+c-i;return o.setDate(o.getDate()-h),o.setHours(0,0,0,0),o}function Uf(n,e){return Wc(n,{...e,weekStartsOn:1})}function WA(n,e){const t=Qt(n,e==null?void 0:e.in),i=t.getFullYear(),o=Si(t,0);o.setFullYear(i+1,0,4),o.setHours(0,0,0,0);const c=Uf(o),h=Si(t,0);h.setFullYear(i,0,4),h.setHours(0,0,0,0);const d=Uf(h);return t.getTime()>=c.getTime()?i+1:t.getTime()>=d.getTime()?i:i-1}function jf(n){const e=Qt(n),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+n-+t}function gd(n,...e){const t=Si.bind(null,n||e.find(i=>typeof i=="object"));return e.map(t)}function NT(n,e){const t=Qt(n,e==null?void 0:e.in);return t.setHours(0,0,0,0),t}function pL(n,e,t){const[i,o]=gd(t==null?void 0:t.in,n,e),c=NT(i),h=NT(o),d=+c-jf(c),p=+h-jf(h);return Math.round((d-p)/dL)}function gL(n,e){const t=WA(n,e),i=Si(n,0);return i.setFullYear(t,0,4),i.setHours(0,0,0,0),Uf(i)}function mf(n,e){const t=+Qt(n)-+Qt(e);return t<0?-1:t>0?1:t}function yL(n){return Si(n,Date.now())}function vL(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function _L(n){return!(!vL(n)&&typeof n!="number"||isNaN(+Qt(n)))}function EL(n,e,t){const[i,o]=gd(t==null?void 0:t.in,n,e),c=i.getFullYear()-o.getFullYear(),h=i.getMonth()-o.getMonth();return c*12+h}function bL(n){return e=>{const i=(n?Math[n]:Math.trunc)(e);return i===0?0:i}}function TL(n,e){return+Qt(n)-+Qt(e)}function wL(n,e){const t=Qt(n,e==null?void 0:e.in);return t.setHours(23,59,59,999),t}function SL(n,e){const t=Qt(n,e==null?void 0:e.in),i=t.getMonth();return t.setFullYear(t.getFullYear(),i+1,0),t.setHours(23,59,59,999),t}function AL(n,e){const t=Qt(n,e==null?void 0:e.in);return+wL(t,e)==+SL(t,e)}function RL(n,e,t){const[i,o,c]=gd(t==null?void 0:t.in,n,n,e),h=mf(o,c),d=Math.abs(EL(o,c));if(d<1)return 0;o.getMonth()===1&&o.getDate()>27&&o.setDate(30),o.setMonth(o.getMonth()-h*d);let p=mf(o,c)===-h;AL(i)&&d===1&&mf(i,c)===1&&(p=!1);const g=h*(d-+p);return g===0?0:g}function xL(n,e,t){const i=TL(n,e)/1e3;return bL(t==null?void 0:t.roundingMethod)(i)}function IL(n,e){const t=Qt(n,e==null?void 0:e.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}const NL={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},CL=(n,e,t)=>{let i;const o=NL[n];return typeof o=="string"?i=o:e===1?i=o.one:i=o.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+i:i+" ago":i};function Wp(n){return(e={})=>{const t=e.width?String(e.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}const DL={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},OL={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},ML={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},kL={date:Wp({formats:DL,defaultWidth:"full"}),time:Wp({formats:OL,defaultWidth:"full"}),dateTime:Wp({formats:ML,defaultWidth:"full"})},PL={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},VL=(n,e,t,i)=>PL[n];function wc(n){return(e,t)=>{const i=t!=null&&t.context?String(t.context):"standalone";let o;if(i==="formatting"&&n.formattingValues){const h=n.defaultFormattingWidth||n.defaultWidth,d=t!=null&&t.width?String(t.width):h;o=n.formattingValues[d]||n.formattingValues[h]}else{const h=n.defaultWidth,d=t!=null&&t.width?String(t.width):n.defaultWidth;o=n.values[d]||n.values[h]}const c=n.argumentCallback?n.argumentCallback(e):e;return o[c]}}const LL={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},UL={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},jL={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},zL={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},BL={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},qL={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},FL=(n,e)=>{const t=Number(n),i=t%100;if(i>20||i<10)switch(i%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},HL={ordinalNumber:FL,era:wc({values:LL,defaultWidth:"wide"}),quarter:wc({values:UL,defaultWidth:"wide",argumentCallback:n=>n-1}),month:wc({values:jL,defaultWidth:"wide"}),day:wc({values:zL,defaultWidth:"wide"}),dayPeriod:wc({values:BL,defaultWidth:"wide",formattingValues:qL,defaultFormattingWidth:"wide"})};function Sc(n){return(e,t={})=>{const i=t.width,o=i&&n.matchPatterns[i]||n.matchPatterns[n.defaultMatchWidth],c=e.match(o);if(!c)return null;const h=c[0],d=i&&n.parsePatterns[i]||n.parsePatterns[n.defaultParseWidth],p=Array.isArray(d)?YL(d,w=>w.test(h)):GL(d,w=>w.test(h));let g;g=n.valueCallback?n.valueCallback(p):p,g=t.valueCallback?t.valueCallback(g):g;const v=e.slice(h.length);return{value:g,rest:v}}}function GL(n,e){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&e(n[t]))return t}function YL(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return t}function KL(n){return(e,t={})=>{const i=e.match(n.matchPattern);if(!i)return null;const o=i[0],c=e.match(n.parsePattern);if(!c)return null;let h=n.valueCallback?n.valueCallback(c[0]):c[0];h=t.valueCallback?t.valueCallback(h):h;const d=e.slice(o.length);return{value:h,rest:d}}}const QL=/^(\d+)(th|st|nd|rd)?/i,$L=/\d+/i,XL={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},WL={any:[/^b/i,/^(a|c)/i]},ZL={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},JL={any:[/1/i,/2/i,/3/i,/4/i]},e3={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},t3={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},n3={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},r3={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},i3={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},s3={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},a3={ordinalNumber:KL({matchPattern:QL,parsePattern:$L,valueCallback:n=>parseInt(n,10)}),era:Sc({matchPatterns:XL,defaultMatchWidth:"wide",parsePatterns:WL,defaultParseWidth:"any"}),quarter:Sc({matchPatterns:ZL,defaultMatchWidth:"wide",parsePatterns:JL,defaultParseWidth:"any",valueCallback:n=>n+1}),month:Sc({matchPatterns:e3,defaultMatchWidth:"wide",parsePatterns:t3,defaultParseWidth:"any"}),day:Sc({matchPatterns:n3,defaultMatchWidth:"wide",parsePatterns:r3,defaultParseWidth:"any"}),dayPeriod:Sc({matchPatterns:i3,defaultMatchWidth:"any",parsePatterns:s3,defaultParseWidth:"any"})},ZA={code:"en-US",formatDistance:CL,formatLong:kL,formatRelative:VL,localize:HL,match:a3,options:{weekStartsOn:0,firstWeekContainsDate:1}};function o3(n,e){const t=Qt(n,e==null?void 0:e.in);return pL(t,IL(t))+1}function l3(n,e){const t=Qt(n,e==null?void 0:e.in),i=+Uf(t)-+gL(t);return Math.round(i/XA)+1}function JA(n,e){var v,w,T,C;const t=Qt(n,e==null?void 0:e.in),i=t.getFullYear(),o=du(),c=(e==null?void 0:e.firstWeekContainsDate)??((w=(v=e==null?void 0:e.locale)==null?void 0:v.options)==null?void 0:w.firstWeekContainsDate)??o.firstWeekContainsDate??((C=(T=o.locale)==null?void 0:T.options)==null?void 0:C.firstWeekContainsDate)??1,h=Si((e==null?void 0:e.in)||n,0);h.setFullYear(i+1,0,c),h.setHours(0,0,0,0);const d=Wc(h,e),p=Si((e==null?void 0:e.in)||n,0);p.setFullYear(i,0,c),p.setHours(0,0,0,0);const g=Wc(p,e);return+t>=+d?i+1:+t>=+g?i:i-1}function c3(n,e){var d,p,g,v;const t=du(),i=(e==null?void 0:e.firstWeekContainsDate)??((p=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:p.firstWeekContainsDate)??t.firstWeekContainsDate??((v=(g=t.locale)==null?void 0:g.options)==null?void 0:v.firstWeekContainsDate)??1,o=JA(n,e),c=Si((e==null?void 0:e.in)||n,0);return c.setFullYear(o,0,i),c.setHours(0,0,0,0),Wc(c,e)}function u3(n,e){const t=Qt(n,e==null?void 0:e.in),i=+Wc(t,e)-+c3(t,e);return Math.round(i/XA)+1}function tt(n,e){const t=n<0?"-":"",i=Math.abs(n).toString().padStart(e,"0");return t+i}const ns={y(n,e){const t=n.getFullYear(),i=t>0?t:1-t;return tt(e==="yy"?i%100:i,e.length)},M(n,e){const t=n.getMonth();return e==="M"?String(t+1):tt(t+1,2)},d(n,e){return tt(n.getDate(),e.length)},a(n,e){const t=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(n,e){return tt(n.getHours()%12||12,e.length)},H(n,e){return tt(n.getHours(),e.length)},m(n,e){return tt(n.getMinutes(),e.length)},s(n,e){return tt(n.getSeconds(),e.length)},S(n,e){const t=e.length,i=n.getMilliseconds(),o=Math.trunc(i*Math.pow(10,t-3));return tt(o,e.length)}},Vo={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},CT={G:function(n,e,t){const i=n.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(i,{width:"abbreviated"});case"GGGGG":return t.era(i,{width:"narrow"});case"GGGG":default:return t.era(i,{width:"wide"})}},y:function(n,e,t){if(e==="yo"){const i=n.getFullYear(),o=i>0?i:1-i;return t.ordinalNumber(o,{unit:"year"})}return ns.y(n,e)},Y:function(n,e,t,i){const o=JA(n,i),c=o>0?o:1-o;if(e==="YY"){const h=c%100;return tt(h,2)}return e==="Yo"?t.ordinalNumber(c,{unit:"year"}):tt(c,e.length)},R:function(n,e){const t=WA(n);return tt(t,e.length)},u:function(n,e){const t=n.getFullYear();return tt(t,e.length)},Q:function(n,e,t){const i=Math.ceil((n.getMonth()+1)/3);switch(e){case"Q":return String(i);case"QQ":return tt(i,2);case"Qo":return t.ordinalNumber(i,{unit:"quarter"});case"QQQ":return t.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(i,{width:"wide",context:"formatting"})}},q:function(n,e,t){const i=Math.ceil((n.getMonth()+1)/3);switch(e){case"q":return String(i);case"qq":return tt(i,2);case"qo":return t.ordinalNumber(i,{unit:"quarter"});case"qqq":return t.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(i,{width:"wide",context:"standalone"})}},M:function(n,e,t){const i=n.getMonth();switch(e){case"M":case"MM":return ns.M(n,e);case"Mo":return t.ordinalNumber(i+1,{unit:"month"});case"MMM":return t.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(i,{width:"wide",context:"formatting"})}},L:function(n,e,t){const i=n.getMonth();switch(e){case"L":return String(i+1);case"LL":return tt(i+1,2);case"Lo":return t.ordinalNumber(i+1,{unit:"month"});case"LLL":return t.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(i,{width:"wide",context:"standalone"})}},w:function(n,e,t,i){const o=u3(n,i);return e==="wo"?t.ordinalNumber(o,{unit:"week"}):tt(o,e.length)},I:function(n,e,t){const i=l3(n);return e==="Io"?t.ordinalNumber(i,{unit:"week"}):tt(i,e.length)},d:function(n,e,t){return e==="do"?t.ordinalNumber(n.getDate(),{unit:"date"}):ns.d(n,e)},D:function(n,e,t){const i=o3(n);return e==="Do"?t.ordinalNumber(i,{unit:"dayOfYear"}):tt(i,e.length)},E:function(n,e,t){const i=n.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(i,{width:"short",context:"formatting"});case"EEEE":default:return t.day(i,{width:"wide",context:"formatting"})}},e:function(n,e,t,i){const o=n.getDay(),c=(o-i.weekStartsOn+8)%7||7;switch(e){case"e":return String(c);case"ee":return tt(c,2);case"eo":return t.ordinalNumber(c,{unit:"day"});case"eee":return t.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(o,{width:"short",context:"formatting"});case"eeee":default:return t.day(o,{width:"wide",context:"formatting"})}},c:function(n,e,t,i){const o=n.getDay(),c=(o-i.weekStartsOn+8)%7||7;switch(e){case"c":return String(c);case"cc":return tt(c,e.length);case"co":return t.ordinalNumber(c,{unit:"day"});case"ccc":return t.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(o,{width:"narrow",context:"standalone"});case"cccccc":return t.day(o,{width:"short",context:"standalone"});case"cccc":default:return t.day(o,{width:"wide",context:"standalone"})}},i:function(n,e,t){const i=n.getDay(),o=i===0?7:i;switch(e){case"i":return String(o);case"ii":return tt(o,e.length);case"io":return t.ordinalNumber(o,{unit:"day"});case"iii":return t.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(i,{width:"short",context:"formatting"});case"iiii":default:return t.day(i,{width:"wide",context:"formatting"})}},a:function(n,e,t){const o=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(n,e,t){const i=n.getHours();let o;switch(i===12?o=Vo.noon:i===0?o=Vo.midnight:o=i/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(n,e,t){const i=n.getHours();let o;switch(i>=17?o=Vo.evening:i>=12?o=Vo.afternoon:i>=4?o=Vo.morning:o=Vo.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(n,e,t){if(e==="ho"){let i=n.getHours()%12;return i===0&&(i=12),t.ordinalNumber(i,{unit:"hour"})}return ns.h(n,e)},H:function(n,e,t){return e==="Ho"?t.ordinalNumber(n.getHours(),{unit:"hour"}):ns.H(n,e)},K:function(n,e,t){const i=n.getHours()%12;return e==="Ko"?t.ordinalNumber(i,{unit:"hour"}):tt(i,e.length)},k:function(n,e,t){let i=n.getHours();return i===0&&(i=24),e==="ko"?t.ordinalNumber(i,{unit:"hour"}):tt(i,e.length)},m:function(n,e,t){return e==="mo"?t.ordinalNumber(n.getMinutes(),{unit:"minute"}):ns.m(n,e)},s:function(n,e,t){return e==="so"?t.ordinalNumber(n.getSeconds(),{unit:"second"}):ns.s(n,e)},S:function(n,e){return ns.S(n,e)},X:function(n,e,t){const i=n.getTimezoneOffset();if(i===0)return"Z";switch(e){case"X":return OT(i);case"XXXX":case"XX":return ya(i);case"XXXXX":case"XXX":default:return ya(i,":")}},x:function(n,e,t){const i=n.getTimezoneOffset();switch(e){case"x":return OT(i);case"xxxx":case"xx":return ya(i);case"xxxxx":case"xxx":default:return ya(i,":")}},O:function(n,e,t){const i=n.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+DT(i,":");case"OOOO":default:return"GMT"+ya(i,":")}},z:function(n,e,t){const i=n.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+DT(i,":");case"zzzz":default:return"GMT"+ya(i,":")}},t:function(n,e,t){const i=Math.trunc(+n/1e3);return tt(i,e.length)},T:function(n,e,t){return tt(+n,e.length)}};function DT(n,e=""){const t=n>0?"-":"+",i=Math.abs(n),o=Math.trunc(i/60),c=i%60;return c===0?t+String(o):t+String(o)+e+tt(c,2)}function OT(n,e){return n%60===0?(n>0?"-":"+")+tt(Math.abs(n)/60,2):ya(n,e)}function ya(n,e=""){const t=n>0?"-":"+",i=Math.abs(n),o=tt(Math.trunc(i/60),2),c=tt(i%60,2);return t+o+e+c}const MT=(n,e)=>{switch(n){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},eR=(n,e)=>{switch(n){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},h3=(n,e)=>{const t=n.match(/(P+)(p+)?/)||[],i=t[1],o=t[2];if(!o)return MT(n,e);let c;switch(i){case"P":c=e.dateTime({width:"short"});break;case"PP":c=e.dateTime({width:"medium"});break;case"PPP":c=e.dateTime({width:"long"});break;case"PPPP":default:c=e.dateTime({width:"full"});break}return c.replace("{{date}}",MT(i,e)).replace("{{time}}",eR(o,e))},f3={p:eR,P:h3},d3=/^D+$/,m3=/^Y+$/,p3=["D","DD","YY","YYYY"];function g3(n){return d3.test(n)}function y3(n){return m3.test(n)}function v3(n,e,t){const i=_3(n,e,t);if(console.warn(i),p3.includes(n))throw new RangeError(i)}function _3(n,e,t){const i=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${e}\`) for formatting ${i} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const E3=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,b3=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,T3=/^'([^]*?)'?$/,w3=/''/g,S3=/[a-zA-Z]/;function pa(n,e,t){var v,w,T,C;const i=du(),o=i.locale??ZA,c=i.firstWeekContainsDate??((w=(v=i.locale)==null?void 0:v.options)==null?void 0:w.firstWeekContainsDate)??1,h=i.weekStartsOn??((C=(T=i.locale)==null?void 0:T.options)==null?void 0:C.weekStartsOn)??0,d=Qt(n,t==null?void 0:t.in);if(!_L(d))throw new RangeError("Invalid time value");let p=e.match(b3).map(L=>{const I=L[0];if(I==="p"||I==="P"){const x=f3[I];return x(L,o.formatLong)}return L}).join("").match(E3).map(L=>{if(L==="''")return{isToken:!1,value:"'"};const I=L[0];if(I==="'")return{isToken:!1,value:A3(L)};if(CT[I])return{isToken:!0,value:L};if(I.match(S3))throw new RangeError("Format string contains an unescaped latin alphabet character `"+I+"`");return{isToken:!1,value:L}});o.localize.preprocessor&&(p=o.localize.preprocessor(d,p));const g={firstWeekContainsDate:c,weekStartsOn:h,locale:o};return p.map(L=>{if(!L.isToken)return L.value;const I=L.value;(y3(I)||g3(I))&&v3(I,e,String(n));const x=CT[I[0]];return x(d,I,o.localize,g)}).join("")}function A3(n){const e=n.match(T3);return e?e[1].replace(w3,"'"):n}function R3(n,e,t){const i=du(),o=(t==null?void 0:t.locale)??i.locale??ZA,c=2520,h=mf(n,e);if(isNaN(h))throw new RangeError("Invalid time value");const d=Object.assign({},t,{addSuffix:t==null?void 0:t.addSuffix,comparison:h}),[p,g]=gd(t==null?void 0:t.in,...h>0?[e,n]:[n,e]),v=xL(g,p),w=(jf(g)-jf(p))/1e3,T=Math.round((v-w)/60);let C;if(T<2)return t!=null&&t.includeSeconds?v<5?o.formatDistance("lessThanXSeconds",5,d):v<10?o.formatDistance("lessThanXSeconds",10,d):v<20?o.formatDistance("lessThanXSeconds",20,d):v<40?o.formatDistance("halfAMinute",0,d):v<60?o.formatDistance("lessThanXMinutes",1,d):o.formatDistance("xMinutes",1,d):T===0?o.formatDistance("lessThanXMinutes",1,d):o.formatDistance("xMinutes",T,d);if(T<45)return o.formatDistance("xMinutes",T,d);if(T<90)return o.formatDistance("aboutXHours",1,d);if(T<xT){const L=Math.round(T/60);return o.formatDistance("aboutXHours",L,d)}else{if(T<c)return o.formatDistance("xDays",1,d);if(T<Jh){const L=Math.round(T/xT);return o.formatDistance("xDays",L,d)}else if(T<Jh*2)return C=Math.round(T/Jh),o.formatDistance("aboutXMonths",C,d)}if(C=RL(g,p),C<12){const L=Math.round(T/Jh);return o.formatDistance("xMonths",L,d)}else{const L=C%12,I=Math.trunc(C/12);return L<3?o.formatDistance("aboutXYears",I,d):L<9?o.formatDistance("overXYears",I,d):o.formatDistance("almostXYears",I+1,d)}}function Pg(n,e){return R3(n,yL(n),e)}const x3=({onChatSelect:n})=>{const{currentUser:e}=Ds(),[t,i]=P.useState([]),[o,c]=P.useState(""),[h,d]=P.useState(!0);P.useEffect(()=>{if(!e)return;const T=$c(pi(Sn,"chats"),us("participants","array-contains",e.uid),Lc("lastMessage.timestamp","desc"));return Vf(T,L=>{const I=[];L.forEach(x=>{const B=x.data();I.push({id:x.id,...B})}),i(I),d(!1)})},[e]);const p=t.filter(T=>{var L,I;const C=o.toLowerCase();if(T.isGroup)return(L=T.groupName)==null?void 0:L.toLowerCase().includes(C);{const x=T.participants.find(X=>X!==(e==null?void 0:e.uid)),B=x?T.participantDetails[x]:null;return(I=B==null?void 0:B.displayName)==null?void 0:I.toLowerCase().includes(C)}}),g=T=>{var L;if(T.isGroup)return T.groupName||"Group Chat";const C=T.participants.find(I=>I!==(e==null?void 0:e.uid));return C&&((L=T.participantDetails[C])==null?void 0:L.displayName)||"Unknown User"},v=T=>{var L;if(T.isGroup)return T.groupPhoto;const C=T.participants.find(I=>I!==(e==null?void 0:e.uid));return C?(L=T.participantDetails[C])==null?void 0:L.photoURL:void 0},w=T=>T.split(" ").map(C=>C[0]).join("").toUpperCase().slice(0,2);return h?E.jsx("div",{className:"p-4",children:E.jsx("div",{className:"space-y-3",children:[1,2,3].map(T=>E.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-lg animate-pulse",children:[E.jsx("div",{className:"h-12 w-12 bg-gray-200 rounded-full"}),E.jsxs("div",{className:"flex-1 space-y-2",children:[E.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),E.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})]},T))})}):E.jsxs("div",{className:"flex flex-col h-full",children:[E.jsx("div",{className:"p-4 border-b border-gray-200",children:E.jsxs("div",{className:"relative",children:[E.jsx(hf,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400"}),E.jsx(wa,{placeholder:"Search chats...",value:o,onChange:T=>c(T.target.value),className:"pl-10"})]})}),E.jsx("div",{className:"p-4",children:E.jsx(fL,{onChatCreated:n?T=>{console.log("New chat created:",T)}:void 0})}),E.jsx("div",{className:"flex-1 overflow-y-auto",children:p.length===0?E.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center p-8",children:[E.jsx(vi,{className:"h-12 w-12 text-gray-300 mb-4"}),E.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No chats yet"}),E.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Start a new conversation to see your chats here"}),E.jsx(Rt,{variant:"outline",size:"sm",children:"Start Chatting"})]}):E.jsx("div",{className:"space-y-1 p-2",children:p.map(T=>{var C,L,I;return E.jsxs("div",{onClick:()=>n==null?void 0:n(T),className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-50 cursor-pointer transition-colors",children:[E.jsxs(Oa,{className:"h-12 w-12",children:[E.jsx(Ma,{src:v(T)}),E.jsx(ka,{className:"bg-blue-600 text-white",children:w(g(T))})]}),E.jsxs("div",{className:"flex-1 min-w-0",children:[E.jsxs("div",{className:"flex items-center justify-between mb-1",children:[E.jsx("h4",{className:"text-sm font-medium text-gray-900 truncate",children:g(T)}),E.jsx("span",{className:"text-xs text-gray-500",children:T.lastMessage&&Pg(T.lastMessage.timestamp.toDate(),{addSuffix:!0})})]}),E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsx("p",{className:"text-sm text-gray-600 truncate",children:((C=T.lastMessage)==null?void 0:C.type)==="image"?"📷 Image":((L=T.lastMessage)==null?void 0:L.type)==="file"?"📁 File":((I=T.lastMessage)==null?void 0:I.text)||"No messages yet"}),T.unreadCount>0&&E.jsx(Og,{variant:"default",className:"bg-blue-600 text-white text-xs",children:T.unreadCount})]})]})]},T.id)})})})]})},I3=()=>{const{currentUser:n,userProfile:e}=Ds(),[t,i]=P.useState([]),[o,c]=P.useState([]),[h,d]=P.useState(!0),[p,g]=P.useState("");P.useEffect(()=>{if(!n)return;const x=$c(pi(Sn,"statuses"),us("userId","!=",n.uid),us("expiresAt",">",new Date),Lc("userId"),Lc("timestamp","desc")),B=$c(pi(Sn,"statuses"),us("userId","==",n.uid),us("expiresAt",">",new Date),Lc("timestamp","desc")),X=Vf(x,J=>{const oe=[];J.forEach(he=>{oe.push({id:he.id,...he.data()})}),i(oe)}),W=Vf(B,J=>{const oe=[];J.forEach(he=>{oe.push({id:he.id,...he.data()})}),c(oe),d(!1)});return()=>{X(),W()}},[n]);const v=async()=>{if(!p.trim()||!n||!e)return;const x=new Date,B=new Date(x.getTime()+24*60*60*1e3);try{await Pf(pi(Sn,"statuses"),{userId:n.uid,userDetails:{displayName:e.displayName,photoURL:e.photoURL||""},content:{type:"text",text:p},timestamp:Ge.fromDate(x),expiresAt:Ge.fromDate(B),viewers:[]}),g("")}catch(X){console.error("Error adding status:",X)}},w=async x=>{var J;const B=(J=x.target.files)==null?void 0:J[0];if(!B||!n||!e)return;const X=new Date,W=new Date(X.getTime()+24*60*60*1e3);try{const oe=SS(AS,`statuses/${n.uid}/${Date.now()}_${B.name}`),he=await TS(oe,B),M=await wS(he.ref);await Pf(pi(Sn,"statuses"),{userId:n.uid,userDetails:{displayName:e.displayName,photoURL:e.photoURL||""},content:{type:"image",mediaUrl:M},timestamp:Ge.fromDate(X),expiresAt:Ge.fromDate(W),viewers:[]})}catch(oe){console.error("Error adding image status:",oe)}},T=async x=>{try{await HM(Ko(Sn,"statuses",x))}catch(B){console.error("Error deleting status:",B)}},C=async x=>{!n||x.viewers.includes(n.uid)||console.log(`Viewed status ${x.id}`)},L=x=>x.split(" ").map(B=>B[0]).join("").toUpperCase().slice(0,2),I=t.reduce((x,B)=>(x[B.userId]||(x[B.userId]=[]),x[B.userId].push(B),x),{});return h?E.jsx("div",{className:"p-4",children:E.jsx("div",{className:"space-y-3",children:[1,2,3].map(x=>E.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-lg animate-pulse",children:[E.jsx("div",{className:"h-12 w-12 bg-gray-200 rounded-full"}),E.jsxs("div",{className:"flex-1 space-y-2",children:[E.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),E.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})]},x))})}):E.jsxs("div",{className:"flex flex-col h-full",children:[E.jsxs("div",{className:"p-4 border-b border-gray-200 space-y-4",children:[E.jsx("h3",{className:"font-semibold text-gray-900",children:"My Status"}),E.jsxs("div",{className:"flex items-center space-x-3",children:[E.jsxs("div",{className:"relative",children:[E.jsxs(Oa,{className:"h-12 w-12",children:[E.jsx(Ma,{src:e==null?void 0:e.photoURL}),E.jsx(ka,{className:"bg-blue-600 text-white",children:L((e==null?void 0:e.displayName)||"")})]}),o.length===0&&E.jsx("div",{className:"absolute -bottom-1 -right-1 h-6 w-6 bg-blue-600 rounded-full flex items-center justify-center",children:E.jsx(XS,{className:"h-3 w-3 text-white"})})]}),E.jsxs("div",{className:"flex-1",children:[E.jsx("p",{className:"font-medium text-sm",children:e==null?void 0:e.displayName}),E.jsx("p",{className:"text-xs text-gray-500",children:o.length>0?`${o.length} status${o.length>1?"es":""}`:"Tap to add status"})]})]}),o.length>0&&E.jsx("div",{className:"space-y-2",children:o.map(x=>E.jsx(hs,{className:"relative",children:E.jsx(fs,{className:"p-3",children:E.jsxs("div",{className:"flex items-start justify-between",children:[E.jsxs("div",{className:"flex-1",children:[x.content.type==="text"?E.jsx("p",{className:"text-sm",children:x.content.text}):E.jsxs("div",{className:"flex items-center space-x-2",children:[E.jsx(lT,{className:"h-4 w-4"}),E.jsx("span",{className:"text-sm",children:"Image"})]}),E.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[E.jsx(QS,{className:"h-3 w-3 text-gray-400"}),E.jsx("span",{className:"text-xs text-gray-500",children:Pg(x.timestamp.toDate(),{addSuffix:!0})}),E.jsx(oT,{className:"h-3 w-3 text-gray-400"}),E.jsx("span",{className:"text-xs text-gray-500",children:x.viewers.length})]})]}),E.jsx(Rt,{variant:"ghost",size:"sm",onClick:()=>T(x.id),className:"text-red-600 hover:text-red-700",children:"Delete"})]})})},x.id))}),E.jsxs("div",{className:"space-y-2",children:[E.jsxs("div",{className:"flex space-x-2",children:[E.jsx("input",{type:"text",placeholder:"Share your thoughts...",value:p,onChange:x=>g(x.target.value),className:"flex-1 px-3 py-2 border border-gray-200 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",onKeyPress:x=>x.key==="Enter"&&v()}),E.jsx(Rt,{onClick:v,disabled:!p.trim(),size:"sm",children:"Post"})]}),E.jsxs("label",{className:"cursor-pointer",children:[E.jsx("input",{type:"file",accept:"image/*",onChange:w,className:"hidden"}),E.jsxs(Rt,{variant:"outline",size:"sm",className:"w-full",children:[E.jsx(lT,{className:"mr-2 h-4 w-4"}),"Add Photo"]})]})]})]}),E.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[E.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Recent updates"}),Object.keys(I).length===0?E.jsxs("div",{className:"text-center py-8",children:[E.jsx(oT,{className:"mx-auto h-12 w-12 text-gray-300 mb-4"}),E.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"No status updates"}),E.jsx("p",{className:"text-sm text-gray-500",children:"Status updates from your contacts will appear here"})]}):E.jsx("div",{className:"space-y-3",children:Object.entries(I).map(([x,B])=>{const X=B[0],W=B.some(J=>!J.viewers.includes((n==null?void 0:n.uid)||""));return E.jsxs("div",{onClick:()=>C(X),className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-50 cursor-pointer",children:[E.jsx("div",{className:"relative",children:E.jsxs(Oa,{className:`h-12 w-12 ${W?"ring-2 ring-blue-500":""}`,children:[E.jsx(Ma,{src:X.userDetails.photoURL}),E.jsx(ka,{className:"bg-gray-600 text-white",children:L(X.userDetails.displayName)})]})}),E.jsxs("div",{className:"flex-1",children:[E.jsx("p",{className:"font-medium text-sm",children:X.userDetails.displayName}),E.jsx("p",{className:"text-xs text-gray-500",children:Pg(X.timestamp.toDate(),{addSuffix:!0})})]}),B.length>1&&E.jsx("span",{className:"text-xs bg-gray-200 text-gray-700 px-2 py-1 rounded-full",children:B.length})]},x)})})]})]})};function N3({className:n,...e}){return E.jsx("textarea",{"data-slot":"textarea",className:bt("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),...e})}var C3="Label",tR=P.forwardRef((n,e)=>E.jsx(kt.label,{...n,ref:e,onMouseDown:t=>{var o;t.target.closest("button, input, select, textarea")||((o=n.onMouseDown)==null||o.call(n,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));tR.displayName=C3;var D3=tR;function Zp({className:n,...e}){return E.jsx(D3,{"data-slot":"label",className:bt("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",n),...e})}const O3=()=>{const{currentUser:n,userProfile:e,updateUserProfile:t}=Ds(),[i,o]=P.useState(!1),[c,h]=P.useState((e==null?void 0:e.displayName)||""),[d,p]=P.useState((e==null?void 0:e.bio)||""),[g,v]=P.useState(!1),[w,T]=P.useState(!1),C=async()=>{if(n){T(!0);try{await t({displayName:c,bio:d}),o(!1)}catch(B){console.error("Error updating profile:",B)}finally{T(!1)}}},L=async B=>{var W;const X=(W=B.target.files)==null?void 0:W[0];if(!(!X||!n)){v(!0);try{const J=SS(AS,`profile-photos/${n.uid}/${Date.now()}_${X.name}`),oe=await TS(J,X),he=await wS(oe.ref);await og(n,{photoURL:he}),await t({photoURL:he})}catch(J){console.error("Error uploading photo:",J)}finally{v(!1)}}},I=B=>B.split(" ").map(X=>X[0]).join("").toUpperCase().slice(0,2),x=()=>{h((e==null?void 0:e.displayName)||""),p((e==null?void 0:e.bio)||""),o(!1)};return!n||!e?E.jsx("div",{className:"p-4",children:E.jsx("div",{className:"text-center",children:E.jsx("p",{className:"text-gray-500",children:"Loading profile..."})})}):E.jsxs("div",{className:"p-4 space-y-6 max-h-full overflow-y-auto",children:[E.jsxs(hs,{children:[E.jsx(Bo,{children:E.jsxs(qo,{className:"flex items-center space-x-2",children:[E.jsx(By,{className:"h-5 w-5"}),E.jsx("span",{children:"Profile Photo"})]})}),E.jsxs(fs,{className:"text-center",children:[E.jsxs("div",{className:"relative inline-block",children:[E.jsxs(Oa,{className:"h-24 w-24 mx-auto mb-4",children:[E.jsx(Ma,{src:e.photoURL}),E.jsx(ka,{className:"bg-blue-600 text-white text-xl",children:I(e.displayName)})]}),E.jsxs("label",{className:"absolute bottom-0 right-0 bg-blue-600 hover:bg-blue-700 text-white rounded-full p-2 cursor-pointer transition-colors",children:[E.jsx(GS,{className:"h-4 w-4"}),E.jsx("input",{type:"file",accept:"image/*",onChange:L,disabled:g,className:"hidden"})]})]}),g&&E.jsx("p",{className:"text-sm text-gray-600",children:"Uploading photo..."})]})]}),E.jsxs(hs,{children:[E.jsx(Bo,{children:E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsxs(qo,{className:"flex items-center space-x-2",children:[E.jsx(cT,{className:"h-5 w-5"}),E.jsx("span",{children:"Profile Information"})]}),!i&&E.jsxs(Rt,{variant:"outline",size:"sm",onClick:()=>o(!0),children:[E.jsx(cT,{className:"h-4 w-4 mr-2"}),"Edit"]})]})}),E.jsxs(fs,{className:"space-y-4",children:[E.jsxs("div",{className:"space-y-2",children:[E.jsx(Zp,{htmlFor:"displayName",className:"text-sm font-medium",children:"Display Name"}),i?E.jsx(wa,{id:"displayName",value:c,onChange:B=>h(B.target.value),placeholder:"Your display name"}):E.jsx("p",{className:"px-3 py-2 bg-gray-50 rounded-md text-sm",children:e.displayName||"No display name set"})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsxs(Zp,{className:"text-sm font-medium flex items-center space-x-2",children:[E.jsx($S,{className:"h-4 w-4"}),E.jsx("span",{children:"Email"})]}),E.jsx("p",{className:"px-3 py-2 bg-gray-50 rounded-md text-sm text-gray-600",children:e.email})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx(Zp,{htmlFor:"bio",className:"text-sm font-medium",children:"Bio"}),i?E.jsx(N3,{id:"bio",value:d,onChange:B=>p(B.target.value),placeholder:"Tell us about yourself...",rows:3,maxLength:150}):E.jsx("p",{className:"px-3 py-2 bg-gray-50 rounded-md text-sm min-h-[80px]",children:e.bio||"No bio added yet"}),i&&E.jsxs("p",{className:"text-xs text-gray-500",children:[d.length,"/150 characters"]})]}),i&&E.jsxs("div",{className:"flex space-x-2 pt-4",children:[E.jsx(Rt,{onClick:C,disabled:w||!c.trim(),className:"flex-1",children:w?E.jsxs(E.Fragment,{children:[E.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):E.jsxs(E.Fragment,{children:[E.jsx(O4,{className:"h-4 w-4 mr-2"}),"Save Changes"]})}),E.jsx(Rt,{variant:"outline",onClick:x,disabled:w,children:"Cancel"})]})]})]}),E.jsxs(hs,{children:[E.jsx(Bo,{children:E.jsx(qo,{children:"Account Information"})}),E.jsxs(fs,{className:"space-y-3 text-sm text-gray-600",children:[E.jsxs("div",{className:"flex justify-between",children:[E.jsx("span",{children:"Member since:"}),E.jsx("span",{children:e.createdAt.toLocaleDateString()})]}),E.jsxs("div",{className:"flex justify-between",children:[E.jsx("span",{children:"Last active:"}),E.jsx("span",{children:e.lastActive.toLocaleDateString()})]}),E.jsxs("div",{className:"flex justify-between",children:[E.jsx("span",{children:"User ID:"}),E.jsxs("span",{className:"font-mono text-xs",children:[n.uid.slice(0,8),"..."]})]})]})]}),E.jsxs(hs,{children:[E.jsx(Bo,{children:E.jsx(qo,{children:"About E-mesg"})}),E.jsxs(fs,{className:"text-sm text-gray-600",children:[E.jsx("p",{className:"mb-2",children:"Smart conversation starts here"}),E.jsx("p",{children:"Version 1.0.0 - Built with React and Firebase"})]})]})]})},M3=()=>{const n=[{icon:vi,title:"Real-time Messaging",description:"Lightning-fast message delivery with Firebase Firestore",items:["Instant synchronization","Offline message queue","Message persistence"]},{icon:qy,title:"Smart Conversations",description:"Enhanced chat experience with modern features",items:["Read receipts (✓ ✓)","Typing indicators","Message timestamps"]},{icon:GS,title:"Status Stories",description:"Share moments that disappear in 24 hours",items:["Text & image posts","Auto-deletion","View tracking"]},{icon:uT,title:"Secure & Private",description:"Built with security and privacy in mind",items:["Firebase Authentication","Secure file storage","Access controls"]},{icon:U4,title:"Responsive Design",description:"Perfect experience on any device",items:["Mobile-first design","Touch-friendly interface","Adaptive layouts"]},{icon:hT,title:"Modern Stack",description:"Built with cutting-edge technologies",items:["React 19 + TypeScript","TailwindCSS V4","Firebase Backend"]}];return E.jsxs("div",{className:"max-w-4xl mx-auto p-6 space-y-8",children:[E.jsxs("div",{className:"text-center space-y-4",children:[E.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[E.jsx("div",{className:"h-12 w-12 bg-blue-600 rounded-full flex items-center justify-center",children:E.jsx(vi,{className:"h-6 w-6 text-white"})}),E.jsxs("div",{children:[E.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"E-mesg"}),E.jsx("p",{className:"text-gray-600",children:"Smart conversation starts here"})]})]}),E.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[E.jsxs(Og,{variant:"secondary",className:"bg-green-100 text-green-800",children:[E.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-2"}),"Live Demo"]}),E.jsxs(Og,{variant:"outline",children:[E.jsx(QS,{className:"w-3 h-3 mr-1"}),"Real-time"]})]})]}),E.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map((e,t)=>{const i=e.icon;return E.jsxs(hs,{className:"h-full hover:shadow-lg transition-shadow",children:[E.jsxs(Bo,{className:"pb-4",children:[E.jsxs("div",{className:"flex items-center space-x-3",children:[E.jsx("div",{className:"p-2 bg-blue-50 rounded-lg",children:E.jsx(i,{className:"h-5 w-5 text-blue-600"})}),E.jsx(qo,{className:"text-lg",children:e.title})]}),E.jsx("p",{className:"text-sm text-gray-600 mt-2",children:e.description})]}),E.jsx(fs,{className:"pt-0",children:E.jsx("ul",{className:"space-y-2",children:e.items.map((o,c)=>E.jsxs("li",{className:"flex items-center text-sm text-gray-700",children:[E.jsx(KS,{className:"h-3 w-3 text-green-500 mr-2 flex-shrink-0"}),E.jsx("span",{children:o})]},c))})})]},t)})}),E.jsx(hs,{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border-blue-200",children:E.jsx(fs,{className:"p-6",children:E.jsxs("div",{className:"text-center space-y-4",children:[E.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Ready to Experience E-mesg?"}),E.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"This is a fully functional messaging app built with React, TypeScript, and Firebase. Create an account, add some friends, and start chatting in real-time!"}),E.jsxs("div",{className:"flex items-center justify-center space-x-6 text-sm text-gray-500",children:[E.jsxs("div",{className:"flex items-center space-x-1",children:[E.jsx(YS,{className:"h-4 w-4 text-green-500"}),E.jsx("span",{children:"Production Ready"})]}),E.jsxs("div",{className:"flex items-center space-x-1",children:[E.jsx(hT,{className:"h-4 w-4 text-yellow-500"}),E.jsx("span",{children:"Real-time Updates"})]}),E.jsxs("div",{className:"flex items-center space-x-1",children:[E.jsx(uT,{className:"h-4 w-4 text-blue-500"}),E.jsx("span",{children:"Secure"})]})]})]})})}),E.jsxs("div",{className:"text-center text-xs text-gray-400 space-y-1",children:[E.jsx("p",{children:"Built with Scout - Version 1.0.0"}),E.jsx("p",{children:"Powered by React 19, Firebase, and TailwindCSS"})]})]})},k3=({onChatSelect:n})=>{const{currentUser:e,userProfile:t,logout:i}=Ds(),[o,c]=P.useState("chats"),h=async()=>{try{await i()}catch(d){console.error("Logout failed:",d)}};return!e||!t?E.jsx("div",{className:"flex min-h-screen items-center justify-center",children:E.jsxs("div",{className:"text-center",children:[E.jsx(vi,{className:"mx-auto mb-4 h-12 w-12 text-blue-600"}),E.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):E.jsxs("div",{className:"flex h-screen bg-gray-50",children:[E.jsxs("div",{className:"w-80 bg-white border-r border-gray-200 flex flex-col",children:[E.jsx("div",{className:"p-4 border-b border-gray-200",children:E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsxs("div",{className:"flex items-center space-x-3",children:[E.jsx("div",{className:"h-10 w-10 bg-blue-600 rounded-full flex items-center justify-center",children:E.jsx(vi,{className:"h-5 w-5 text-white"})}),E.jsxs("div",{children:[E.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"E-mesg"}),E.jsx("p",{className:"text-xs text-gray-500",children:"Smart conversation starts here"})]})]}),E.jsx(Rt,{variant:"ghost",size:"sm",onClick:h,children:E.jsx(T4,{className:"h-4 w-4"})})]})}),E.jsxs(AV,{value:o,onValueChange:c,className:"flex-1 flex flex-col",children:[E.jsxs(RV,{className:"grid w-full grid-cols-3 m-4",children:[E.jsxs(zp,{value:"chats",className:"flex items-center space-x-2",children:[E.jsx(vi,{className:"h-4 w-4"}),E.jsx("span",{children:"Chats"})]}),E.jsxs(zp,{value:"status",className:"flex items-center space-x-2",children:[E.jsx(qy,{className:"h-4 w-4"}),E.jsx("span",{children:"Status"})]}),E.jsxs(zp,{value:"profile",className:"flex items-center space-x-2",children:[E.jsx(By,{className:"h-4 w-4"}),E.jsx("span",{children:"Profile"})]})]}),E.jsxs("div",{className:"flex-1 overflow-hidden",children:[E.jsx(Bp,{value:"chats",className:"h-full m-0",children:E.jsx(x3,{onChatSelect:d=>{n==null||n({id:d.id,name:d.isGroup?d.groupName||"Group Chat":(()=>{var g;const p=d.participants.find(v=>v!==(e==null?void 0:e.uid));return p&&((g=d.participantDetails[p])==null?void 0:g.displayName)||"Unknown User"})(),photo:d.isGroup?d.groupPhoto:(()=>{var g;const p=d.participants.find(v=>v!==(e==null?void 0:e.uid));return p?(g=d.participantDetails[p])==null?void 0:g.photoURL:void 0})(),isGroup:d.isGroup,participants:d.participants})}})}),E.jsx(Bp,{value:"status",className:"h-full m-0",children:E.jsx(I3,{})}),E.jsx(Bp,{value:"profile",className:"h-full m-0",children:E.jsx(O3,{})})]})]})]}),E.jsx("div",{className:"flex-1 overflow-auto bg-white",children:E.jsx(M3,{})})]})},P3=({chatId:n,chatName:e,chatPhoto:t,isGroup:i,participants:o,onBack:c})=>{const{currentUser:h,userProfile:d}=Ds(),[p,g]=P.useState([]),[v,w]=P.useState(""),[T,C]=P.useState(!0),[L,I]=P.useState(!1),x=P.useRef(null),B=()=>{var k;(k=x.current)==null||k.scrollIntoView({behavior:"smooth"})};P.useEffect(()=>{B()},[p]),P.useEffect(()=>{if(!n)return;const k=$c(pi(Sn,"messages"),us("chatId","==",n),Lc("timestamp","asc"));return Vf(k,z=>{const N=[];z.forEach(Me=>{N.push({id:Me.id,...Me.data()})}),g(N),C(!1)})},[n]);const X=async()=>{if(!v.trim()||!h||!d)return;const k={chatId:n,senderId:h.uid,senderDetails:{displayName:d.displayName,photoURL:d.photoURL||""},content:{type:"text",text:v.trim()},timestamp:Ge.now(),readBy:[h.uid],reactions:{}};try{await Pf(pi(Sn,"messages"),k),await FM(Ko(Sn,"chats",n),{lastMessage:{text:v.trim(),senderId:h.uid,timestamp:Ge.now(),type:"text"}}),w("")}catch(V){console.error("Error sending message:",V)}},W=k=>{k.key==="Enter"&&!k.shiftKey&&(k.preventDefault(),X())},J=k=>k.split(" ").map(V=>V[0]).join("").toUpperCase().slice(0,2),oe=k=>k.senderId===(h==null?void 0:h.uid)?k.readBy.length>1:k.readBy.includes((h==null?void 0:h.uid)||""),he=k=>{const V=k.toDate(),N=new Date().getTime()-V.getTime(),Me=Math.floor(N/(1e3*60*60*24));return Me===0?pa(V,"HH:mm"):Me===1?`Yesterday ${pa(V,"HH:mm")}`:Me<7?pa(V,"EEEE HH:mm"):pa(V,"dd/MM/yyyy HH:mm")},M=k=>{const V={};return k.forEach(z=>{const N=z.timestamp.toDate(),Me=pa(N,"yyyy-MM-dd");V[Me]||(V[Me]=[]),V[Me].push(z)}),V},R=k=>{const V=new Date(k),N=Math.floor((new Date().getTime()-V.getTime())/(1e3*60*60*24));return N===0?"Today":N===1?"Yesterday":N<7?pa(V,"EEEE"):pa(V,"dd MMMM yyyy")},D=M(p);return E.jsxs("div",{className:"flex flex-col h-full bg-white",children:[E.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 bg-white",children:[E.jsxs("div",{className:"flex items-center space-x-3",children:[E.jsx(Rt,{variant:"ghost",size:"sm",onClick:c,className:"lg:hidden",children:E.jsx(l4,{className:"h-5 w-5"})}),E.jsxs(Oa,{className:"h-10 w-10",children:[E.jsx(Ma,{src:t}),E.jsx(ka,{className:"bg-blue-600 text-white",children:J(e)})]}),E.jsxs("div",{className:"flex-1",children:[E.jsx("h2",{className:"font-semibold text-gray-900",children:e}),E.jsx("p",{className:"text-xs text-gray-500",children:i?`${o.length} members`:"Click here for contact info"})]})]}),E.jsxs("div",{className:"flex items-center space-x-2",children:[E.jsx(Rt,{variant:"ghost",size:"sm",children:E.jsx(N4,{className:"h-5 w-5"})}),E.jsx(Rt,{variant:"ghost",size:"sm",children:E.jsx(H4,{className:"h-5 w-5"})}),E.jsx(Rt,{variant:"ghost",size:"sm",children:E.jsx(g4,{className:"h-5 w-5"})})]})]}),E.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50",children:[T?E.jsx("div",{className:"flex justify-center items-center h-full",children:E.jsx("div",{className:"text-gray-500",children:"Loading messages..."})}):Object.keys(D).length===0?E.jsx("div",{className:"flex flex-col items-center justify-center h-full text-center",children:E.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[E.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No messages yet"}),E.jsx("p",{className:"text-sm text-gray-500",children:"Start the conversation by sending a message below"})]})}):Object.entries(D).map(([k,V])=>E.jsxs("div",{className:"space-y-4",children:[E.jsx("div",{className:"flex justify-center",children:E.jsx("div",{className:"bg-white px-3 py-1 rounded-full text-xs text-gray-600 shadow-sm",children:R(k)})}),V.map(z=>{const N=z.senderId===(h==null?void 0:h.uid),Me=!N&&i;return E.jsxs("div",{className:`flex ${N?"justify-end":"justify-start"} ${Me?"items-end space-x-2":""}`,children:[Me&&E.jsxs(Oa,{className:"h-8 w-8 mb-1",children:[E.jsx(Ma,{src:z.senderDetails.photoURL}),E.jsx(ka,{className:"bg-gray-600 text-white text-xs",children:J(z.senderDetails.displayName)})]}),E.jsxs("div",{className:`max-w-xs lg:max-w-md px-4 py-2 rounded-2xl ${N?"bg-blue-600 text-white":"bg-white text-gray-900 shadow-sm"}`,children:[Me&&E.jsx("p",{className:"text-xs text-gray-600 mb-1",children:z.senderDetails.displayName}),z.content.type==="text"&&E.jsx("p",{className:"text-sm whitespace-pre-wrap",children:z.content.text}),E.jsxs("div",{className:`flex items-center justify-end space-x-1 mt-1 ${N?"text-blue-100":"text-gray-500"}`,children:[E.jsx("span",{className:"text-xs",children:he(z.timestamp)}),N&&E.jsx("div",{className:"flex items-center",children:oe(z)?E.jsx(YS,{className:"h-3 w-3"}):E.jsx(KS,{className:"h-3 w-3"})})]})]})]},z.id)})]},k)),E.jsx("div",{ref:x})]}),E.jsx("div",{className:"p-4 bg-white border-t border-gray-200",children:E.jsxs("div",{className:"flex items-center space-x-2",children:[E.jsx(Rt,{variant:"ghost",size:"sm",children:E.jsx(R4,{className:"h-5 w-5"})}),E.jsxs("div",{className:"flex-1 relative",children:[E.jsx(wa,{value:v,onChange:k=>w(k.target.value),onKeyPress:W,placeholder:"Type a message...",className:"pr-10"}),E.jsx(Rt,{variant:"ghost",size:"sm",className:"absolute right-2 top-1/2 -translate-y-1/2",children:E.jsx(z4,{className:"h-4 w-4"})})]}),E.jsx(Rt,{onClick:X,disabled:!v.trim(),children:E.jsx(P4,{className:"h-4 w-4"})})]})})]})},V3=()=>{const{currentUser:n}=Ds(),[e,t]=P.useState(!0),[i,o]=P.useState(null);return n?i?E.jsx(P3,{chatId:i.id,chatName:i.name,chatPhoto:i.photo,isGroup:i.isGroup,participants:i.participants,onBack:()=>o(null)}):E.jsx(k3,{onChatSelect:o}):E.jsx(Q4,{isLogin:e,onToggle:()=>t(!e)})};function L3(){return E.jsx(aP,{children:E.jsx("div",{className:"h-screen bg-gray-50",children:E.jsx(V3,{})})})}Px.createRoot(document.getElementById("root")).render(E.jsx(P.StrictMode,{children:E.jsx(L3,{})}));
